var $x=Object.defineProperty;var Mf=e=>{throw TypeError(e)};var zx=(e,t,n)=>t in e?$x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var _=(e,t,n)=>zx(e,typeof t!="symbol"?t+"":t,n),jf=(e,t,n)=>t.has(e)||Mf("Cannot "+n);var as=(e,t,n)=>(jf(e,t,"read from private field"),n?n.call(e):t.get(e)),ls=(e,t,n)=>t.has(e)?Mf("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),us=(e,t,n,r)=>(jf(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);function Ux(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function ua(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var rm={exports:{}},ca={},sm={exports:{}},$={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var po=Symbol.for("react.element"),Hx=Symbol.for("react.portal"),Vx=Symbol.for("react.fragment"),Wx=Symbol.for("react.strict_mode"),Yx=Symbol.for("react.profiler"),Gx=Symbol.for("react.provider"),Kx=Symbol.for("react.context"),qx=Symbol.for("react.forward_ref"),Xx=Symbol.for("react.suspense"),Qx=Symbol.for("react.memo"),Jx=Symbol.for("react.lazy"),Of=Symbol.iterator;function Zx(e){return e===null||typeof e!="object"?null:(e=Of&&e[Of]||e["@@iterator"],typeof e=="function"?e:null)}var om={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},im=Object.assign,am={};function ts(e,t,n){this.props=e,this.context=t,this.refs=am,this.updater=n||om}ts.prototype.isReactComponent={};ts.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ts.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function lm(){}lm.prototype=ts.prototype;function Zu(e,t,n){this.props=e,this.context=t,this.refs=am,this.updater=n||om}var ec=Zu.prototype=new lm;ec.constructor=Zu;im(ec,ts.prototype);ec.isPureReactComponent=!0;var Df=Array.isArray,um=Object.prototype.hasOwnProperty,tc={current:null},cm={key:!0,ref:!0,__self:!0,__source:!0};function dm(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)um.call(t,r)&&!cm.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:po,type:e,key:o,ref:i,props:s,_owner:tc.current}}function e_(e,t){return{$$typeof:po,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function nc(e){return typeof e=="object"&&e!==null&&e.$$typeof===po}function t_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Lf=/\/+/g;function Xa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?t_(""+e.key):t.toString(36)}function ei(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case po:case Hx:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Xa(i,0):r,Df(s)?(n="",e!=null&&(n=e.replace(Lf,"$&/")+"/"),ei(s,t,n,"",function(u){return u})):s!=null&&(nc(s)&&(s=e_(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Lf,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",Df(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+Xa(o,a);i+=ei(o,t,n,l,s)}else if(l=Zx(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+Xa(o,a++),i+=ei(o,t,n,l,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function To(e,t,n){if(e==null)return e;var r=[],s=0;return ei(e,r,"","",function(o){return t.call(n,o,s++)}),r}function n_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Le={current:null},ti={transition:null},r_={ReactCurrentDispatcher:Le,ReactCurrentBatchConfig:ti,ReactCurrentOwner:tc};function fm(){throw Error("act(...) is not supported in production builds of React.")}$.Children={map:To,forEach:function(e,t,n){To(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return To(e,function(){t++}),t},toArray:function(e){return To(e,function(t){return t})||[]},only:function(e){if(!nc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};$.Component=ts;$.Fragment=Vx;$.Profiler=Yx;$.PureComponent=Zu;$.StrictMode=Wx;$.Suspense=Xx;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r_;$.act=fm;$.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=im({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=tc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)um.call(t,l)&&!cm.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:po,type:e.type,key:s,ref:o,props:r,_owner:i}};$.createContext=function(e){return e={$$typeof:Kx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Gx,_context:e},e.Consumer=e};$.createElement=dm;$.createFactory=function(e){var t=dm.bind(null,e);return t.type=e,t};$.createRef=function(){return{current:null}};$.forwardRef=function(e){return{$$typeof:qx,render:e}};$.isValidElement=nc;$.lazy=function(e){return{$$typeof:Jx,_payload:{_status:-1,_result:e},_init:n_}};$.memo=function(e,t){return{$$typeof:Qx,type:e,compare:t===void 0?null:t}};$.startTransition=function(e){var t=ti.transition;ti.transition={};try{e()}finally{ti.transition=t}};$.unstable_act=fm;$.useCallback=function(e,t){return Le.current.useCallback(e,t)};$.useContext=function(e){return Le.current.useContext(e)};$.useDebugValue=function(){};$.useDeferredValue=function(e){return Le.current.useDeferredValue(e)};$.useEffect=function(e,t){return Le.current.useEffect(e,t)};$.useId=function(){return Le.current.useId()};$.useImperativeHandle=function(e,t,n){return Le.current.useImperativeHandle(e,t,n)};$.useInsertionEffect=function(e,t){return Le.current.useInsertionEffect(e,t)};$.useLayoutEffect=function(e,t){return Le.current.useLayoutEffect(e,t)};$.useMemo=function(e,t){return Le.current.useMemo(e,t)};$.useReducer=function(e,t,n){return Le.current.useReducer(e,t,n)};$.useRef=function(e){return Le.current.useRef(e)};$.useState=function(e){return Le.current.useState(e)};$.useSyncExternalStore=function(e,t,n){return Le.current.useSyncExternalStore(e,t,n)};$.useTransition=function(){return Le.current.useTransition()};$.version="18.3.1";sm.exports=$;var c=sm.exports;const He=ua(c),rc=Ux({__proto__:null,default:He},[c]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_=c,o_=Symbol.for("react.element"),i_=Symbol.for("react.fragment"),a_=Object.prototype.hasOwnProperty,l_=s_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u_={key:!0,ref:!0,__self:!0,__source:!0};function hm(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)a_.call(t,r)&&!u_.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:o_,type:e,key:o,ref:i,props:s,_owner:l_.current}}ca.Fragment=i_;ca.jsx=hm;ca.jsxs=hm;rm.exports=ca;var h=rm.exports,pm={exports:{}},rt={},mm={exports:{}},gm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,O){var D=A.length;A.push(O);e:for(;0<D;){var Z=D-1>>>1,fe=A[Z];if(0<s(fe,O))A[Z]=O,A[D]=fe,D=Z;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var O=A[0],D=A.pop();if(D!==O){A[0]=D;e:for(var Z=0,fe=A.length,Gt=fe>>>1;Z<Gt;){var N=2*(Z+1)-1,ae=A[N],oe=N+1,ke=A[oe];if(0>s(ae,D))oe<fe&&0>s(ke,ae)?(A[Z]=ke,A[oe]=D,Z=oe):(A[Z]=ae,A[N]=D,Z=N);else if(oe<fe&&0>s(ke,D))A[Z]=ke,A[oe]=D,Z=oe;else break e}}return O}function s(A,O){var D=A.sortIndex-O.sortIndex;return D!==0?D:A.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],u=[],d=1,p=null,f=3,m=!1,S=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(A){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=A)r(u),O.sortIndex=O.expirationTime,t(l,O);else break;O=n(u)}}function x(A){if(y=!1,w(A),!S)if(n(l)!==null)S=!0,Y(C);else{var O=n(u);O!==null&&J(x,O.startTime-A)}}function C(A,O){S=!1,y&&(y=!1,g(T),T=-1),m=!0;var D=f;try{for(w(O),p=n(l);p!==null&&(!(p.expirationTime>O)||A&&!j());){var Z=p.callback;if(typeof Z=="function"){p.callback=null,f=p.priorityLevel;var fe=Z(p.expirationTime<=O);O=e.unstable_now(),typeof fe=="function"?p.callback=fe:p===n(l)&&r(l),w(O)}else r(l);p=n(l)}if(p!==null)var Gt=!0;else{var N=n(u);N!==null&&J(x,N.startTime-O),Gt=!1}return Gt}finally{p=null,f=D,m=!1}}var R=!1,E=null,T=-1,I=5,k=-1;function j(){return!(e.unstable_now()-k<I)}function F(){if(E!==null){var A=e.unstable_now();k=A;var O=!0;try{O=E(!0,A)}finally{O?W():(R=!1,E=null)}}else R=!1}var W;if(typeof v=="function")W=function(){v(F)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,pe=q.port2;q.port1.onmessage=F,W=function(){pe.postMessage(null)}}else W=function(){b(F,0)};function Y(A){E=A,R||(R=!0,W())}function J(A,O){T=b(function(){A(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){S||m||(S=!0,Y(C))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(A){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var D=f;f=O;try{return A()}finally{f=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,O){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var D=f;f=A;try{return O()}finally{f=D}},e.unstable_scheduleCallback=function(A,O,D){var Z=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?Z+D:Z):D=Z,A){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=D+fe,A={id:d++,callback:O,priorityLevel:A,startTime:D,expirationTime:fe,sortIndex:-1},D>Z?(A.sortIndex=D,t(u,A),n(l)===null&&A===n(u)&&(y?(g(T),T=-1):y=!0,J(x,D-Z))):(A.sortIndex=fe,t(l,A),S||m||(S=!0,Y(C))),A},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(A){var O=f;return function(){var D=f;f=O;try{return A.apply(this,arguments)}finally{f=D}}}})(gm);mm.exports=gm;var c_=mm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_=c,nt=c_;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vm=new Set,Fs={};function ur(e,t){zr(e,t),zr(e+"Capture",t)}function zr(e,t){for(Fs[e]=t,e=0;e<t.length;e++)vm.add(t[e])}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hl=Object.prototype.hasOwnProperty,f_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bf={},Ff={};function h_(e){return Hl.call(Ff,e)?!0:Hl.call(Bf,e)?!1:f_.test(e)?Ff[e]=!0:(Bf[e]=!0,!1)}function p_(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function m_(e,t,n,r){if(t===null||typeof t>"u"||p_(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Be(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Te[e]=new Be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Te[t]=new Be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Te[e]=new Be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Te[e]=new Be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Te[e]=new Be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Te[e]=new Be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Te[e]=new Be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Te[e]=new Be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Te[e]=new Be(e,5,!1,e.toLowerCase(),null,!1,!1)});var sc=/[\-:]([a-z])/g;function oc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sc,oc);Te[t]=new Be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sc,oc);Te[t]=new Be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sc,oc);Te[t]=new Be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Te[e]=new Be(e,1,!1,e.toLowerCase(),null,!1,!1)});Te.xlinkHref=new Be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Te[e]=new Be(e,1,!1,e.toLowerCase(),null,!0,!0)});function ic(e,t,n,r){var s=Te.hasOwnProperty(t)?Te[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(m_(t,n,s,r)&&(n=null),r||s===null?h_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var hn=d_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ro=Symbol.for("react.element"),Sr=Symbol.for("react.portal"),xr=Symbol.for("react.fragment"),ac=Symbol.for("react.strict_mode"),Vl=Symbol.for("react.profiler"),ym=Symbol.for("react.provider"),wm=Symbol.for("react.context"),lc=Symbol.for("react.forward_ref"),Wl=Symbol.for("react.suspense"),Yl=Symbol.for("react.suspense_list"),uc=Symbol.for("react.memo"),wn=Symbol.for("react.lazy"),Sm=Symbol.for("react.offscreen"),$f=Symbol.iterator;function cs(e){return e===null||typeof e!="object"?null:(e=$f&&e[$f]||e["@@iterator"],typeof e=="function"?e:null)}var de=Object.assign,Qa;function Ss(e){if(Qa===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Qa=t&&t[1]||""}return`
`+Qa+e}var Ja=!1;function Za(e,t){if(!e||Ja)return"";Ja=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{Ja=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ss(e):""}function g_(e){switch(e.tag){case 5:return Ss(e.type);case 16:return Ss("Lazy");case 13:return Ss("Suspense");case 19:return Ss("SuspenseList");case 0:case 2:case 15:return e=Za(e.type,!1),e;case 11:return e=Za(e.type.render,!1),e;case 1:return e=Za(e.type,!0),e;default:return""}}function Gl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xr:return"Fragment";case Sr:return"Portal";case Vl:return"Profiler";case ac:return"StrictMode";case Wl:return"Suspense";case Yl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wm:return(e.displayName||"Context")+".Consumer";case ym:return(e._context.displayName||"Context")+".Provider";case lc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case uc:return t=e.displayName||null,t!==null?t:Gl(e.type)||"Memo";case wn:t=e._payload,e=e._init;try{return Gl(e(t))}catch{}}return null}function v_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gl(t);case 8:return t===ac?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function jn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function y_(e){var t=xm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ko(e){e._valueTracker||(e._valueTracker=y_(e))}function _m(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=xm(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function xi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Kl(e,t){var n=t.checked;return de({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function zf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=jn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bm(e,t){t=t.checked,t!=null&&ic(e,"checked",t,!1)}function ql(e,t){bm(e,t);var n=jn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Xl(e,t.type,jn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Uf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Xl(e,t,n){(t!=="number"||xi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var xs=Array.isArray;function Nr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+jn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ql(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return de({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Hf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(xs(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:jn(n)}}function Cm(e,t){var n=jn(t.value),r=jn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Vf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Em(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Em(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ao,Tm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ao=Ao||document.createElement("div"),Ao.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ao.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $s(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Cs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},w_=["Webkit","ms","Moz","O"];Object.keys(Cs).forEach(function(e){w_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cs[t]=Cs[e]})});function Rm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Cs.hasOwnProperty(e)&&Cs[e]?(""+t).trim():t+"px"}function km(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Rm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var S_=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zl(e,t){if(t){if(S_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function eu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tu=null;function cc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nu=null,Mr=null,jr=null;function Wf(e){if(e=vo(e)){if(typeof nu!="function")throw Error(P(280));var t=e.stateNode;t&&(t=ma(t),nu(e.stateNode,e.type,t))}}function Am(e){Mr?jr?jr.push(e):jr=[e]:Mr=e}function Pm(){if(Mr){var e=Mr,t=jr;if(jr=Mr=null,Wf(e),t)for(e=0;e<t.length;e++)Wf(t[e])}}function Im(e,t){return e(t)}function Nm(){}var el=!1;function Mm(e,t,n){if(el)return e(t,n);el=!0;try{return Im(e,t,n)}finally{el=!1,(Mr!==null||jr!==null)&&(Nm(),Pm())}}function zs(e,t){var n=e.stateNode;if(n===null)return null;var r=ma(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var ru=!1;if(on)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){ru=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{ru=!1}function x_(e,t,n,r,s,o,i,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Es=!1,_i=null,bi=!1,su=null,__={onError:function(e){Es=!0,_i=e}};function b_(e,t,n,r,s,o,i,a,l){Es=!1,_i=null,x_.apply(__,arguments)}function C_(e,t,n,r,s,o,i,a,l){if(b_.apply(this,arguments),Es){if(Es){var u=_i;Es=!1,_i=null}else throw Error(P(198));bi||(bi=!0,su=u)}}function cr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function jm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yf(e){if(cr(e)!==e)throw Error(P(188))}function E_(e){var t=e.alternate;if(!t){if(t=cr(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Yf(s),e;if(o===r)return Yf(s),t;o=o.sibling}throw Error(P(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function Om(e){return e=E_(e),e!==null?Dm(e):null}function Dm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Dm(e);if(t!==null)return t;e=e.sibling}return null}var Lm=nt.unstable_scheduleCallback,Gf=nt.unstable_cancelCallback,T_=nt.unstable_shouldYield,R_=nt.unstable_requestPaint,me=nt.unstable_now,k_=nt.unstable_getCurrentPriorityLevel,dc=nt.unstable_ImmediatePriority,Bm=nt.unstable_UserBlockingPriority,Ci=nt.unstable_NormalPriority,A_=nt.unstable_LowPriority,Fm=nt.unstable_IdlePriority,da=null,Ft=null;function P_(e){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(da,e,void 0,(e.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:M_,I_=Math.log,N_=Math.LN2;function M_(e){return e>>>=0,e===0?32:31-(I_(e)/N_|0)|0}var Po=64,Io=4194304;function _s(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ei(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=_s(a):(o&=i,o!==0&&(r=_s(o)))}else i=n&~s,i!==0?r=_s(i):o!==0&&(r=_s(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-St(t),s=1<<n,r|=e[n],t&=~s;return r}function j_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function O_(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-St(o),a=1<<i,l=s[i];l===-1?(!(a&n)||a&r)&&(s[i]=j_(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function ou(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $m(){var e=Po;return Po<<=1,!(Po&4194240)&&(Po=64),e}function tl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-St(t),e[t]=n}function D_(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-St(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function fc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-St(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var X=0;function zm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Um,hc,Hm,Vm,Wm,iu=!1,No=[],Tn=null,Rn=null,kn=null,Us=new Map,Hs=new Map,xn=[],L_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kf(e,t){switch(e){case"focusin":case"focusout":Tn=null;break;case"dragenter":case"dragleave":Rn=null;break;case"mouseover":case"mouseout":kn=null;break;case"pointerover":case"pointerout":Us.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hs.delete(t.pointerId)}}function fs(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=vo(t),t!==null&&hc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function B_(e,t,n,r,s){switch(t){case"focusin":return Tn=fs(Tn,e,t,n,r,s),!0;case"dragenter":return Rn=fs(Rn,e,t,n,r,s),!0;case"mouseover":return kn=fs(kn,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Us.set(o,fs(Us.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Hs.set(o,fs(Hs.get(o)||null,e,t,n,r,s)),!0}return!1}function Ym(e){var t=qn(e.target);if(t!==null){var n=cr(t);if(n!==null){if(t=n.tag,t===13){if(t=jm(n),t!==null){e.blockedOn=t,Wm(e.priority,function(){Hm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ni(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=au(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);tu=r,n.target.dispatchEvent(r),tu=null}else return t=vo(n),t!==null&&hc(t),e.blockedOn=n,!1;t.shift()}return!0}function qf(e,t,n){ni(e)&&n.delete(t)}function F_(){iu=!1,Tn!==null&&ni(Tn)&&(Tn=null),Rn!==null&&ni(Rn)&&(Rn=null),kn!==null&&ni(kn)&&(kn=null),Us.forEach(qf),Hs.forEach(qf)}function hs(e,t){e.blockedOn===t&&(e.blockedOn=null,iu||(iu=!0,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,F_)))}function Vs(e){function t(s){return hs(s,e)}if(0<No.length){hs(No[0],e);for(var n=1;n<No.length;n++){var r=No[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Tn!==null&&hs(Tn,e),Rn!==null&&hs(Rn,e),kn!==null&&hs(kn,e),Us.forEach(t),Hs.forEach(t),n=0;n<xn.length;n++)r=xn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<xn.length&&(n=xn[0],n.blockedOn===null);)Ym(n),n.blockedOn===null&&xn.shift()}var Or=hn.ReactCurrentBatchConfig,Ti=!0;function $_(e,t,n,r){var s=X,o=Or.transition;Or.transition=null;try{X=1,pc(e,t,n,r)}finally{X=s,Or.transition=o}}function z_(e,t,n,r){var s=X,o=Or.transition;Or.transition=null;try{X=4,pc(e,t,n,r)}finally{X=s,Or.transition=o}}function pc(e,t,n,r){if(Ti){var s=au(e,t,n,r);if(s===null)dl(e,t,r,Ri,n),Kf(e,r);else if(B_(s,e,t,n,r))r.stopPropagation();else if(Kf(e,r),t&4&&-1<L_.indexOf(e)){for(;s!==null;){var o=vo(s);if(o!==null&&Um(o),o=au(e,t,n,r),o===null&&dl(e,t,r,Ri,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else dl(e,t,r,null,n)}}var Ri=null;function au(e,t,n,r){if(Ri=null,e=cc(r),e=qn(e),e!==null)if(t=cr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=jm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ri=e,null}function Gm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(k_()){case dc:return 1;case Bm:return 4;case Ci:case A_:return 16;case Fm:return 536870912;default:return 16}default:return 16}}var bn=null,mc=null,ri=null;function Km(){if(ri)return ri;var e,t=mc,n=t.length,r,s="value"in bn?bn.value:bn.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return ri=s.slice(e,1<r?1-r:void 0)}function si(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mo(){return!0}function Xf(){return!1}function st(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Mo:Xf,this.isPropagationStopped=Xf,this}return de(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Mo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Mo)},persist:function(){},isPersistent:Mo}),t}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gc=st(ns),go=de({},ns,{view:0,detail:0}),U_=st(go),nl,rl,ps,fa=de({},go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ps&&(ps&&e.type==="mousemove"?(nl=e.screenX-ps.screenX,rl=e.screenY-ps.screenY):rl=nl=0,ps=e),nl)},movementY:function(e){return"movementY"in e?e.movementY:rl}}),Qf=st(fa),H_=de({},fa,{dataTransfer:0}),V_=st(H_),W_=de({},go,{relatedTarget:0}),sl=st(W_),Y_=de({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),G_=st(Y_),K_=de({},ns,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),q_=st(K_),X_=de({},ns,{data:0}),Jf=st(X_),Q_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Z_[e])?!!t[e]:!1}function vc(){return eb}var tb=de({},go,{key:function(e){if(e.key){var t=Q_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=si(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?J_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vc,charCode:function(e){return e.type==="keypress"?si(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?si(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nb=st(tb),rb=de({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zf=st(rb),sb=de({},go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vc}),ob=st(sb),ib=de({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),ab=st(ib),lb=de({},fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ub=st(lb),cb=[9,13,27,32],yc=on&&"CompositionEvent"in window,Ts=null;on&&"documentMode"in document&&(Ts=document.documentMode);var db=on&&"TextEvent"in window&&!Ts,qm=on&&(!yc||Ts&&8<Ts&&11>=Ts),eh=" ",th=!1;function Xm(e,t){switch(e){case"keyup":return cb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _r=!1;function fb(e,t){switch(e){case"compositionend":return Qm(t);case"keypress":return t.which!==32?null:(th=!0,eh);case"textInput":return e=t.data,e===eh&&th?null:e;default:return null}}function hb(e,t){if(_r)return e==="compositionend"||!yc&&Xm(e,t)?(e=Km(),ri=mc=bn=null,_r=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qm&&t.locale!=="ko"?null:t.data;default:return null}}var pb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!pb[e.type]:t==="textarea"}function Jm(e,t,n,r){Am(r),t=ki(t,"onChange"),0<t.length&&(n=new gc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Rs=null,Ws=null;function mb(e){ug(e,0)}function ha(e){var t=Er(e);if(_m(t))return e}function gb(e,t){if(e==="change")return t}var Zm=!1;if(on){var ol;if(on){var il="oninput"in document;if(!il){var rh=document.createElement("div");rh.setAttribute("oninput","return;"),il=typeof rh.oninput=="function"}ol=il}else ol=!1;Zm=ol&&(!document.documentMode||9<document.documentMode)}function sh(){Rs&&(Rs.detachEvent("onpropertychange",eg),Ws=Rs=null)}function eg(e){if(e.propertyName==="value"&&ha(Ws)){var t=[];Jm(t,Ws,e,cc(e)),Mm(mb,t)}}function vb(e,t,n){e==="focusin"?(sh(),Rs=t,Ws=n,Rs.attachEvent("onpropertychange",eg)):e==="focusout"&&sh()}function yb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ha(Ws)}function wb(e,t){if(e==="click")return ha(t)}function Sb(e,t){if(e==="input"||e==="change")return ha(t)}function xb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bt=typeof Object.is=="function"?Object.is:xb;function Ys(e,t){if(bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Hl.call(t,s)||!bt(e[s],t[s]))return!1}return!0}function oh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ih(e,t){var n=oh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=oh(n)}}function tg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?tg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ng(){for(var e=window,t=xi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xi(e.document)}return t}function wc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _b(e){var t=ng(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&tg(n.ownerDocument.documentElement,n)){if(r!==null&&wc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=ih(n,o);var i=ih(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var bb=on&&"documentMode"in document&&11>=document.documentMode,br=null,lu=null,ks=null,uu=!1;function ah(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;uu||br==null||br!==xi(r)||(r=br,"selectionStart"in r&&wc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ks&&Ys(ks,r)||(ks=r,r=ki(lu,"onSelect"),0<r.length&&(t=new gc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}function jo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cr={animationend:jo("Animation","AnimationEnd"),animationiteration:jo("Animation","AnimationIteration"),animationstart:jo("Animation","AnimationStart"),transitionend:jo("Transition","TransitionEnd")},al={},rg={};on&&(rg=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);function pa(e){if(al[e])return al[e];if(!Cr[e])return e;var t=Cr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in rg)return al[e]=t[n];return e}var sg=pa("animationend"),og=pa("animationiteration"),ig=pa("animationstart"),ag=pa("transitionend"),lg=new Map,lh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fn(e,t){lg.set(e,t),ur(t,[e])}for(var ll=0;ll<lh.length;ll++){var ul=lh[ll],Cb=ul.toLowerCase(),Eb=ul[0].toUpperCase()+ul.slice(1);Fn(Cb,"on"+Eb)}Fn(sg,"onAnimationEnd");Fn(og,"onAnimationIteration");Fn(ig,"onAnimationStart");Fn("dblclick","onDoubleClick");Fn("focusin","onFocus");Fn("focusout","onBlur");Fn(ag,"onTransitionEnd");zr("onMouseEnter",["mouseout","mouseover"]);zr("onMouseLeave",["mouseout","mouseover"]);zr("onPointerEnter",["pointerout","pointerover"]);zr("onPointerLeave",["pointerout","pointerover"]);ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ur("onBeforeInput",["compositionend","keypress","textInput","paste"]);ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tb=new Set("cancel close invalid load scroll toggle".split(" ").concat(bs));function uh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,C_(r,t,void 0,e),e.currentTarget=null}function ug(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;uh(s,a,u),o=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;uh(s,a,u),o=l}}}if(bi)throw e=su,bi=!1,su=null,e}function ne(e,t){var n=t[pu];n===void 0&&(n=t[pu]=new Set);var r=e+"__bubble";n.has(r)||(cg(t,e,2,!1),n.add(r))}function cl(e,t,n){var r=0;t&&(r|=4),cg(n,e,r,t)}var Oo="_reactListening"+Math.random().toString(36).slice(2);function Gs(e){if(!e[Oo]){e[Oo]=!0,vm.forEach(function(n){n!=="selectionchange"&&(Tb.has(n)||cl(n,!1,e),cl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Oo]||(t[Oo]=!0,cl("selectionchange",!1,t))}}function cg(e,t,n,r){switch(Gm(t)){case 1:var s=$_;break;case 4:s=z_;break;default:s=pc}n=s.bind(null,t,n,e),s=void 0,!ru||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function dl(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=qn(a),i===null)return;if(l=i.tag,l===5||l===6){r=o=i;continue e}a=a.parentNode}}r=r.return}Mm(function(){var u=o,d=cc(n),p=[];e:{var f=lg.get(e);if(f!==void 0){var m=gc,S=e;switch(e){case"keypress":if(si(n)===0)break e;case"keydown":case"keyup":m=nb;break;case"focusin":S="focus",m=sl;break;case"focusout":S="blur",m=sl;break;case"beforeblur":case"afterblur":m=sl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Qf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=V_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=ob;break;case sg:case og:case ig:m=G_;break;case ag:m=ab;break;case"scroll":m=U_;break;case"wheel":m=ub;break;case"copy":case"cut":case"paste":m=q_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Zf}var y=(t&4)!==0,b=!y&&e==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var v=u,w;v!==null;){w=v;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,g!==null&&(x=zs(v,g),x!=null&&y.push(Ks(v,x,w)))),b)break;v=v.return}0<y.length&&(f=new m(f,S,null,n,d),p.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==tu&&(S=n.relatedTarget||n.fromElement)&&(qn(S)||S[an]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(S=n.relatedTarget||n.toElement,m=u,S=S?qn(S):null,S!==null&&(b=cr(S),S!==b||S.tag!==5&&S.tag!==6)&&(S=null)):(m=null,S=u),m!==S)){if(y=Qf,x="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(y=Zf,x="onPointerLeave",g="onPointerEnter",v="pointer"),b=m==null?f:Er(m),w=S==null?f:Er(S),f=new y(x,v+"leave",m,n,d),f.target=b,f.relatedTarget=w,x=null,qn(d)===u&&(y=new y(g,v+"enter",S,n,d),y.target=w,y.relatedTarget=b,x=y),b=x,m&&S)t:{for(y=m,g=S,v=0,w=y;w;w=pr(w))v++;for(w=0,x=g;x;x=pr(x))w++;for(;0<v-w;)y=pr(y),v--;for(;0<w-v;)g=pr(g),w--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=pr(y),g=pr(g)}y=null}else y=null;m!==null&&ch(p,f,m,y,!1),S!==null&&b!==null&&ch(p,b,S,y,!0)}}e:{if(f=u?Er(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var C=gb;else if(nh(f))if(Zm)C=Sb;else{C=yb;var R=vb}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=wb);if(C&&(C=C(e,u))){Jm(p,C,n,d);break e}R&&R(e,f,u),e==="focusout"&&(R=f._wrapperState)&&R.controlled&&f.type==="number"&&Xl(f,"number",f.value)}switch(R=u?Er(u):window,e){case"focusin":(nh(R)||R.contentEditable==="true")&&(br=R,lu=u,ks=null);break;case"focusout":ks=lu=br=null;break;case"mousedown":uu=!0;break;case"contextmenu":case"mouseup":case"dragend":uu=!1,ah(p,n,d);break;case"selectionchange":if(bb)break;case"keydown":case"keyup":ah(p,n,d)}var E;if(yc)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else _r?Xm(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(qm&&n.locale!=="ko"&&(_r||T!=="onCompositionStart"?T==="onCompositionEnd"&&_r&&(E=Km()):(bn=d,mc="value"in bn?bn.value:bn.textContent,_r=!0)),R=ki(u,T),0<R.length&&(T=new Jf(T,e,null,n,d),p.push({event:T,listeners:R}),E?T.data=E:(E=Qm(n),E!==null&&(T.data=E)))),(E=db?fb(e,n):hb(e,n))&&(u=ki(u,"onBeforeInput"),0<u.length&&(d=new Jf("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=E))}ug(p,t)})}function Ks(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ki(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=zs(e,n),o!=null&&r.unshift(Ks(e,o,s)),o=zs(e,t),o!=null&&r.push(Ks(e,o,s))),e=e.return}return r}function pr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ch(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=zs(n,o),l!=null&&i.unshift(Ks(n,l,a))):s||(l=zs(n,o),l!=null&&i.push(Ks(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Rb=/\r\n?/g,kb=/\u0000|\uFFFD/g;function dh(e){return(typeof e=="string"?e:""+e).replace(Rb,`
`).replace(kb,"")}function Do(e,t,n){if(t=dh(t),dh(e)!==t&&n)throw Error(P(425))}function Ai(){}var cu=null,du=null;function fu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hu=typeof setTimeout=="function"?setTimeout:void 0,Ab=typeof clearTimeout=="function"?clearTimeout:void 0,fh=typeof Promise=="function"?Promise:void 0,Pb=typeof queueMicrotask=="function"?queueMicrotask:typeof fh<"u"?function(e){return fh.resolve(null).then(e).catch(Ib)}:hu;function Ib(e){setTimeout(function(){throw e})}function fl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Vs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Vs(t)}function An(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var rs=Math.random().toString(36).slice(2),jt="__reactFiber$"+rs,qs="__reactProps$"+rs,an="__reactContainer$"+rs,pu="__reactEvents$"+rs,Nb="__reactListeners$"+rs,Mb="__reactHandles$"+rs;function qn(e){var t=e[jt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[an]||n[jt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=hh(e);e!==null;){if(n=e[jt])return n;e=hh(e)}return t}e=n,n=e.parentNode}return null}function vo(e){return e=e[jt]||e[an],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Er(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function ma(e){return e[qs]||null}var mu=[],Tr=-1;function $n(e){return{current:e}}function re(e){0>Tr||(e.current=mu[Tr],mu[Tr]=null,Tr--)}function te(e,t){Tr++,mu[Tr]=e.current,e.current=t}var On={},Me=$n(On),We=$n(!1),tr=On;function Ur(e,t){var n=e.type.contextTypes;if(!n)return On;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ye(e){return e=e.childContextTypes,e!=null}function Pi(){re(We),re(Me)}function ph(e,t,n){if(Me.current!==On)throw Error(P(168));te(Me,t),te(We,n)}function dg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(P(108,v_(e)||"Unknown",s));return de({},n,r)}function Ii(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||On,tr=Me.current,te(Me,e),te(We,We.current),!0}function mh(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=dg(e,t,tr),r.__reactInternalMemoizedMergedChildContext=e,re(We),re(Me),te(Me,e)):re(We),te(We,n)}var Jt=null,ga=!1,hl=!1;function fg(e){Jt===null?Jt=[e]:Jt.push(e)}function jb(e){ga=!0,fg(e)}function zn(){if(!hl&&Jt!==null){hl=!0;var e=0,t=X;try{var n=Jt;for(X=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Jt=null,ga=!1}catch(s){throw Jt!==null&&(Jt=Jt.slice(e+1)),Lm(dc,zn),s}finally{X=t,hl=!1}}return null}var Rr=[],kr=0,Ni=null,Mi=0,it=[],at=0,nr=null,nn=1,rn="";function Gn(e,t){Rr[kr++]=Mi,Rr[kr++]=Ni,Ni=e,Mi=t}function hg(e,t,n){it[at++]=nn,it[at++]=rn,it[at++]=nr,nr=e;var r=nn;e=rn;var s=32-St(r)-1;r&=~(1<<s),n+=1;var o=32-St(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,nn=1<<32-St(t)+s|n<<s|r,rn=o+e}else nn=1<<o|n<<s|r,rn=e}function Sc(e){e.return!==null&&(Gn(e,1),hg(e,1,0))}function xc(e){for(;e===Ni;)Ni=Rr[--kr],Rr[kr]=null,Mi=Rr[--kr],Rr[kr]=null;for(;e===nr;)nr=it[--at],it[at]=null,rn=it[--at],it[at]=null,nn=it[--at],it[at]=null}var et=null,Ze=null,ie=!1,yt=null;function pg(e,t){var n=lt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function gh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,et=e,Ze=An(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,et=e,Ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=nr!==null?{id:nn,overflow:rn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=lt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,et=e,Ze=null,!0):!1;default:return!1}}function gu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vu(e){if(ie){var t=Ze;if(t){var n=t;if(!gh(e,t)){if(gu(e))throw Error(P(418));t=An(n.nextSibling);var r=et;t&&gh(e,t)?pg(r,n):(e.flags=e.flags&-4097|2,ie=!1,et=e)}}else{if(gu(e))throw Error(P(418));e.flags=e.flags&-4097|2,ie=!1,et=e}}}function vh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;et=e}function Lo(e){if(e!==et)return!1;if(!ie)return vh(e),ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fu(e.type,e.memoizedProps)),t&&(t=Ze)){if(gu(e))throw mg(),Error(P(418));for(;t;)pg(e,t),t=An(t.nextSibling)}if(vh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ze=An(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ze=null}}else Ze=et?An(e.stateNode.nextSibling):null;return!0}function mg(){for(var e=Ze;e;)e=An(e.nextSibling)}function Hr(){Ze=et=null,ie=!1}function _c(e){yt===null?yt=[e]:yt.push(e)}var Ob=hn.ReactCurrentBatchConfig;function ms(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function Bo(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yh(e){var t=e._init;return t(e._payload)}function gg(e){function t(g,v){if(e){var w=g.deletions;w===null?(g.deletions=[v],g.flags|=16):w.push(v)}}function n(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=Mn(g,v),g.index=0,g.sibling=null,g}function o(g,v,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<v?(g.flags|=2,v):w):(g.flags|=2,v)):(g.flags|=1048576,v)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,v,w,x){return v===null||v.tag!==6?(v=Sl(w,g.mode,x),v.return=g,v):(v=s(v,w),v.return=g,v)}function l(g,v,w,x){var C=w.type;return C===xr?d(g,v,w.props.children,x,w.key):v!==null&&(v.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===wn&&yh(C)===v.type)?(x=s(v,w.props),x.ref=ms(g,v,w),x.return=g,x):(x=di(w.type,w.key,w.props,null,g.mode,x),x.ref=ms(g,v,w),x.return=g,x)}function u(g,v,w,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=xl(w,g.mode,x),v.return=g,v):(v=s(v,w.children||[]),v.return=g,v)}function d(g,v,w,x,C){return v===null||v.tag!==7?(v=Zn(w,g.mode,x,C),v.return=g,v):(v=s(v,w),v.return=g,v)}function p(g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Sl(""+v,g.mode,w),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ro:return w=di(v.type,v.key,v.props,null,g.mode,w),w.ref=ms(g,null,v),w.return=g,w;case Sr:return v=xl(v,g.mode,w),v.return=g,v;case wn:var x=v._init;return p(g,x(v._payload),w)}if(xs(v)||cs(v))return v=Zn(v,g.mode,w,null),v.return=g,v;Bo(g,v)}return null}function f(g,v,w,x){var C=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:a(g,v,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ro:return w.key===C?l(g,v,w,x):null;case Sr:return w.key===C?u(g,v,w,x):null;case wn:return C=w._init,f(g,v,C(w._payload),x)}if(xs(w)||cs(w))return C!==null?null:d(g,v,w,x,null);Bo(g,w)}return null}function m(g,v,w,x,C){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(w)||null,a(v,g,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ro:return g=g.get(x.key===null?w:x.key)||null,l(v,g,x,C);case Sr:return g=g.get(x.key===null?w:x.key)||null,u(v,g,x,C);case wn:var R=x._init;return m(g,v,w,R(x._payload),C)}if(xs(x)||cs(x))return g=g.get(w)||null,d(v,g,x,C,null);Bo(v,x)}return null}function S(g,v,w,x){for(var C=null,R=null,E=v,T=v=0,I=null;E!==null&&T<w.length;T++){E.index>T?(I=E,E=null):I=E.sibling;var k=f(g,E,w[T],x);if(k===null){E===null&&(E=I);break}e&&E&&k.alternate===null&&t(g,E),v=o(k,v,T),R===null?C=k:R.sibling=k,R=k,E=I}if(T===w.length)return n(g,E),ie&&Gn(g,T),C;if(E===null){for(;T<w.length;T++)E=p(g,w[T],x),E!==null&&(v=o(E,v,T),R===null?C=E:R.sibling=E,R=E);return ie&&Gn(g,T),C}for(E=r(g,E);T<w.length;T++)I=m(E,g,T,w[T],x),I!==null&&(e&&I.alternate!==null&&E.delete(I.key===null?T:I.key),v=o(I,v,T),R===null?C=I:R.sibling=I,R=I);return e&&E.forEach(function(j){return t(g,j)}),ie&&Gn(g,T),C}function y(g,v,w,x){var C=cs(w);if(typeof C!="function")throw Error(P(150));if(w=C.call(w),w==null)throw Error(P(151));for(var R=C=null,E=v,T=v=0,I=null,k=w.next();E!==null&&!k.done;T++,k=w.next()){E.index>T?(I=E,E=null):I=E.sibling;var j=f(g,E,k.value,x);if(j===null){E===null&&(E=I);break}e&&E&&j.alternate===null&&t(g,E),v=o(j,v,T),R===null?C=j:R.sibling=j,R=j,E=I}if(k.done)return n(g,E),ie&&Gn(g,T),C;if(E===null){for(;!k.done;T++,k=w.next())k=p(g,k.value,x),k!==null&&(v=o(k,v,T),R===null?C=k:R.sibling=k,R=k);return ie&&Gn(g,T),C}for(E=r(g,E);!k.done;T++,k=w.next())k=m(E,g,T,k.value,x),k!==null&&(e&&k.alternate!==null&&E.delete(k.key===null?T:k.key),v=o(k,v,T),R===null?C=k:R.sibling=k,R=k);return e&&E.forEach(function(F){return t(g,F)}),ie&&Gn(g,T),C}function b(g,v,w,x){if(typeof w=="object"&&w!==null&&w.type===xr&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ro:e:{for(var C=w.key,R=v;R!==null;){if(R.key===C){if(C=w.type,C===xr){if(R.tag===7){n(g,R.sibling),v=s(R,w.props.children),v.return=g,g=v;break e}}else if(R.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===wn&&yh(C)===R.type){n(g,R.sibling),v=s(R,w.props),v.ref=ms(g,R,w),v.return=g,g=v;break e}n(g,R);break}else t(g,R);R=R.sibling}w.type===xr?(v=Zn(w.props.children,g.mode,x,w.key),v.return=g,g=v):(x=di(w.type,w.key,w.props,null,g.mode,x),x.ref=ms(g,v,w),x.return=g,g=x)}return i(g);case Sr:e:{for(R=w.key;v!==null;){if(v.key===R)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(g,v.sibling),v=s(v,w.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else t(g,v);v=v.sibling}v=xl(w,g.mode,x),v.return=g,g=v}return i(g);case wn:return R=w._init,b(g,v,R(w._payload),x)}if(xs(w))return S(g,v,w,x);if(cs(w))return y(g,v,w,x);Bo(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(g,v.sibling),v=s(v,w),v.return=g,g=v):(n(g,v),v=Sl(w,g.mode,x),v.return=g,g=v),i(g)):n(g,v)}return b}var Vr=gg(!0),vg=gg(!1),ji=$n(null),Oi=null,Ar=null,bc=null;function Cc(){bc=Ar=Oi=null}function Ec(e){var t=ji.current;re(ji),e._currentValue=t}function yu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Dr(e,t){Oi=e,bc=Ar=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ve=!0),e.firstContext=null)}function ct(e){var t=e._currentValue;if(bc!==e)if(e={context:e,memoizedValue:t,next:null},Ar===null){if(Oi===null)throw Error(P(308));Ar=e,Oi.dependencies={lanes:0,firstContext:e}}else Ar=Ar.next=e;return t}var Xn=null;function Tc(e){Xn===null?Xn=[e]:Xn.push(e)}function yg(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Tc(t)):(n.next=s.next,s.next=n),t.interleaved=n,ln(e,r)}function ln(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Sn=!1;function Rc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,U&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ln(e,n)}return s=r.interleaved,s===null?(t.next=t,Tc(r)):(t.next=s.next,s.next=t),r.interleaved=t,ln(e,n)}function oi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,fc(e,n)}}function wh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Di(e,t,n,r){var s=e.updateQueue;Sn=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,i===null?o=u:i.next=u,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(o!==null){var p=s.baseState;i=0,d=u=l=null,a=o;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=e,y=a;switch(f=t,m=n,y.tag){case 1:if(S=y.payload,typeof S=="function"){p=S.call(m,p,f);break e}p=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=y.payload,f=typeof S=="function"?S.call(m,p,f):S,f==null)break e;p=de({},p,f);break e;case 2:Sn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=p):d=d.next=m,i|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=p),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);sr|=i,e.lanes=i,e.memoizedState=p}}function Sh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(P(191,s));s.call(r)}}}var yo={},$t=$n(yo),Xs=$n(yo),Qs=$n(yo);function Qn(e){if(e===yo)throw Error(P(174));return e}function kc(e,t){switch(te(Qs,t),te(Xs,e),te($t,yo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Jl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Jl(t,e)}re($t),te($t,t)}function Wr(){re($t),re(Xs),re(Qs)}function Sg(e){Qn(Qs.current);var t=Qn($t.current),n=Jl(t,e.type);t!==n&&(te(Xs,e),te($t,n))}function Ac(e){Xs.current===e&&(re($t),re(Xs))}var ue=$n(0);function Li(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pl=[];function Pc(){for(var e=0;e<pl.length;e++)pl[e]._workInProgressVersionPrimary=null;pl.length=0}var ii=hn.ReactCurrentDispatcher,ml=hn.ReactCurrentBatchConfig,rr=0,ce=null,ye=null,xe=null,Bi=!1,As=!1,Js=0,Db=0;function Pe(){throw Error(P(321))}function Ic(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!bt(e[n],t[n]))return!1;return!0}function Nc(e,t,n,r,s,o){if(rr=o,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ii.current=e===null||e.memoizedState===null?$b:zb,e=n(r,s),As){o=0;do{if(As=!1,Js=0,25<=o)throw Error(P(301));o+=1,xe=ye=null,t.updateQueue=null,ii.current=Ub,e=n(r,s)}while(As)}if(ii.current=Fi,t=ye!==null&&ye.next!==null,rr=0,xe=ye=ce=null,Bi=!1,t)throw Error(P(300));return e}function Mc(){var e=Js!==0;return Js=0,e}function Mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?ce.memoizedState=xe=e:xe=xe.next=e,xe}function dt(){if(ye===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var t=xe===null?ce.memoizedState:xe.next;if(t!==null)xe=t,ye=e;else{if(e===null)throw Error(P(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},xe===null?ce.memoizedState=xe=e:xe=xe.next=e}return xe}function Zs(e,t){return typeof t=="function"?t(e):t}function gl(e){var t=dt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=ye,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,l=null,u=o;do{var d=u.lane;if((rr&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=p,i=r):l=l.next=p,ce.lanes|=d,sr|=d}u=u.next}while(u!==null&&u!==o);l===null?i=r:l.next=a,bt(r,t.memoizedState)||(Ve=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,ce.lanes|=o,sr|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function vl(e){var t=dt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);bt(o,t.memoizedState)||(Ve=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function xg(){}function _g(e,t){var n=ce,r=dt(),s=t(),o=!bt(r.memoizedState,s);if(o&&(r.memoizedState=s,Ve=!0),r=r.queue,jc(Eg.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||xe!==null&&xe.memoizedState.tag&1){if(n.flags|=2048,eo(9,Cg.bind(null,n,r,s,t),void 0,null),_e===null)throw Error(P(349));rr&30||bg(n,t,s)}return s}function bg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Cg(e,t,n,r){t.value=n,t.getSnapshot=r,Tg(t)&&Rg(e)}function Eg(e,t,n){return n(function(){Tg(t)&&Rg(e)})}function Tg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bt(e,n)}catch{return!0}}function Rg(e){var t=ln(e,1);t!==null&&xt(t,e,1,-1)}function xh(e){var t=Mt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:e},t.queue=e,e=e.dispatch=Fb.bind(null,ce,e),[t.memoizedState,e]}function eo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function kg(){return dt().memoizedState}function ai(e,t,n,r){var s=Mt();ce.flags|=e,s.memoizedState=eo(1|t,n,void 0,r===void 0?null:r)}function va(e,t,n,r){var s=dt();r=r===void 0?null:r;var o=void 0;if(ye!==null){var i=ye.memoizedState;if(o=i.destroy,r!==null&&Ic(r,i.deps)){s.memoizedState=eo(t,n,o,r);return}}ce.flags|=e,s.memoizedState=eo(1|t,n,o,r)}function _h(e,t){return ai(8390656,8,e,t)}function jc(e,t){return va(2048,8,e,t)}function Ag(e,t){return va(4,2,e,t)}function Pg(e,t){return va(4,4,e,t)}function Ig(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ng(e,t,n){return n=n!=null?n.concat([e]):null,va(4,4,Ig.bind(null,t,e),n)}function Oc(){}function Mg(e,t){var n=dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ic(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function jg(e,t){var n=dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ic(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Og(e,t,n){return rr&21?(bt(n,t)||(n=$m(),ce.lanes|=n,sr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ve=!0),e.memoizedState=n)}function Lb(e,t){var n=X;X=n!==0&&4>n?n:4,e(!0);var r=ml.transition;ml.transition={};try{e(!1),t()}finally{X=n,ml.transition=r}}function Dg(){return dt().memoizedState}function Bb(e,t,n){var r=Nn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Lg(e))Bg(t,n);else if(n=yg(e,t,n,r),n!==null){var s=De();xt(n,e,r,s),Fg(n,t,r)}}function Fb(e,t,n){var r=Nn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Lg(e))Bg(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,bt(a,i)){var l=t.interleaved;l===null?(s.next=s,Tc(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=yg(e,t,s,r),n!==null&&(s=De(),xt(n,e,r,s),Fg(n,t,r))}}function Lg(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function Bg(e,t){As=Bi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Fg(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,fc(e,n)}}var Fi={readContext:ct,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useInsertionEffect:Pe,useLayoutEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useMutableSource:Pe,useSyncExternalStore:Pe,useId:Pe,unstable_isNewReconciler:!1},$b={readContext:ct,useCallback:function(e,t){return Mt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:_h,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ai(4194308,4,Ig.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ai(4194308,4,e,t)},useInsertionEffect:function(e,t){return ai(4,2,e,t)},useMemo:function(e,t){var n=Mt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Mt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Bb.bind(null,ce,e),[r.memoizedState,e]},useRef:function(e){var t=Mt();return e={current:e},t.memoizedState=e},useState:xh,useDebugValue:Oc,useDeferredValue:function(e){return Mt().memoizedState=e},useTransition:function(){var e=xh(!1),t=e[0];return e=Lb.bind(null,e[1]),Mt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ce,s=Mt();if(ie){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),_e===null)throw Error(P(349));rr&30||bg(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,_h(Eg.bind(null,r,o,e),[e]),r.flags|=2048,eo(9,Cg.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Mt(),t=_e.identifierPrefix;if(ie){var n=rn,r=nn;n=(r&~(1<<32-St(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Js++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Db++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zb={readContext:ct,useCallback:Mg,useContext:ct,useEffect:jc,useImperativeHandle:Ng,useInsertionEffect:Ag,useLayoutEffect:Pg,useMemo:jg,useReducer:gl,useRef:kg,useState:function(){return gl(Zs)},useDebugValue:Oc,useDeferredValue:function(e){var t=dt();return Og(t,ye.memoizedState,e)},useTransition:function(){var e=gl(Zs)[0],t=dt().memoizedState;return[e,t]},useMutableSource:xg,useSyncExternalStore:_g,useId:Dg,unstable_isNewReconciler:!1},Ub={readContext:ct,useCallback:Mg,useContext:ct,useEffect:jc,useImperativeHandle:Ng,useInsertionEffect:Ag,useLayoutEffect:Pg,useMemo:jg,useReducer:vl,useRef:kg,useState:function(){return vl(Zs)},useDebugValue:Oc,useDeferredValue:function(e){var t=dt();return ye===null?t.memoizedState=e:Og(t,ye.memoizedState,e)},useTransition:function(){var e=vl(Zs)[0],t=dt().memoizedState;return[e,t]},useMutableSource:xg,useSyncExternalStore:_g,useId:Dg,unstable_isNewReconciler:!1};function gt(e,t){if(e&&e.defaultProps){t=de({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function wu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:de({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return(e=e._reactInternals)?cr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=De(),s=Nn(e),o=sn(r,s);o.payload=t,n!=null&&(o.callback=n),t=Pn(e,o,s),t!==null&&(xt(t,e,s,r),oi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=De(),s=Nn(e),o=sn(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Pn(e,o,s),t!==null&&(xt(t,e,s,r),oi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=De(),r=Nn(e),s=sn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Pn(e,s,r),t!==null&&(xt(t,e,r,n),oi(t,e,r))}};function bh(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!Ys(n,r)||!Ys(s,o):!0}function $g(e,t,n){var r=!1,s=On,o=t.contextType;return typeof o=="object"&&o!==null?o=ct(o):(s=Ye(t)?tr:Me.current,r=t.contextTypes,o=(r=r!=null)?Ur(e,s):On),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ch(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function Su(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Rc(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=ct(o):(o=Ye(t)?tr:Me.current,s.context=Ur(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(wu(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ya.enqueueReplaceState(s,s.state,null),Di(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Yr(e,t){try{var n="",r=t;do n+=g_(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function yl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function xu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Hb=typeof WeakMap=="function"?WeakMap:Map;function zg(e,t,n){n=sn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zi||(zi=!0,Iu=r),xu(e,t)},n}function Ug(e,t,n){n=sn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){xu(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){xu(e,t),typeof r!="function"&&(In===null?In=new Set([this]):In.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Eh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Hb;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=r0.bind(null,e,t,n),t.then(e,e))}function Th(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Rh(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=sn(-1,1),t.tag=2,Pn(n,t,1))),n.lanes|=1),e)}var Vb=hn.ReactCurrentOwner,Ve=!1;function Oe(e,t,n,r){t.child=e===null?vg(t,null,n,r):Vr(t,e.child,n,r)}function kh(e,t,n,r,s){n=n.render;var o=t.ref;return Dr(t,s),r=Nc(e,t,n,r,o,s),n=Mc(),e!==null&&!Ve?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,un(e,t,s)):(ie&&n&&Sc(t),t.flags|=1,Oe(e,t,r,s),t.child)}function Ah(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Hc(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Hg(e,t,o,r,s)):(e=di(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ys,n(i,r)&&e.ref===t.ref)return un(e,t,s)}return t.flags|=1,e=Mn(o,r),e.ref=t.ref,e.return=t,t.child=e}function Hg(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Ys(o,r)&&e.ref===t.ref)if(Ve=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(Ve=!0);else return t.lanes=e.lanes,un(e,t,s)}return _u(e,t,n,r,s)}function Vg(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(Ir,qe),qe|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,te(Ir,qe),qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,te(Ir,qe),qe|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,te(Ir,qe),qe|=r;return Oe(e,t,s,n),t.child}function Wg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _u(e,t,n,r,s){var o=Ye(n)?tr:Me.current;return o=Ur(t,o),Dr(t,s),n=Nc(e,t,n,r,o,s),r=Mc(),e!==null&&!Ve?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,un(e,t,s)):(ie&&r&&Sc(t),t.flags|=1,Oe(e,t,n,s),t.child)}function Ph(e,t,n,r,s){if(Ye(n)){var o=!0;Ii(t)}else o=!1;if(Dr(t,s),t.stateNode===null)li(e,t),$g(t,n,r),Su(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=ct(u):(u=Ye(n)?tr:Me.current,u=Ur(t,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";p||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Ch(t,i,r,u),Sn=!1;var f=t.memoizedState;i.state=f,Di(t,r,i,s),l=t.memoizedState,a!==r||f!==l||We.current||Sn?(typeof d=="function"&&(wu(t,n,d,r),l=t.memoizedState),(a=Sn||bh(t,n,a,r,f,l,u))?(p||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,wg(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:gt(t.type,a),i.props=u,p=t.pendingProps,f=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=ct(l):(l=Ye(n)?tr:Me.current,l=Ur(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==p||f!==l)&&Ch(t,i,r,l),Sn=!1,f=t.memoizedState,i.state=f,Di(t,r,i,s);var S=t.memoizedState;a!==p||f!==S||We.current||Sn?(typeof m=="function"&&(wu(t,n,m,r),S=t.memoizedState),(u=Sn||bh(t,n,u,r,f,S,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,S,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,S,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=S),i.props=r,i.state=S,i.context=l,r=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return bu(e,t,n,r,o,s)}function bu(e,t,n,r,s,o){Wg(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&mh(t,n,!1),un(e,t,o);r=t.stateNode,Vb.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Vr(t,e.child,null,o),t.child=Vr(t,null,a,o)):Oe(e,t,a,o),t.memoizedState=r.state,s&&mh(t,n,!0),t.child}function Yg(e){var t=e.stateNode;t.pendingContext?ph(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ph(e,t.context,!1),kc(e,t.containerInfo)}function Ih(e,t,n,r,s){return Hr(),_c(s),t.flags|=256,Oe(e,t,n,r),t.child}var Cu={dehydrated:null,treeContext:null,retryLane:0};function Eu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gg(e,t,n){var r=t.pendingProps,s=ue.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),te(ue,s&1),e===null)return vu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=xa(i,r,0,null),e=Zn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Eu(n),t.memoizedState=Cu,e):Dc(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Wb(e,t,i,r,a,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Mn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Mn(a,o):(o=Zn(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?Eu(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Cu,r}return o=e.child,e=o.sibling,r=Mn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Dc(e,t){return t=xa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fo(e,t,n,r){return r!==null&&_c(r),Vr(t,e.child,null,n),e=Dc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wb(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=yl(Error(P(422))),Fo(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=xa({mode:"visible",children:r.children},s,0,null),o=Zn(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Vr(t,e.child,null,i),t.child.memoizedState=Eu(i),t.memoizedState=Cu,o);if(!(t.mode&1))return Fo(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(P(419)),r=yl(o,r,void 0),Fo(e,t,i,r)}if(a=(i&e.childLanes)!==0,Ve||a){if(r=_e,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,ln(e,s),xt(r,e,s,-1))}return Uc(),r=yl(Error(P(421))),Fo(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=s0.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Ze=An(s.nextSibling),et=t,ie=!0,yt=null,e!==null&&(it[at++]=nn,it[at++]=rn,it[at++]=nr,nn=e.id,rn=e.overflow,nr=t),t=Dc(t,r.children),t.flags|=4096,t)}function Nh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),yu(e.return,t,n)}function wl(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function Kg(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(Oe(e,t,r.children,n),r=ue.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Nh(e,n,t);else if(e.tag===19)Nh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(te(ue,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Li(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),wl(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Li(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}wl(t,!0,n,null,o);break;case"together":wl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function li(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function un(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),sr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=Mn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Mn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Yb(e,t,n){switch(t.tag){case 3:Yg(t),Hr();break;case 5:Sg(t);break;case 1:Ye(t.type)&&Ii(t);break;case 4:kc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;te(ji,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(te(ue,ue.current&1),t.flags|=128,null):n&t.child.childLanes?Gg(e,t,n):(te(ue,ue.current&1),e=un(e,t,n),e!==null?e.sibling:null);te(ue,ue.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Kg(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),te(ue,ue.current),r)break;return null;case 22:case 23:return t.lanes=0,Vg(e,t,n)}return un(e,t,n)}var qg,Tu,Xg,Qg;qg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Tu=function(){};Xg=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Qn($t.current);var o=null;switch(n){case"input":s=Kl(e,s),r=Kl(e,r),o=[];break;case"select":s=de({},s,{value:void 0}),r=de({},r,{value:void 0}),o=[];break;case"textarea":s=Ql(e,s),r=Ql(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ai)}Zl(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Fs.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Fs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ne("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Qg=function(e,t,n,r){n!==r&&(t.flags|=4)};function gs(e,t){if(!ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gb(e,t,n){var r=t.pendingProps;switch(xc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(t),null;case 1:return Ye(t.type)&&Pi(),Ie(t),null;case 3:return r=t.stateNode,Wr(),re(We),re(Me),Pc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Lo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yt!==null&&(ju(yt),yt=null))),Tu(e,t),Ie(t),null;case 5:Ac(t);var s=Qn(Qs.current);if(n=t.type,e!==null&&t.stateNode!=null)Xg(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return Ie(t),null}if(e=Qn($t.current),Lo(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[jt]=t,r[qs]=o,e=(t.mode&1)!==0,n){case"dialog":ne("cancel",r),ne("close",r);break;case"iframe":case"object":case"embed":ne("load",r);break;case"video":case"audio":for(s=0;s<bs.length;s++)ne(bs[s],r);break;case"source":ne("error",r);break;case"img":case"image":case"link":ne("error",r),ne("load",r);break;case"details":ne("toggle",r);break;case"input":zf(r,o),ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ne("invalid",r);break;case"textarea":Hf(r,o),ne("invalid",r)}Zl(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Do(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Do(r.textContent,a,e),s=["children",""+a]):Fs.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&ne("scroll",r)}switch(n){case"input":ko(r),Uf(r,o,!0);break;case"textarea":ko(r),Vf(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ai)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Em(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[jt]=t,e[qs]=r,qg(e,t,!1,!1),t.stateNode=e;e:{switch(i=eu(n,r),n){case"dialog":ne("cancel",e),ne("close",e),s=r;break;case"iframe":case"object":case"embed":ne("load",e),s=r;break;case"video":case"audio":for(s=0;s<bs.length;s++)ne(bs[s],e);s=r;break;case"source":ne("error",e),s=r;break;case"img":case"image":case"link":ne("error",e),ne("load",e),s=r;break;case"details":ne("toggle",e),s=r;break;case"input":zf(e,r),s=Kl(e,r),ne("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=de({},r,{value:void 0}),ne("invalid",e);break;case"textarea":Hf(e,r),s=Ql(e,r),ne("invalid",e);break;default:s=r}Zl(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?km(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Tm(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&$s(e,l):typeof l=="number"&&$s(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Fs.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ne("scroll",e):l!=null&&ic(e,o,l,i))}switch(n){case"input":ko(e),Uf(e,r,!1);break;case"textarea":ko(e),Vf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+jn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Nr(e,!!r.multiple,o,!1):r.defaultValue!=null&&Nr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ai)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ie(t),null;case 6:if(e&&t.stateNode!=null)Qg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=Qn(Qs.current),Qn($t.current),Lo(t)){if(r=t.stateNode,n=t.memoizedProps,r[jt]=t,(o=r.nodeValue!==n)&&(e=et,e!==null))switch(e.tag){case 3:Do(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Do(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jt]=t,t.stateNode=r}return Ie(t),null;case 13:if(re(ue),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ie&&Ze!==null&&t.mode&1&&!(t.flags&128))mg(),Hr(),t.flags|=98560,o=!1;else if(o=Lo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(P(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(P(317));o[jt]=t}else Hr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ie(t),o=!1}else yt!==null&&(ju(yt),yt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ue.current&1?we===0&&(we=3):Uc())),t.updateQueue!==null&&(t.flags|=4),Ie(t),null);case 4:return Wr(),Tu(e,t),e===null&&Gs(t.stateNode.containerInfo),Ie(t),null;case 10:return Ec(t.type._context),Ie(t),null;case 17:return Ye(t.type)&&Pi(),Ie(t),null;case 19:if(re(ue),o=t.memoizedState,o===null)return Ie(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)gs(o,!1);else{if(we!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Li(e),i!==null){for(t.flags|=128,gs(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return te(ue,ue.current&1|2),t.child}e=e.sibling}o.tail!==null&&me()>Gr&&(t.flags|=128,r=!0,gs(o,!1),t.lanes=4194304)}else{if(!r)if(e=Li(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),gs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!ie)return Ie(t),null}else 2*me()-o.renderingStartTime>Gr&&n!==1073741824&&(t.flags|=128,r=!0,gs(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=me(),t.sibling=null,n=ue.current,te(ue,r?n&1|2:n&1),t):(Ie(t),null);case 22:case 23:return zc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?qe&1073741824&&(Ie(t),t.subtreeFlags&6&&(t.flags|=8192)):Ie(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function Kb(e,t){switch(xc(t),t.tag){case 1:return Ye(t.type)&&Pi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wr(),re(We),re(Me),Pc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ac(t),null;case 13:if(re(ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));Hr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return re(ue),null;case 4:return Wr(),null;case 10:return Ec(t.type._context),null;case 22:case 23:return zc(),null;case 24:return null;default:return null}}var $o=!1,Ne=!1,qb=typeof WeakSet=="function"?WeakSet:Set,M=null;function Pr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){he(e,t,r)}else n.current=null}function Ru(e,t,n){try{n()}catch(r){he(e,t,r)}}var Mh=!1;function Xb(e,t){if(cu=Ti,e=ng(),wc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,u=0,d=0,p=e,f=null;t:for(;;){for(var m;p!==n||s!==0&&p.nodeType!==3||(a=i+s),p!==o||r!==0&&p.nodeType!==3||(l=i+r),p.nodeType===3&&(i+=p.nodeValue.length),(m=p.firstChild)!==null;)f=p,p=m;for(;;){if(p===e)break t;if(f===n&&++u===s&&(a=i),f===o&&++d===r&&(l=i),(m=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(du={focusedElem:e,selectionRange:n},Ti=!1,M=t;M!==null;)if(t=M,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,M=e;else for(;M!==null;){t=M;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var y=S.memoizedProps,b=S.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:gt(t.type,y),b);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(x){he(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,M=e;break}M=t.return}return S=Mh,Mh=!1,S}function Ps(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Ru(t,n,o)}s=s.next}while(s!==r)}}function wa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ku(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Jg(e){var t=e.alternate;t!==null&&(e.alternate=null,Jg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[jt],delete t[qs],delete t[pu],delete t[Nb],delete t[Mb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zg(e){return e.tag===5||e.tag===3||e.tag===4}function jh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Au(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ai));else if(r!==4&&(e=e.child,e!==null))for(Au(e,t,n),e=e.sibling;e!==null;)Au(e,t,n),e=e.sibling}function Pu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Pu(e,t,n),e=e.sibling;e!==null;)Pu(e,t,n),e=e.sibling}var be=null,vt=!1;function mn(e,t,n){for(n=n.child;n!==null;)ev(e,t,n),n=n.sibling}function ev(e,t,n){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(da,n)}catch{}switch(n.tag){case 5:Ne||Pr(n,t);case 6:var r=be,s=vt;be=null,mn(e,t,n),be=r,vt=s,be!==null&&(vt?(e=be,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):be.removeChild(n.stateNode));break;case 18:be!==null&&(vt?(e=be,n=n.stateNode,e.nodeType===8?fl(e.parentNode,n):e.nodeType===1&&fl(e,n),Vs(e)):fl(be,n.stateNode));break;case 4:r=be,s=vt,be=n.stateNode.containerInfo,vt=!0,mn(e,t,n),be=r,vt=s;break;case 0:case 11:case 14:case 15:if(!Ne&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Ru(n,t,i),s=s.next}while(s!==r)}mn(e,t,n);break;case 1:if(!Ne&&(Pr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){he(n,t,a)}mn(e,t,n);break;case 21:mn(e,t,n);break;case 22:n.mode&1?(Ne=(r=Ne)||n.memoizedState!==null,mn(e,t,n),Ne=r):mn(e,t,n);break;default:mn(e,t,n)}}function Oh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new qb),t.forEach(function(r){var s=o0.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function mt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:be=a.stateNode,vt=!1;break e;case 3:be=a.stateNode.containerInfo,vt=!0;break e;case 4:be=a.stateNode.containerInfo,vt=!0;break e}a=a.return}if(be===null)throw Error(P(160));ev(o,i,s),be=null,vt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){he(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)tv(t,e),t=t.sibling}function tv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mt(t,e),Nt(e),r&4){try{Ps(3,e,e.return),wa(3,e)}catch(y){he(e,e.return,y)}try{Ps(5,e,e.return)}catch(y){he(e,e.return,y)}}break;case 1:mt(t,e),Nt(e),r&512&&n!==null&&Pr(n,n.return);break;case 5:if(mt(t,e),Nt(e),r&512&&n!==null&&Pr(n,n.return),e.flags&32){var s=e.stateNode;try{$s(s,"")}catch(y){he(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&bm(s,o),eu(a,i);var u=eu(a,o);for(i=0;i<l.length;i+=2){var d=l[i],p=l[i+1];d==="style"?km(s,p):d==="dangerouslySetInnerHTML"?Tm(s,p):d==="children"?$s(s,p):ic(s,d,p,u)}switch(a){case"input":ql(s,o);break;case"textarea":Cm(s,o);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Nr(s,!!o.multiple,m,!1):f!==!!o.multiple&&(o.defaultValue!=null?Nr(s,!!o.multiple,o.defaultValue,!0):Nr(s,!!o.multiple,o.multiple?[]:"",!1))}s[qs]=o}catch(y){he(e,e.return,y)}}break;case 6:if(mt(t,e),Nt(e),r&4){if(e.stateNode===null)throw Error(P(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(y){he(e,e.return,y)}}break;case 3:if(mt(t,e),Nt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vs(t.containerInfo)}catch(y){he(e,e.return,y)}break;case 4:mt(t,e),Nt(e);break;case 13:mt(t,e),Nt(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Fc=me())),r&4&&Oh(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ne=(u=Ne)||d,mt(t,e),Ne=u):mt(t,e),Nt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(M=e,d=e.child;d!==null;){for(p=M=d;M!==null;){switch(f=M,m=f.child,f.tag){case 0:case 11:case 14:case 15:Ps(4,f,f.return);break;case 1:Pr(f,f.return);var S=f.stateNode;if(typeof S.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(y){he(r,n,y)}}break;case 5:Pr(f,f.return);break;case 22:if(f.memoizedState!==null){Lh(p);continue}}m!==null?(m.return=f,M=m):Lh(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=p.stateNode,l=p.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Rm("display",i))}catch(y){he(e,e.return,y)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(y){he(e,e.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:mt(t,e),Nt(e),r&4&&Oh(e);break;case 21:break;default:mt(t,e),Nt(e)}}function Nt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Zg(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&($s(s,""),r.flags&=-33);var o=jh(e);Pu(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=jh(e);Au(e,a,i);break;default:throw Error(P(161))}}catch(l){he(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qb(e,t,n){M=e,nv(e)}function nv(e,t,n){for(var r=(e.mode&1)!==0;M!==null;){var s=M,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||$o;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ne;a=$o;var u=Ne;if($o=i,(Ne=l)&&!u)for(M=s;M!==null;)i=M,l=i.child,i.tag===22&&i.memoizedState!==null?Bh(s):l!==null?(l.return=i,M=l):Bh(s);for(;o!==null;)M=o,nv(o),o=o.sibling;M=s,$o=a,Ne=u}Dh(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,M=o):Dh(e)}}function Dh(e){for(;M!==null;){var t=M;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ne||wa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ne)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:gt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Sh(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Sh(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Vs(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Ne||t.flags&512&&ku(t)}catch(f){he(t,t.return,f)}}if(t===e){M=null;break}if(n=t.sibling,n!==null){n.return=t.return,M=n;break}M=t.return}}function Lh(e){for(;M!==null;){var t=M;if(t===e){M=null;break}var n=t.sibling;if(n!==null){n.return=t.return,M=n;break}M=t.return}}function Bh(e){for(;M!==null;){var t=M;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{wa(4,t)}catch(l){he(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){he(t,s,l)}}var o=t.return;try{ku(t)}catch(l){he(t,o,l)}break;case 5:var i=t.return;try{ku(t)}catch(l){he(t,i,l)}}}catch(l){he(t,t.return,l)}if(t===e){M=null;break}var a=t.sibling;if(a!==null){a.return=t.return,M=a;break}M=t.return}}var Jb=Math.ceil,$i=hn.ReactCurrentDispatcher,Lc=hn.ReactCurrentOwner,ut=hn.ReactCurrentBatchConfig,U=0,_e=null,ve=null,Ee=0,qe=0,Ir=$n(0),we=0,to=null,sr=0,Sa=0,Bc=0,Is=null,Ue=null,Fc=0,Gr=1/0,Qt=null,zi=!1,Iu=null,In=null,zo=!1,Cn=null,Ui=0,Ns=0,Nu=null,ui=-1,ci=0;function De(){return U&6?me():ui!==-1?ui:ui=me()}function Nn(e){return e.mode&1?U&2&&Ee!==0?Ee&-Ee:Ob.transition!==null?(ci===0&&(ci=$m()),ci):(e=X,e!==0||(e=window.event,e=e===void 0?16:Gm(e.type)),e):1}function xt(e,t,n,r){if(50<Ns)throw Ns=0,Nu=null,Error(P(185));mo(e,n,r),(!(U&2)||e!==_e)&&(e===_e&&(!(U&2)&&(Sa|=n),we===4&&_n(e,Ee)),Ge(e,r),n===1&&U===0&&!(t.mode&1)&&(Gr=me()+500,ga&&zn()))}function Ge(e,t){var n=e.callbackNode;O_(e,t);var r=Ei(e,e===_e?Ee:0);if(r===0)n!==null&&Gf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Gf(n),t===1)e.tag===0?jb(Fh.bind(null,e)):fg(Fh.bind(null,e)),Pb(function(){!(U&6)&&zn()}),n=null;else{switch(zm(r)){case 1:n=dc;break;case 4:n=Bm;break;case 16:n=Ci;break;case 536870912:n=Fm;break;default:n=Ci}n=cv(n,rv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rv(e,t){if(ui=-1,ci=0,U&6)throw Error(P(327));var n=e.callbackNode;if(Lr()&&e.callbackNode!==n)return null;var r=Ei(e,e===_e?Ee:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Hi(e,r);else{t=r;var s=U;U|=2;var o=ov();(_e!==e||Ee!==t)&&(Qt=null,Gr=me()+500,Jn(e,t));do try{t0();break}catch(a){sv(e,a)}while(!0);Cc(),$i.current=o,U=s,ve!==null?t=0:(_e=null,Ee=0,t=we)}if(t!==0){if(t===2&&(s=ou(e),s!==0&&(r=s,t=Mu(e,s))),t===1)throw n=to,Jn(e,0),_n(e,r),Ge(e,me()),n;if(t===6)_n(e,r);else{if(s=e.current.alternate,!(r&30)&&!Zb(s)&&(t=Hi(e,r),t===2&&(o=ou(e),o!==0&&(r=o,t=Mu(e,o))),t===1))throw n=to,Jn(e,0),_n(e,r),Ge(e,me()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:Kn(e,Ue,Qt);break;case 3:if(_n(e,r),(r&130023424)===r&&(t=Fc+500-me(),10<t)){if(Ei(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){De(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=hu(Kn.bind(null,e,Ue,Qt),t);break}Kn(e,Ue,Qt);break;case 4:if(_n(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-St(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Jb(r/1960))-r,10<r){e.timeoutHandle=hu(Kn.bind(null,e,Ue,Qt),r);break}Kn(e,Ue,Qt);break;case 5:Kn(e,Ue,Qt);break;default:throw Error(P(329))}}}return Ge(e,me()),e.callbackNode===n?rv.bind(null,e):null}function Mu(e,t){var n=Is;return e.current.memoizedState.isDehydrated&&(Jn(e,t).flags|=256),e=Hi(e,t),e!==2&&(t=Ue,Ue=n,t!==null&&ju(t)),e}function ju(e){Ue===null?Ue=e:Ue.push.apply(Ue,e)}function Zb(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!bt(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _n(e,t){for(t&=~Bc,t&=~Sa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-St(t),r=1<<n;e[n]=-1,t&=~r}}function Fh(e){if(U&6)throw Error(P(327));Lr();var t=Ei(e,0);if(!(t&1))return Ge(e,me()),null;var n=Hi(e,t);if(e.tag!==0&&n===2){var r=ou(e);r!==0&&(t=r,n=Mu(e,r))}if(n===1)throw n=to,Jn(e,0),_n(e,t),Ge(e,me()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kn(e,Ue,Qt),Ge(e,me()),null}function $c(e,t){var n=U;U|=1;try{return e(t)}finally{U=n,U===0&&(Gr=me()+500,ga&&zn())}}function or(e){Cn!==null&&Cn.tag===0&&!(U&6)&&Lr();var t=U;U|=1;var n=ut.transition,r=X;try{if(ut.transition=null,X=1,e)return e()}finally{X=r,ut.transition=n,U=t,!(U&6)&&zn()}}function zc(){qe=Ir.current,re(Ir)}function Jn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ab(n)),ve!==null)for(n=ve.return;n!==null;){var r=n;switch(xc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pi();break;case 3:Wr(),re(We),re(Me),Pc();break;case 5:Ac(r);break;case 4:Wr();break;case 13:re(ue);break;case 19:re(ue);break;case 10:Ec(r.type._context);break;case 22:case 23:zc()}n=n.return}if(_e=e,ve=e=Mn(e.current,null),Ee=qe=t,we=0,to=null,Bc=Sa=sr=0,Ue=Is=null,Xn!==null){for(t=0;t<Xn.length;t++)if(n=Xn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}Xn=null}return e}function sv(e,t){do{var n=ve;try{if(Cc(),ii.current=Fi,Bi){for(var r=ce.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Bi=!1}if(rr=0,xe=ye=ce=null,As=!1,Js=0,Lc.current=null,n===null||n.return===null){we=1,to=t,ve=null;break}e:{var o=e,i=n.return,a=n,l=t;if(t=Ee,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Th(i);if(m!==null){m.flags&=-257,Rh(m,i,a,o,t),m.mode&1&&Eh(o,u,t),t=m,l=u;var S=t.updateQueue;if(S===null){var y=new Set;y.add(l),t.updateQueue=y}else S.add(l);break e}else{if(!(t&1)){Eh(o,u,t),Uc();break e}l=Error(P(426))}}else if(ie&&a.mode&1){var b=Th(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Rh(b,i,a,o,t),_c(Yr(l,a));break e}}o=l=Yr(l,a),we!==4&&(we=2),Is===null?Is=[o]:Is.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=zg(o,l,t);wh(o,g);break e;case 1:a=l;var v=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(In===null||!In.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var x=Ug(o,a,t);wh(o,x);break e}}o=o.return}while(o!==null)}av(n)}catch(C){t=C,ve===n&&n!==null&&(ve=n=n.return);continue}break}while(!0)}function ov(){var e=$i.current;return $i.current=Fi,e===null?Fi:e}function Uc(){(we===0||we===3||we===2)&&(we=4),_e===null||!(sr&268435455)&&!(Sa&268435455)||_n(_e,Ee)}function Hi(e,t){var n=U;U|=2;var r=ov();(_e!==e||Ee!==t)&&(Qt=null,Jn(e,t));do try{e0();break}catch(s){sv(e,s)}while(!0);if(Cc(),U=n,$i.current=r,ve!==null)throw Error(P(261));return _e=null,Ee=0,we}function e0(){for(;ve!==null;)iv(ve)}function t0(){for(;ve!==null&&!T_();)iv(ve)}function iv(e){var t=uv(e.alternate,e,qe);e.memoizedProps=e.pendingProps,t===null?av(e):ve=t,Lc.current=null}function av(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Kb(n,t),n!==null){n.flags&=32767,ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{we=6,ve=null;return}}else if(n=Gb(n,t,qe),n!==null){ve=n;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);we===0&&(we=5)}function Kn(e,t,n){var r=X,s=ut.transition;try{ut.transition=null,X=1,n0(e,t,n,r)}finally{ut.transition=s,X=r}return null}function n0(e,t,n,r){do Lr();while(Cn!==null);if(U&6)throw Error(P(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(D_(e,o),e===_e&&(ve=_e=null,Ee=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zo||(zo=!0,cv(Ci,function(){return Lr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ut.transition,ut.transition=null;var i=X;X=1;var a=U;U|=4,Lc.current=null,Xb(e,n),tv(n,e),_b(du),Ti=!!cu,du=cu=null,e.current=n,Qb(n),R_(),U=a,X=i,ut.transition=o}else e.current=n;if(zo&&(zo=!1,Cn=e,Ui=s),o=e.pendingLanes,o===0&&(In=null),P_(n.stateNode),Ge(e,me()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(zi)throw zi=!1,e=Iu,Iu=null,e;return Ui&1&&e.tag!==0&&Lr(),o=e.pendingLanes,o&1?e===Nu?Ns++:(Ns=0,Nu=e):Ns=0,zn(),null}function Lr(){if(Cn!==null){var e=zm(Ui),t=ut.transition,n=X;try{if(ut.transition=null,X=16>e?16:e,Cn===null)var r=!1;else{if(e=Cn,Cn=null,Ui=0,U&6)throw Error(P(331));var s=U;for(U|=4,M=e.current;M!==null;){var o=M,i=o.child;if(M.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(M=u;M!==null;){var d=M;switch(d.tag){case 0:case 11:case 15:Ps(8,d,o)}var p=d.child;if(p!==null)p.return=d,M=p;else for(;M!==null;){d=M;var f=d.sibling,m=d.return;if(Jg(d),d===u){M=null;break}if(f!==null){f.return=m,M=f;break}M=m}}}var S=o.alternate;if(S!==null){var y=S.child;if(y!==null){S.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}M=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,M=i;else e:for(;M!==null;){if(o=M,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ps(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,M=g;break e}M=o.return}}var v=e.current;for(M=v;M!==null;){i=M;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,M=w;else e:for(i=v;M!==null;){if(a=M,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:wa(9,a)}}catch(C){he(a,a.return,C)}if(a===i){M=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,M=x;break e}M=a.return}}if(U=s,zn(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(da,e)}catch{}r=!0}return r}finally{X=n,ut.transition=t}}return!1}function $h(e,t,n){t=Yr(n,t),t=zg(e,t,1),e=Pn(e,t,1),t=De(),e!==null&&(mo(e,1,t),Ge(e,t))}function he(e,t,n){if(e.tag===3)$h(e,e,n);else for(;t!==null;){if(t.tag===3){$h(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(In===null||!In.has(r))){e=Yr(n,e),e=Ug(t,e,1),t=Pn(t,e,1),e=De(),t!==null&&(mo(t,1,e),Ge(t,e));break}}t=t.return}}function r0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=De(),e.pingedLanes|=e.suspendedLanes&n,_e===e&&(Ee&n)===n&&(we===4||we===3&&(Ee&130023424)===Ee&&500>me()-Fc?Jn(e,0):Bc|=n),Ge(e,t)}function lv(e,t){t===0&&(e.mode&1?(t=Io,Io<<=1,!(Io&130023424)&&(Io=4194304)):t=1);var n=De();e=ln(e,t),e!==null&&(mo(e,t,n),Ge(e,n))}function s0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),lv(e,n)}function o0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),lv(e,n)}var uv;uv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||We.current)Ve=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ve=!1,Yb(e,t,n);Ve=!!(e.flags&131072)}else Ve=!1,ie&&t.flags&1048576&&hg(t,Mi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;li(e,t),e=t.pendingProps;var s=Ur(t,Me.current);Dr(t,n),s=Nc(null,t,r,e,s,n);var o=Mc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ye(r)?(o=!0,Ii(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Rc(t),s.updater=ya,t.stateNode=s,s._reactInternals=t,Su(t,r,e,n),t=bu(null,t,r,!0,o,n)):(t.tag=0,ie&&o&&Sc(t),Oe(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(li(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=a0(r),e=gt(r,e),s){case 0:t=_u(null,t,r,e,n);break e;case 1:t=Ph(null,t,r,e,n);break e;case 11:t=kh(null,t,r,e,n);break e;case 14:t=Ah(null,t,r,gt(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:gt(r,s),_u(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:gt(r,s),Ph(e,t,r,s,n);case 3:e:{if(Yg(t),e===null)throw Error(P(387));r=t.pendingProps,o=t.memoizedState,s=o.element,wg(e,t),Di(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Yr(Error(P(423)),t),t=Ih(e,t,r,n,s);break e}else if(r!==s){s=Yr(Error(P(424)),t),t=Ih(e,t,r,n,s);break e}else for(Ze=An(t.stateNode.containerInfo.firstChild),et=t,ie=!0,yt=null,n=vg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hr(),r===s){t=un(e,t,n);break e}Oe(e,t,r,n)}t=t.child}return t;case 5:return Sg(t),e===null&&vu(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,fu(r,s)?i=null:o!==null&&fu(r,o)&&(t.flags|=32),Wg(e,t),Oe(e,t,i,n),t.child;case 6:return e===null&&vu(t),null;case 13:return Gg(e,t,n);case 4:return kc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Vr(t,null,r,n):Oe(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:gt(r,s),kh(e,t,r,s,n);case 7:return Oe(e,t,t.pendingProps,n),t.child;case 8:return Oe(e,t,t.pendingProps.children,n),t.child;case 12:return Oe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,te(ji,r._currentValue),r._currentValue=i,o!==null)if(bt(o.value,i)){if(o.children===s.children&&!We.current){t=un(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=sn(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),yu(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(P(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),yu(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Oe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Dr(t,n),s=ct(s),r=r(s),t.flags|=1,Oe(e,t,r,n),t.child;case 14:return r=t.type,s=gt(r,t.pendingProps),s=gt(r.type,s),Ah(e,t,r,s,n);case 15:return Hg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:gt(r,s),li(e,t),t.tag=1,Ye(r)?(e=!0,Ii(t)):e=!1,Dr(t,n),$g(t,r,s),Su(t,r,s,n),bu(null,t,r,!0,e,n);case 19:return Kg(e,t,n);case 22:return Vg(e,t,n)}throw Error(P(156,t.tag))};function cv(e,t){return Lm(e,t)}function i0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lt(e,t,n,r){return new i0(e,t,n,r)}function Hc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function a0(e){if(typeof e=="function")return Hc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===lc)return 11;if(e===uc)return 14}return 2}function Mn(e,t){var n=e.alternate;return n===null?(n=lt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function di(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")Hc(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case xr:return Zn(n.children,s,o,t);case ac:i=8,s|=8;break;case Vl:return e=lt(12,n,t,s|2),e.elementType=Vl,e.lanes=o,e;case Wl:return e=lt(13,n,t,s),e.elementType=Wl,e.lanes=o,e;case Yl:return e=lt(19,n,t,s),e.elementType=Yl,e.lanes=o,e;case Sm:return xa(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ym:i=10;break e;case wm:i=9;break e;case lc:i=11;break e;case uc:i=14;break e;case wn:i=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=lt(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Zn(e,t,n,r){return e=lt(7,e,r,t),e.lanes=n,e}function xa(e,t,n,r){return e=lt(22,e,r,t),e.elementType=Sm,e.lanes=n,e.stateNode={isHidden:!1},e}function Sl(e,t,n){return e=lt(6,e,null,t),e.lanes=n,e}function xl(e,t,n){return t=lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function l0(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tl(0),this.expirationTimes=tl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,s,o,i,a,l){return e=new l0(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=lt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rc(o),e}function u0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function dv(e){if(!e)return On;e=e._reactInternals;e:{if(cr(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ye(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(Ye(n))return dg(e,n,t)}return t}function fv(e,t,n,r,s,o,i,a,l){return e=Vc(n,r,!0,e,s,o,i,a,l),e.context=dv(null),n=e.current,r=De(),s=Nn(n),o=sn(r,s),o.callback=t??null,Pn(n,o,s),e.current.lanes=s,mo(e,s,r),Ge(e,r),e}function _a(e,t,n,r){var s=t.current,o=De(),i=Nn(s);return n=dv(n),t.context===null?t.context=n:t.pendingContext=n,t=sn(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Pn(s,t,i),e!==null&&(xt(e,s,i,o),oi(e,s,i)),i}function Vi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wc(e,t){zh(e,t),(e=e.alternate)&&zh(e,t)}function c0(){return null}var hv=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}ba.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));_a(e,t,null,null)};ba.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;or(function(){_a(null,e,null,null)}),t[an]=null}};function ba(e){this._internalRoot=e}ba.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<xn.length&&t!==0&&t<xn[n].priority;n++);xn.splice(n,0,e),n===0&&Ym(e)}};function Gc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ca(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Uh(){}function d0(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=Vi(i);o.call(u)}}var i=fv(t,r,e,0,null,!1,!1,"",Uh);return e._reactRootContainer=i,e[an]=i.current,Gs(e.nodeType===8?e.parentNode:e),or(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Vi(l);a.call(u)}}var l=Vc(e,0,!1,null,null,!1,!1,"",Uh);return e._reactRootContainer=l,e[an]=l.current,Gs(e.nodeType===8?e.parentNode:e),or(function(){_a(t,l,n,r)}),l}function Ea(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=Vi(i);a.call(l)}}_a(t,i,e,s)}else i=d0(n,t,e,s,r);return Vi(i)}Um=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=_s(t.pendingLanes);n!==0&&(fc(t,n|1),Ge(t,me()),!(U&6)&&(Gr=me()+500,zn()))}break;case 13:or(function(){var r=ln(e,1);if(r!==null){var s=De();xt(r,e,1,s)}}),Wc(e,1)}};hc=function(e){if(e.tag===13){var t=ln(e,134217728);if(t!==null){var n=De();xt(t,e,134217728,n)}Wc(e,134217728)}};Hm=function(e){if(e.tag===13){var t=Nn(e),n=ln(e,t);if(n!==null){var r=De();xt(n,e,t,r)}Wc(e,t)}};Vm=function(){return X};Wm=function(e,t){var n=X;try{return X=e,t()}finally{X=n}};nu=function(e,t,n){switch(t){case"input":if(ql(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ma(r);if(!s)throw Error(P(90));_m(r),ql(r,s)}}}break;case"textarea":Cm(e,n);break;case"select":t=n.value,t!=null&&Nr(e,!!n.multiple,t,!1)}};Im=$c;Nm=or;var f0={usingClientEntryPoint:!1,Events:[vo,Er,ma,Am,Pm,$c]},vs={findFiberByHostInstance:qn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},h0={bundleType:vs.bundleType,version:vs.version,rendererPackageName:vs.rendererPackageName,rendererConfig:vs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Om(e),e===null?null:e.stateNode},findFiberByHostInstance:vs.findFiberByHostInstance||c0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uo.isDisabled&&Uo.supportsFiber)try{da=Uo.inject(h0),Ft=Uo}catch{}}rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f0;rt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gc(t))throw Error(P(200));return u0(e,t,null,n)};rt.createRoot=function(e,t){if(!Gc(e))throw Error(P(299));var n=!1,r="",s=hv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Vc(e,1,!1,null,null,n,!1,r,s),e[an]=t.current,Gs(e.nodeType===8?e.parentNode:e),new Yc(t)};rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=Om(t),e=e===null?null:e.stateNode,e};rt.flushSync=function(e){return or(e)};rt.hydrate=function(e,t,n){if(!Ca(t))throw Error(P(200));return Ea(null,e,t,!0,n)};rt.hydrateRoot=function(e,t,n){if(!Gc(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=hv;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=fv(t,null,e,1,n??null,s,!1,o,i),e[an]=t.current,Gs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ba(t)};rt.render=function(e,t,n){if(!Ca(t))throw Error(P(200));return Ea(null,e,t,!1,n)};rt.unmountComponentAtNode=function(e){if(!Ca(e))throw Error(P(40));return e._reactRootContainer?(or(function(){Ea(null,null,e,!1,function(){e._reactRootContainer=null,e[an]=null})}),!0):!1};rt.unstable_batchedUpdates=$c;rt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ca(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return Ea(e,t,n,!1,r)};rt.version="18.3.1-next-f1338f8080-20240426";function pv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pv)}catch(e){console.error(e)}}pv(),pm.exports=rt;var Ta=pm.exports;const p0=ua(Ta);var mv,Hh=Ta;mv=Hh.createRoot,Hh.hydrateRoot;function m0(e){const t=[];for(const n of e.commitTasks)try{n()}catch(r){t.push(r)}if(t.length>0){if(t.length===1)throw t[0];for(const n of t)console.error(n);throw new AggregateError(t,"Errors during commit")}}function g0(e){var n;const t=[];for(const r of e.cells)if((r==null?void 0:r.type)==="effect"&&(r.deps=null,r.cleanup))try{(n=r.cleanup)==null||n.call(r)}catch(s){t.push(s)}finally{r.cleanup=void 0}if(t.length>0){if(t.length===1)throw t[0];for(const r of t)console.error(r);throw new AggregateError(t,"Errors during cleanup")}}let Ms=null;function v0(e,t){e.currentIndex=0;const n=Ms;Ms=e;try{if(t(),e.isFirstRender=!1,e.cells.length!==e.currentIndex)throw new Error(`Rendered ${e.currentIndex} hooks but expected ${e.cells.length}. Hooks must be called in the exact same order in every render.`)}finally{Ms=n}}function Kc(){if(!Ms)throw new Error("No resource fiber available");return Ms}function y0(e){return null}function gv(e,t){const n=e[vv];if(!n)throw new Error("ResourceElement.type is not a valid Resource");return n(t)}const vv=Symbol("fnSymbol");function no(e,t,n=y0()){return{type:e,dispatchUpdate:t,devStrictMode:n,cells:[],currentIndex:0,renderContext:void 0,isFirstRender:!0,isMounted:!1,isNeverMounted:!0}}function Br(e){if(!e.isMounted)throw new Error("Tried to unmount a fiber that is already unmounted");e.isMounted=!1,g0(e)}function er(e,t){const n={commitTasks:[],props:t,output:void 0};return v0(e,()=>{e.renderContext=n;try{n.output=gv(e.type,t)}finally{e.renderContext=void 0}}),n}function ro(e,t){e.isMounted=!0,e.isNeverMounted=!1,m0(t)}const w0=()=>null,S0=(e,t)=>e+(t()?1:0);function x0(e){const[,t]=c.useReducer(S0,0),n=w0(),r=c.useMemo(()=>no(e.type,t,n),[e.type,e.key]),s=er(r,e.props);return c.useLayoutEffect(()=>()=>Br(r),[r]),c.useLayoutEffect(()=>{ro(r,s)}),s.output}function Q(e){const t=n=>({type:t,props:n});return t[vv]=e,t}function cn(e,t){return{...t,key:e}}const _0=(e,t)=>{if(e.renderContext)throw new Error("Resource updated during render");if(e.isMounted)e.dispatchUpdate(t);else if(e.isNeverMounted)throw new Error("Resource updated before mount")};function b0(e){const t=Kc(),n=t.currentIndex++;if(!t.isFirstRender&&n>=t.cells.length)throw new Error("Rendered more hooks than during the previous render. Hooks must be called in the exact same order in every render.");const r=t.cells[n];if(r){if(r.type!=="state")throw new Error("Hook order changed between renders");return r}const o={type:"state",value:typeof e=="function"?e():e,set:i=>{_0(t,()=>{const a=o.value,l=typeof i=="function"?i(a):i;return Object.is(a,l)?!1:(o.value=l,!0)})}};return t.cells[n]=o,o}function Ct(e){const t=b0(e);return[t.value,t.set]}const yv=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Object.is(e[n],t[n]))return!1;return!0},C0=(e,t)=>{const n=Kc(),r=n.currentIndex++;if(!n.isFirstRender&&r>=n.cells.length)throw new Error("Rendered more hooks than during the previous render. Hooks must be called in the exact same order in every render.");let s=n.cells[r];if(s||(s=t(),n.cells[r]=s),s.type!==e)throw new Error("Hook order changed between renders");return s},E0=e=>{Kc().renderContext.commitTasks.push(e)},T0=()=>({type:"effect",cleanup:void 0,deps:null});function Re(e,t){const n=C0("effect",T0);if(!(t&&n.deps&&yv(n.deps,t))){if(n.deps!==null&&!!t!=!!n.deps)throw new Error("tapEffect called with and without dependencies across re-renders");E0(()=>{var s;const r=[];try{(s=n.cleanup)==null||s.call(n)}catch(o){r.push(o)}finally{n.cleanup=void 0}try{const o=e();if(o!==void 0&&typeof o!="function")throw new Error(`An effect function must either return a cleanup function or nothing. Received: ${typeof o}`);n.cleanup=o}catch(o){r.push(o)}if(n.deps=t,r.length>0){if(r.length===1)throw r[0];for(const o of r)console.error(o);throw new AggregateError(r,"Errors during commit")}})}}function En(e){const[t]=Ct(()=>({current:e}));return t}function Kr(e,t){const[n]=Ct(e);return n}const H=(e,t)=>{const n=En();return n.current||(n.current={value:e(),deps:t}),yv(n.current.deps,t)||(n.current.value=e(),n.current.deps=t),n.current.value},wv=(e,t)=>H(()=>e,t);function qc(e){const t=En(e);return Re(()=>{t.current=e}),t.current}function Sv(e,t){const[n,r]=Ct(0),s=Kr(()=>()=>r(a=>a+1)),o=H(()=>(e.key,no(e.type,a=>{a()&&s()})),[e.type,e.key]),i=er(o,e.props);return Re(()=>()=>Br(o),[o]),Re(()=>{ro(o,i)},[o,i]),i.output}function Ht(e){return gv(e.type,e.props)}function Xc(e,t){const[n,r]=Ct(0),s=Kr(()=>()=>r(l=>l+1)),o=Kr(()=>new Map),i=t?wv(e,t):e,a=H(()=>{const l=i(),u=new Set,d=[];let p=0;for(let f=0;f<l.length;f++){const m=l[f],S=m.key;if(S===void 0)throw new Error(`tapResources did not provide a key for array at index ${f}`);if(u.has(S))throw new Error(`Duplicate key ${S} in tapResources`);u.add(S);let y=o.get(S);if(y)if(y.fiber.type!==m.type){const b=no(m.type,v=>{v()&&s()}),g=er(b,m.props);y.next=[b,g],d.push(g.output)}else y.next=er(y.fiber,m.props),d.push(y.next.output);else{const b=no(m.type,v=>{v()&&s()}),g=er(b,m.props);y={fiber:b,next:g},p++,o.set(S,y),d.push(g.output)}}if(o.size>d.length-p)for(const f of o.keys())u.has(f)||(o.get(f).next="delete");return d},[i,n]);return Re(()=>()=>{for(const l of o.keys()){const u=o.get(l).fiber;Br(u)}},[]),Re(()=>{for(const[l,u]of o.entries())u.next==="delete"?(u.fiber.isMounted&&Br(u.fiber),o.delete(l)):Array.isArray(u.next)?(Br(u.fiber),u.fiber=u.next[0],ro(u.fiber,u.next[1])):ro(u.fiber,u.next)},[a]),a}const R0=50;let Dt={schedulers:new Set([]),isScheduled:!1};class k0{constructor(t){_(this,"_task");_(this,"_isDirty",!1);this._task=t}get isDirty(){return this._isDirty}markDirty(){this._isDirty=!0,Dt.schedulers.add(this),A0()}runTask(){this._isDirty=!1,this._task()}}const A0=()=>{Dt.isScheduled||(Dt.isScheduled=!0,queueMicrotask(xv))},xv=()=>{try{const e=[];let t=0;for(const n of Dt.schedulers)if(Dt.schedulers.delete(n),!!n.isDirty){if(t++,t>R0)throw new Error("Maximum update depth exceeded. This can happen when a resource repeatedly calls setState inside tapEffect.");try{n.runTask()}catch(r){e.push(r)}}if(e.length>0){if(e.length===1)throw e[0];for(const n of e)console.error(n);throw new AggregateError(e,"Errors occurred during flushSync")}}finally{Dt.schedulers.clear(),Dt.isScheduled=!1}},_v=e=>{const t=Dt;Dt={schedulers:new Set([]),isScheduled:!0};try{const n=e();return xv(),n}finally{Dt=t}},P0=e=>{const t=Kr(()=>new k0(()=>{r.current=null,l()})),n=H(()=>(e.key,no(e.type,u=>{u()&&t.markDirty()})),[e.type,e.key]),r=En(null);r.current=er(n,e.props);const s=En(!1),o=En(e.props),i=En(r.current.output),a=Kr(()=>new Set),l=qc(()=>{s.current&&(r.current===null&&(r.current=er(n,o.current)),!t.isDirty&&(o.current=r.current.props,ro(n,r.current),!(t.isDirty||i.current===r.current.output)&&(i.current=r.current.output,a.forEach(u=>u()))))});return Re(()=>(s.current=!0,()=>{s.current=!1,Br(n)}),[n]),Re(()=>{_v(l)}),H(()=>({getValue:()=>i.current,subscribe:u=>(a.add(u),()=>a.delete(u))}),[])},js=Symbol("tap.Context"),bv=e=>({[js]:e}),Cv=(e,t,n)=>{const r=e[js];e[js]=t;try{return n()}finally{e[js]=r}},Ev=e=>e[js],Ou=Symbol("assistant-ui.store.clientIndex"),I0=e=>e[Ou],Tv=bv([]),Qc=()=>Ev(Tv),N0=(e,t)=>{const n=Qc(),r=H(()=>[...n,e],[n,e]);return Cv(Tv,r,t)},M0=new Set(["$$typeof","nodeType","then"]),Ra=(e,t)=>{if(e===Symbol.toStringTag)return t;if(typeof e!="symbol"){if(e==="toJSON")return()=>t;if(!M0.has(e))return!1}};class Jc{getOwnPropertyDescriptor(t,n){const r=this.get(t,n);if(r!==void 0)return{value:r,writable:!1,enumerable:!0,configurable:!1}}set(){return!1}setPrototypeOf(){return!1}defineProperty(){return!1}deleteProperty(){return!1}preventExtensions(){return!1}}const Rv=e=>{const t=Q(e);return n=>{const r=t(n);return n.key===void 0?r:cn(n.key,r)}},Wi=Symbol("assistant-ui.store.getValue"),j0=e=>{const t=e[Wi];if(!t)throw new Error("Client scope contains a non-client resource. Ensure your Derived get() returns a client created with tapClientResource(), not a plain resource.");return t.state},Vh=new Map;function O0(e){let t=Vh.get(e);return t||(t=function(...n){if(!this||typeof this!="object")throw new Error(`Method "${String(e)}" called without proper context. This may indicate the function was called incorrectly.`);const r=this[Wi];if(!r)throw new Error(`Method "${String(e)}" called on invalid client proxy. Ensure you are calling this method on a valid client instance.`);const s=r.methods[e];if(!s)throw new Error(`Method "${String(e)}" is not implemented.`);if(typeof s!="function")throw new Error(`"${String(e)}" is not a function.`);return s(...n)},Vh.set(e,t)),t}class D0 extends Jc{constructor(n,r){super();_(this,"outputRef");_(this,"index");_(this,"boundFns");_(this,"cachedReceiver");this.outputRef=n,this.index=r}get(n,r,s){if(r===Wi)return this.outputRef.current;if(r===Ou)return this.index;const o=Ra(r,"ClientProxy");if(o!==!1)return o;const i=this.outputRef.current.methods[r];if(typeof i=="function"){this.cachedReceiver!==s&&(this.boundFns=new Map,this.cachedReceiver=s);let a=this.boundFns.get(r);return a||(a=O0(r).bind(s),this.boundFns.set(r,a)),a}return i}ownKeys(){return Object.keys(this.outputRef.current.methods)}has(n,r){return r===Wi||r===Ou?!0:r in this.outputRef.current.methods}}const kv=Rv(e=>{const t=En(null),n=Qc().length,r=H(()=>new Proxy({},new D0(t,n)),[n]),s=N0(r,()=>Sv(e));return t.current||(t.current=s),Re(()=>{t.current=s}),{methods:r,state:s.state,key:e.key}}),ka=e=>Ht(kv(e)),Os=Symbol("assistant-ui.store.proxiedAssistantState"),_l=e=>e==="on"||e==="subscribe"||typeof e=="symbol",Av=e=>{class t extends Jc{get(r,s){const o=Ra(s,"AssistantState");if(o!==!1)return o;const i=s;if(!_l(i))return j0(e[i]())}ownKeys(){return Object.keys(e).filter(r=>!_l(r))}has(r,s){return!_l(s)&&s in e}}return new Proxy({},new t)},L0=e=>e[Os],Wh=()=>()=>{},Pv=e=>{const t=()=>{throw new Error(e)};return t.source=null,t.query=null,t};class B0 extends Jc{get(t,n){if(n==="subscribe"||n==="on")return Wh;if(n===Os)return F0;const r=Ra(n,"DefaultAssistantClient");return r!==!1?r:Pv("You are using a component or hook that requires an AuiProvider. Wrap your component in an <AuiProvider> component.")}ownKeys(){return["subscribe","on",Os]}has(t,n){return n==="subscribe"||n==="on"||n===Os}}const Aa=new Proxy({},new B0),F0=Av(Aa),$0=()=>new Proxy({},{get(e,t){const n=Ra(t,"AssistantClient");return n!==!1?n:Pv(`The current scope does not have a "${String(t)}" property.`)}}),Iv=c.createContext(Aa),z0=()=>c.useContext(Iv),Un=({value:e,children:t})=>h.jsx(Iv.Provider,{value:e,children:t}),_t=Q(e=>null),Du=Symbol("assistant-ui.default-peers");function Nv(e,t){const n=e,r=n[Du]??{};for(const s of Object.keys(t))if(s in r)throw new Error(`Default peer "${s}" is already attached to this resource`);n[Du]={...r,...t}}function U0(e){return e[Du]}function H0(e,t){const n={},r={};for(const[o,i]of Object.entries(e))i.type===_t?r[o]=i:n[o]=i;const s=(o,i=new Set)=>{if(i.has(o))return[];i.add(o);const a=U0(o.type);if(!a)return[];const l=[];for(const[u,d]of Object.entries(a))if(l.push([u,d]),d.type!==_t){const p=s(d,i);l.push(...p)}return l};for(const[o,i]of Object.entries(n)){const a=s(i);for(const[l,u]of a)l in n||l in r||t[l].source!==null||(u.type===_t?r[l]=u:n[l]=u)}return{rootClients:n,derivedClients:r}}const Yh=e=>H(()=>e,[...Object.entries(e).flat()]),V0=(e,t)=>{const{rootClients:n,derivedClients:r}=H0(e,t);return{rootClients:Yh(n),derivedClients:Yh(r)}},Mv=e=>typeof e=="string"?{scope:e.split(".")[0],event:e}:{scope:e.scope,event:e.event},W0=Q(()=>Kr(()=>{const e=new Map,t=new Set,n=new Set;return{on(r,s){const o=s;if(r==="*")return t.add(o),()=>t.delete(o);let i=e.get(r);return i||(i=new Set,e.set(r,i)),i.add(o),()=>{i.delete(o),i.size===0&&e.delete(r)}},emit(r,s,o){const i=e.get(r);!i&&t.size===0||queueMicrotask(()=>{const a=[];if(i)for(const l of i)try{l(s,o)}catch(u){a.push(u)}if(t.size>0){const l={event:r,payload:s};for(const u of t)try{u(l,o)}catch(d){a.push(d)}}if(a.length>0){if(a.length===1)throw a[0];for(const l of a)console.error(l);throw new AggregateError(a,"Errors occurred during event emission")}})},subscribe(r){return n.add(r),()=>n.delete(r)},notifySubscribers(){for(const r of n)try{r()}catch(s){console.error("NotificationManager: subscriber callback error",s)}}}})),jv=bv(null),Y0=(e,t)=>Cv(jv,e,t),Ov=()=>{const e=Ev(jv);if(!e)throw new Error("AssistantTapContext is not available");return e},Dv=()=>Ov().clientRef,Zc=()=>{const{emit:e}=Ov(),t=Qc();return qc((n,r)=>{e(n,r,t)})},Lv=e=>H(()=>e,e),G0=Q(({element:e,emit:t,clientRef:n})=>{const{methods:r,state:s}=Y0({clientRef:n,emit:t},()=>ka(e));return H(()=>({state:s,methods:r}),[r,s])}),K0=Q(({element:e,notifications:t,clientRef:n,name:r})=>{const s=P0(G0({element:e,emit:t.emit,clientRef:n}));return Re(()=>s.subscribe(t.notifySubscribers),[s,t]),H(()=>{const o=()=>s.getValue().methods;return Object.defineProperties(o,{source:{value:"root",writable:!1},query:{value:{},writable:!1},name:{value:r,configurable:!0}}),o},[s,r])}),q0=Q(()=>H(()=>({clients:[],subscribe:void 0,on:void 0}),[])),X0=Q(({clients:e,clientRef:t})=>{const n=Ht(W0());Re(()=>t.parent.subscribe(n.notifySubscribers),[t,n]);const r=Lv(Xc(()=>Object.keys(e).map(s=>cn(s,K0({element:e[s],notifications:n,clientRef:t,name:s}))),[e,n,t]));return H(()=>({clients:r,subscribe:n.subscribe,on:function(s,o){if(!this)throw new Error("const { on } = useAui() is not supported. Use aui.on() instead.");const{scope:i,event:a}=Mv(s);if(i!=="*"&&this[i].source===null)throw new Error(`Scope "${i}" is not available. Use { scope: "*", event: "${a}" } to listen globally.`);const l=n.on(a,(d,p)=>{if(i==="*"){o(d);return}const f=this[i](),m=I0(f);f===p[m]&&o(d)});if(i!=="*"&&t.parent[i].source===null)return l;const u=t.parent.on(s,o);return()=>{l(),u()}}}),[r,n,t])}),Gh=(e,t,n)=>{if("source"in e&&"query"in e)return e;if(n.dep===e)return n.meta;const r=e.getMeta(t.current);return n.meta=r,n.dep=e,r},Q0=Q(({element:e,clientRef:t,name:n})=>{const r=qc(()=>e.props);return H(()=>{const s=()=>r().get(t.current),o={};return Object.defineProperties(s,{source:{get:()=>Gh(r(),t,o).source},query:{get:()=>Gh(r(),t,o).query},name:{value:n,configurable:!0}}),s},[t,n])}),J0=Q(({clients:e,clientRef:t})=>Lv(Xc(()=>Object.keys(e).map(n=>cn(n,Q0({element:e[n],clientRef:t,name:n}))),[e,t]))),Z0=Q(({parent:e,clients:t})=>{const{rootClients:n,derivedClients:r}=V0(t,e),s=En({parent:e,current:null}).current;Re(()=>{s.current=a});const o=Sv(Object.keys(n).length>0?X0({clients:n,clientRef:s}):q0()),i=Ht(J0({clients:r,clientRef:s})),a=H(()=>{const l=e===Aa?$0():e,u=Object.create(l);Object.assign(u,{subscribe:o.subscribe??e.subscribe,on:o.on??e.on,[Os]:Av(u)});for(const d of o.clients)u[d.name]=d;for(const d of i)u[d.name]=d;return u},[e,o,i]);return s.current===null&&(s.current=a),a});function z(e,{parent:t}={parent:z0()}){if(e)return x0(Z0({parent:t??Aa,clients:e}));if(t===null)throw new Error("received null parent, this usage is not allowed");return t}const L=e=>{const t=z(),n=L0(t),r=c.useSyncExternalStore(t.subscribe,()=>e(n),()=>e(n));if(r===n)throw new Error("You tried to return the entire AssistantState. This is not supported due to technical limitations.");return c.useDebugValue(r),r},eC=He.createContext(!0);function Kh(){throw new Error("A function wrapped in useEffectEvent can't be called during rendering.")}const tC="use"in He?()=>{try{return He.use(eC)}catch{return!1}}:()=>!1;function nC(e){const t=He.useRef(Kh);return He.useInsertionEffect(()=>{t.current=e},[e]),(...n)=>{tC()&&Kh();const r=t.current;return r(...n)}}const bl=(e,t)=>{const n=z(),r=nC(t),{scope:s,event:o}=Mv(e);c.useEffect(()=>n.on({scope:s,event:o},r),[n,s,o,r])},rC=Rv(e=>{if(e.key===void 0)throw new Error("tapClientResource: Element has no key");return Ht(kv(e))});function qr(e,t){const n=Xc(()=>e().map(i=>rC(i)),t),r=H(()=>Object.keys(n),[n]),s=H(()=>n.reduce((i,a,l)=>(i[a.key]=l,i),{}),[n]);return{state:H(()=>n.map(i=>i.state),[n]),get:i=>{if("index"in i){if(i.index<0||i.index>=r.length)throw new Error(`tapClientLookup: Index ${i.index} out of bounds (length: ${r.length})`);return n[i.index].methods}const a=s[i.key];if(a===void 0)throw new Error(`tapClientLookup: Key "${i.key}" not found`);return n[a].methods}}}const sC=e=>Array.from(e).map(n=>n.getModelContext()).sort((n,r)=>(r.priority??0)-(n.priority??0)).reduce((n,r)=>{var s;if(r.system&&(n.system?n.system+=`

${r.system}`:n.system=r.system),r.tools)for(const[o,i]of Object.entries(r.tools)){const a=(s=n.tools)==null?void 0:s[o];if(a&&a!==i)throw new Error(`You tried to define a tool with the name ${o}, but it already exists.`);n.tools||(n.tools={}),n.tools[o]=i}return r.config&&(n.config={...n.config,...r.config}),r.callSettings&&(n.callSettings={...n.callSettings,...r.callSettings}),n},{});class ed{constructor(){_(this,"_providers",new Set);_(this,"_subscribers",new Set)}getModelContext(){return sC(this._providers)}registerModelContextProvider(t){var r;this._providers.add(t);const n=(r=t.subscribe)==null?void 0:r.call(t,()=>{this.notifySubscribers()});return this.notifySubscribers(),()=>{this._providers.delete(t),n==null||n(),this.notifySubscribers()}}notifySubscribers(){for(const t of this._subscribers)t()}subscribe(t){return this._subscribers.add(t),()=>this._subscribers.delete(t)}}class td{constructor(){_(this,"_contextProvider",new ed)}registerModelContextProvider(t){return this._contextProvider.registerModelContextProvider(t)}getModelContextProvider(){return this._contextProvider}}class wo{constructor(){_(this,"_subscribers",new Set)}subscribe(t){return this._subscribers.add(t),()=>this._subscribers.delete(t)}waitForUpdate(){return new Promise(t=>{const n=this.subscribe(()=>{n(),t()})})}_notifySubscribers(){const t=[];for(const n of this._subscribers)try{n()}catch(r){t.push(r)}if(t.length>0){if(t.length===1)throw t[0];for(const n of t)console.error(n);throw new AggregateError(t)}}}const oC=e=>e.status.type==="complete";class Bv extends wo{constructor(){super(...arguments);_(this,"isEditing",!0);_(this,"_attachments",[]);_(this,"_text","");_(this,"_role","user");_(this,"_runConfig",{});_(this,"_dictation");_(this,"_dictationSession");_(this,"_dictationUnsubscribes",[]);_(this,"_dictationBaseText","");_(this,"_currentInterimText","");_(this,"_dictationSessionIdCounter",0);_(this,"_activeDictationSessionId");_(this,"_isCleaningDictation",!1);_(this,"_eventSubscribers",new Map)}get attachmentAccept(){var n;return((n=this.getAttachmentAdapter())==null?void 0:n.accept)??"*"}get attachments(){return this._attachments}setAttachments(n){this._attachments=n,this._notifySubscribers()}get isEmpty(){return!this.text.trim()&&!this.attachments.length}get text(){return this._text}get role(){return this._role}get runConfig(){return this._runConfig}setText(n){if(this._text!==n){if(this._text=n,this._dictation){this._dictationBaseText=n,this._currentInterimText="";const{status:r,inputDisabled:s}=this._dictation;this._dictation=s?{status:r,inputDisabled:s}:{status:r}}this._notifySubscribers()}}setRole(n){this._role!==n&&(this._role=n,this._notifySubscribers())}setRunConfig(n){this._runConfig!==n&&(this._runConfig=n,this._notifySubscribers())}_emptyTextAndAttachments(){this._attachments=[],this._text="",this._notifySubscribers()}async _onClearAttachments(){const n=this.getAttachmentAdapter();n&&await Promise.all(this._attachments.map(r=>n.remove(r)))}async reset(){if(this._attachments.length===0&&this._text===""&&this._role==="user"&&Object.keys(this._runConfig).length===0)return;this._role="user",this._runConfig={};const n=this._onClearAttachments();this._emptyTextAndAttachments(),await n}async clearAttachments(){const n=this._onClearAttachments();this.setAttachments([]),await n}async send(){this._dictationSession&&(this._dictationSession.cancel(),this._cleanupDictation());const n=this.getAttachmentAdapter(),r=n&&this.attachments.length>0?Promise.all(this.attachments.map(async i=>oC(i)?i:await n.send(i))):[],s=this.text;this._emptyTextAndAttachments();const o={createdAt:new Date,role:this.role,content:s?[{type:"text",text:s}]:[],attachments:await r,runConfig:this.runConfig,metadata:{custom:{}}};this.handleSend(o),this._notifyEventSubscribers("send")}cancel(){this.handleCancel()}async addAttachment(n){const r=this.getAttachmentAdapter();if(!r)throw new Error("Attachments are not supported");const s=i=>{const a=this._attachments.findIndex(l=>l.id===i.id);a!==-1?this._attachments=[...this._attachments.slice(0,a),i,...this._attachments.slice(a+1)]:this._attachments=[...this._attachments,i],this._notifySubscribers()},o=r.add({file:n});if(Symbol.asyncIterator in o)for await(const i of o)s(i);else s(await o);this._notifyEventSubscribers("attachmentAdd"),this._notifySubscribers()}async removeAttachment(n){const r=this.getAttachmentAdapter();if(!r)throw new Error("Attachments are not supported");const s=this._attachments.findIndex(i=>i.id===n);if(s===-1)throw new Error("Attachment not found");const o=this._attachments[s];await r.remove(o),this._attachments=[...this._attachments.slice(0,s),...this._attachments.slice(s+1)],this._notifySubscribers()}get dictation(){return this._dictation}_isActiveSession(n,r){return this._activeDictationSessionId===n&&this._dictationSession===r}startDictation(){const n=this.getDictationAdapter();if(!n)throw new Error("Dictation adapter not configured");if(this._dictationSession){for(const p of this._dictationUnsubscribes)p();this._dictationUnsubscribes=[],this._dictationSession.stop().catch(()=>{}),this._dictationSession=void 0}const r=n.disableInputDuringDictation??!1;this._dictationBaseText=this._text,this._currentInterimText="";const s=n.listen();this._dictationSession=s;const o=++this._dictationSessionIdCounter;this._activeDictationSessionId=o,this._dictation={status:s.status,inputDisabled:r},this._notifySubscribers();const i=s.onSpeech(d=>{if(!this._isActiveSession(o,s))return;const p=d.isFinal!==!1,m=this._dictationBaseText&&!this._dictationBaseText.endsWith(" ")&&d.transcript?" ":"";if(p){if(this._dictationBaseText=this._dictationBaseText+m+d.transcript,this._currentInterimText="",this._text=this._dictationBaseText,this._dictation){const{transcript:S,...y}=this._dictation;this._dictation=y}this._notifySubscribers()}else this._currentInterimText=m+d.transcript,this._text=this._dictationBaseText+this._currentInterimText,this._dictation&&(this._dictation={...this._dictation,transcript:d.transcript}),this._notifySubscribers()});this._dictationUnsubscribes.push(i);const a=s.onSpeechStart(()=>{var d;this._isActiveSession(o,s)&&(this._dictation={status:{type:"running"},inputDisabled:r,...((d=this._dictation)==null?void 0:d.transcript)&&{transcript:this._dictation.transcript}},this._notifySubscribers())});this._dictationUnsubscribes.push(a);const l=s.onSpeechEnd(()=>{this._cleanupDictation({sessionId:o})});this._dictationUnsubscribes.push(l);const u=setInterval(()=>{this._isActiveSession(o,s)&&s.status.type==="ended"&&this._cleanupDictation({sessionId:o})},100);this._dictationUnsubscribes.push(()=>clearInterval(u))}stopDictation(){if(!this._dictationSession)return;const n=this._dictationSession,r=this._activeDictationSessionId;n.stop().finally(()=>{this._cleanupDictation({sessionId:r})})}_cleanupDictation(n){if(!((n==null?void 0:n.sessionId)!==void 0&&n.sessionId!==this._activeDictationSessionId||this._isCleaningDictation)){this._isCleaningDictation=!0;try{for(const s of this._dictationUnsubscribes)s();this._dictationUnsubscribes=[],this._dictationSession=void 0,this._activeDictationSessionId=void 0,this._dictation=void 0,this._dictationBaseText="",this._currentInterimText="",this._notifySubscribers()}finally{this._isCleaningDictation=!1}}}_notifyEventSubscribers(n){const r=this._eventSubscribers.get(n);if(r)for(const s of r)s()}unstable_on(n,r){const s=this._eventSubscribers.get(n);return s?s.add(r):this._eventSubscribers.set(n,new Set([r])),()=>{const o=this._eventSubscribers.get(n);o&&o.delete(r)}}}class Fv extends Bv{constructor(n){super();_(this,"runtime");_(this,"_canCancel",!1);this.runtime=n,this.connect()}get canCancel(){return this._canCancel}get attachments(){return super.attachments}getAttachmentAdapter(){var n;return(n=this.runtime.adapters)==null?void 0:n.attachments}getDictationAdapter(){var n;return(n=this.runtime.adapters)==null?void 0:n.dictation}connect(){return this.runtime.subscribe(()=>{this.canCancel!==this.runtime.capabilities.cancel&&(this._canCancel=this.runtime.capabilities.cancel,this._notifySubscribers())})}async handleSend(n){var r;this.runtime.append({...n,parentId:((r=this.runtime.messages.at(-1))==null?void 0:r.id)??null,sourceId:null})}async handleCancel(){this.runtime.cancelRun()}}let iC=(e,t=21)=>(n=t)=>{let r="",s=n|0;for(;s--;)r+=e[Math.random()*e.length|0];return r};const ir=iC("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",7),aC="__optimistic__",lC=()=>`${aC}${ir()}`,Pa=Symbol("autoStatus"),uC=Object.freeze(Object.assign({type:"running"},{[Pa]:!0})),cC=Object.freeze(Object.assign({type:"complete",reason:"unknown"},{[Pa]:!0})),dC=Object.freeze(Object.assign({type:"requires-action",reason:"tool-calls"},{[Pa]:!0})),fC=Object.freeze(Object.assign({type:"requires-action",reason:"interrupt"},{[Pa]:!0})),$v=(e,t,n,r,s)=>e&&t?uC:n?fC:r?dC:cC;var ss={exports:{}};const hC=typeof Buffer<"u",qh=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,Xh=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function zv(e,t,n){n==null&&t!==null&&typeof t=="object"&&(n=t,t=void 0),hC&&Buffer.isBuffer(e)&&(e=e.toString()),e&&e.charCodeAt(0)===65279&&(e=e.slice(1));const r=JSON.parse(e,t);if(r===null||typeof r!="object")return r;const s=n&&n.protoAction||"error",o=n&&n.constructorAction||"error";if(s==="ignore"&&o==="ignore")return r;if(s!=="ignore"&&o!=="ignore"){if(qh.test(e)===!1&&Xh.test(e)===!1)return r}else if(s!=="ignore"&&o==="ignore"){if(qh.test(e)===!1)return r}else if(Xh.test(e)===!1)return r;return Uv(r,{protoAction:s,constructorAction:o,safe:n&&n.safe})}function Uv(e,{protoAction:t="error",constructorAction:n="error",safe:r}={}){let s=[e];for(;s.length;){const o=s;s=[];for(const i of o){if(t!=="ignore"&&Object.prototype.hasOwnProperty.call(i,"__proto__")){if(r===!0)return null;if(t==="error")throw new SyntaxError("Object contains forbidden prototype property");delete i.__proto__}if(n!=="ignore"&&Object.prototype.hasOwnProperty.call(i,"constructor")&&i.constructor!==null&&typeof i.constructor=="object"&&Object.prototype.hasOwnProperty.call(i.constructor,"prototype")){if(r===!0)return null;if(n==="error")throw new SyntaxError("Object contains forbidden prototype property");delete i.constructor}for(const a in i){const l=i[a];l&&typeof l=="object"&&s.push(l)}}}return e}function nd(e,t,n){const{stackTraceLimit:r}=Error;Error.stackTraceLimit=0;try{return zv(e,t,n)}finally{Error.stackTraceLimit=r}}function pC(e,t){const{stackTraceLimit:n}=Error;Error.stackTraceLimit=0;try{return zv(e,t,{safe:!0})}catch{return}finally{Error.stackTraceLimit=n}}ss.exports=nd;ss.exports.default=nd;ss.exports.parse=nd;ss.exports.safeParse=pC;ss.exports.scan=Uv;var mC=ss.exports;const Qh=ua(mC);function gC(e){const t=["ROOT"];let n=-1,r=null;const s=[];let o;function i(){o!==void 0&&(s.push(JSON.parse(`"${o}"`)),o=void 0)}function a(p,f,m){switch(p){case'"':{n=f,t.pop(),t.push(m),t.push("INSIDE_STRING"),i();break}case"f":case"t":case"n":{n=f,r=f,t.pop(),t.push(m),t.push("INSIDE_LITERAL");break}case"-":{t.pop(),t.push(m),t.push("INSIDE_NUMBER"),i();break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=f,t.pop(),t.push(m),t.push("INSIDE_NUMBER"),i();break}case"{":{n=f,t.pop(),t.push(m),t.push("INSIDE_OBJECT_START"),i();break}case"[":{n=f,t.pop(),t.push(m),t.push("INSIDE_ARRAY_START"),i();break}}}function l(p,f){switch(p){case",":{t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{n=f,t.pop(),o=s.pop();break}}}function u(p,f){switch(p){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA"),o=(Number(o)+1).toString();break}case"]":{n=f,t.pop(),o=s.pop();break}}}for(let p=0;p<e.length;p++){const f=e[p];switch(t[t.length-1]){case"ROOT":a(f,p,"FINISH");break;case"INSIDE_OBJECT_START":{switch(f){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY"),o="";break}case"}":{n=p,t.pop(),o=s.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(f){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY"),o="";break}}break}case"INSIDE_OBJECT_KEY":{switch(f){case'"':{t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break}case"\\":{t.push("INSIDE_STRING_ESCAPE"),o+=f;break}default:{o+=f;break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(f){case":":{t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{a(f,p,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{l(f,p);break}case"INSIDE_STRING":{switch(f){case'"':{t.pop(),n=p,o=s.pop();break}case"\\":{t.push("INSIDE_STRING_ESCAPE");break}default:n=p}break}case"INSIDE_ARRAY_START":{switch(f){case"]":{n=p,t.pop(),o=s.pop();break}default:{n=p,o="0",a(f,p,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(f){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA"),o=(Number(o)+1).toString();break}case"]":{n=p,t.pop(),o=s.pop();break}default:{n=p;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{a(f,p,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{t.pop(),t[t.length-1]==="INSIDE_STRING"?n=p:t[t.length-1]==="INSIDE_OBJECT_KEY"&&(o+=f);break}case"INSIDE_NUMBER":{switch(f){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=p;break}case"e":case"E":case"-":case".":break;case",":{t.pop(),o=s.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&u(f,p),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&l(f,p);break}case"}":{t.pop(),o=s.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&l(f,p);break}case"]":{t.pop(),o=s.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&u(f,p);break}default:{t.pop(),o=s.pop();break}}break}case"INSIDE_LITERAL":{const S=e.substring(r,p+1);!"false".startsWith(S)&&!"true".startsWith(S)&&!"null".startsWith(S)?(t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?l(f,p):t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&u(f,p)):n=p;break}}}let d=e.slice(0,n+1);for(let p=t.length-1;p>=0;p--)switch(t[p]){case"INSIDE_STRING":{d+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{d+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{d+="]";break}case"INSIDE_LITERAL":{const m=e.substring(r,e.length);"true".startsWith(m)?d+="true".slice(m.length):"false".startsWith(m)?d+="false".slice(m.length):"null".startsWith(m)&&(d+="null".slice(m.length))}}return[d,s]}const Cl=Symbol("aui.parse-partial-json-object.meta"),Hv=e=>{if(e.length===0)return{[Cl]:{state:"partial",partialPath:[]}};try{const t=Qh.parse(e);if(typeof t!="object"||t===null)throw new Error("argsText is expected to be an object");return t[Cl]={state:"complete",partialPath:[]},t}catch{try{const[t,n]=gC(e),r=Qh.parse(t);if(typeof r!="object"||r===null)throw new Error("argsText is expected to be an object");return r[Cl]={state:"partial",partialPath:n},r}catch{return}}},Lu={toResponse(e,t){return new Response(Lu.toByteStream(e,t),{headers:t.headers??{}})},fromResponse(e,t){return Lu.fromByteStream(e.body,t)},toByteStream(e,t){return e.pipeThrough(t)},fromByteStream(e,t){return e.pipeThrough(t)}},Vv=function(){let e,t;const n=new Promise((r,s)=>{e=r,t=s});if(!e||!t)throw new Error("Failed to create promise");return{promise:n,resolve:e,reject:t}},vC=()=>{const e=[];let t=!1,n,r;const s=i=>{i.promise||(i.promise=i.reader.read().then(({done:a,value:l})=>{i.promise=void 0,a?(e.splice(e.indexOf(i),1),t&&e.length===0&&n.close()):n.enqueue(l),r==null||r.resolve(),r=void 0}).catch(a=>{console.error(a),e.forEach(l=>{l.reader.cancel()}),e.length=0,n.error(a),r==null||r.reject(a),r=void 0}))};return{readable:new ReadableStream({start(i){n=i},pull(){return r=Vv(),e.forEach(i=>{s(i)}),r.promise},cancel(){e.forEach(i=>{i.reader.cancel()}),e.length=0}}),isSealed(){return t},seal(){t=!0,e.length===0&&n.close()},addStream(i){if(t)throw new Error("Cannot add streams after the run callback has settled.");const a={reader:i.getReader()};e.push(a),s(a)},enqueue(i){this.addStream(new ReadableStream({start(a){a.enqueue(i),a.close()}}))}}};class Jh{constructor(t){_(this,"_controller");_(this,"_isClosed",!1);this._controller=t}append(t){return this._controller.enqueue({type:"text-delta",path:[],textDelta:t}),this}close(){this._isClosed||(this._isClosed=!0,this._controller.enqueue({type:"part-finish",path:[]}),this._controller.close())}}const Wv=e=>new ReadableStream({start(t){var n;return(n=e.start)==null?void 0:n.call(e,new Jh(t))},pull(t){var n;return(n=e.pull)==null?void 0:n.call(e,new Jh(t))},cancel(t){var n;return(n=e.cancel)==null?void 0:n.call(e,t)}}),Zh=()=>{let e;return[Wv({start(n){e=n}}),e]};class ep{constructor(t){_(this,"_controller");_(this,"_isClosed",!1);_(this,"_mergeTask");_(this,"_argsTextController");this._controller=t;const n=Wv({start:s=>{this._argsTextController=s}});let r=!1;this._mergeTask=n.pipeTo(new WritableStream({write:s=>{switch(s.type){case"text-delta":r=!0,this._controller.enqueue(s);break;case"part-finish":r||this._controller.enqueue({type:"text-delta",textDelta:"{}",path:[]}),this._controller.enqueue({type:"tool-call-args-text-finish",path:[]});break;default:throw new Error(`Unexpected chunk type: ${s.type}`)}}}))}get argsText(){return this._argsTextController}async setResponse(t){this._argsTextController.close(),await Promise.resolve(),this._controller.enqueue({type:"result",path:[],...t.artifact!==void 0?{artifact:t.artifact}:{},result:t.result,isError:t.isError??!1})}async close(){this._isClosed||(this._isClosed=!0,this._argsTextController.close(),await this._mergeTask,this._controller.enqueue({type:"part-finish",path:[]}),this._controller.close())}}const yC=e=>new ReadableStream({start(t){var n;return(n=e.start)==null?void 0:n.call(e,new ep(t))},pull(t){var n;return(n=e.pull)==null?void 0:n.call(e,new ep(t))},cancel(t){var n;return(n=e.cancel)==null?void 0:n.call(e,t)}}),wC=()=>{let e;return[yC({start(n){e=n}}),e]};class Yv{constructor(){_(this,"value",-1)}up(){return++this.value}}class SC extends TransformStream{constructor(t){super({transform(n,r){r.enqueue({...n,path:[t,...n.path]})}})}}class ej extends TransformStream{constructor(t){super({transform(n,r){const{path:[s,...o]}=n;if(t!==s)throw new Error(`Path mismatch: expected ${t}, got ${s}`);r.enqueue({...n,path:o})}})}}class xC extends TransformStream{constructor(t){const n=new Yv,r=new Map;super({transform(s,o){s.type==="part-start"&&s.path.length===0&&r.set(n.up(),t.up());const[i,...a]=s.path;if(i===void 0){o.enqueue(s);return}const l=r.get(i);if(l===void 0)throw new Error("Path not found");o.enqueue({...s,path:[l,...a]})}})}}class _C extends TransformStream{constructor(t){super();const n=t(super.readable);Object.defineProperty(this,"readable",{value:n,writable:!1})}}let bC=(e,t=21)=>(n=t)=>{let r="",s=n|0;for(;s--;)r+=e[Math.random()*e.length|0];return r};const Gv=bC("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",7);class rd{constructor(t){_(this,"_state");_(this,"_parentId");this._state=t||{merger:vC(),contentCounter:new Yv}}get __internal_isClosed(){return this._state.merger.isSealed()}__internal_getReadable(){return this._state.merger.readable}__internal_subscribeToClose(t){this._state.closeSubscriber=t}_addPart(t,n){this._state.append&&(this._state.append.controller.close(),this._state.append=void 0),this.enqueue({type:"part-start",part:t,path:[]}),this._state.merger.addStream(n.pipeThrough(new SC(this._state.contentCounter.value)))}merge(t){this._state.merger.addStream(t.pipeThrough(new xC(this._state.contentCounter)))}appendText(t){var n;((n=this._state.append)==null?void 0:n.kind)!=="text"&&(this._state.append={kind:"text",controller:this.addTextPart()}),this._state.append.controller.append(t)}appendReasoning(t){var n;((n=this._state.append)==null?void 0:n.kind)!=="reasoning"&&(this._state.append={kind:"reasoning",controller:this.addReasoningPart()}),this._state.append.controller.append(t)}addTextPart(){const[t,n]=Zh();return this._addPart({type:"text"},t),n}addReasoningPart(){const[t,n]=Zh();return this._addPart({type:"reasoning"},t),n}addToolCallPart(t){const n=typeof t=="string"?{toolName:t}:t,r=n.toolName,s=n.toolCallId??Gv(),[o,i]=wC();return this._addPart({type:"tool-call",toolName:r,toolCallId:s,...this._parentId&&{parentId:this._parentId}},o),n.argsText!==void 0&&(i.argsText.append(n.argsText),i.argsText.close()),n.args!==void 0&&(i.argsText.append(JSON.stringify(n.args)),i.argsText.close()),n.response!==void 0&&i.setResponse(n.response),i}appendSource(t){this._addPart({...t,...this._parentId&&{parentId:this._parentId}},new ReadableStream({start(n){n.enqueue({type:"part-finish",path:[]}),n.close()}}))}appendFile(t){this._addPart(t,new ReadableStream({start(n){n.enqueue({type:"part-finish",path:[]}),n.close()}}))}enqueue(t){this._state.merger.enqueue(t),t.type==="part-start"&&t.path.length===0&&this._state.contentCounter.up()}withParentId(t){const n=new rd(this._state);return n._parentId=t,n}close(){var t,n,r,s;(n=(t=this._state.append)==null?void 0:t.controller)==null||n.close(),this._state.merger.seal(),(s=(r=this._state).closeSubscriber)==null||s.call(r)}}function CC(e){const t=new rd;return(async()=>{try{await e(t)}catch(r){throw t.__internal_isClosed||t.enqueue({type:"error",path:[],error:String(r)}),r}finally{t.__internal_isClosed||t.close()}})(),t.__internal_getReadable()}function EC(){const{resolve:e,promise:t}=Vv();let n;return[CC(s=>(n=s,n.__internal_subscribeToClose(e),t)),n]}class TC extends TransformStream{constructor(t,n,r){const[s,o]=EC();let i;super({start(a){var l;return i=s.pipeTo(new WritableStream({write(u){a.enqueue(u)},abort(u){a.error(u)},close(){a.terminate()}})).catch(u=>{a.error(u)}),(l=t.start)==null?void 0:l.call(t,o)},transform(a){var l;return(l=t.transform)==null?void 0:l.call(t,a,o)},async flush(){var a;await((a=t.flush)==null?void 0:a.call(t,o)),o.close(),await i}},n,r)}}const So=(e,t,n)=>{const{role:r,id:s,createdAt:o,attachments:i,status:a,metadata:l}=e,u={id:s??t,createdAt:o??new Date},d=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content,p=({image:f,...m})=>f.match(/^data:image\/(png|jpeg|jpg|gif|webp);base64,(.*)$/)?{...m,image:f}:(console.warn("Invalid image data format detected"),null);if(r!=="user"&&(i!=null&&i.length))throw new Error("attachments are only supported for user messages");if(r!=="assistant"&&a)throw new Error("status is only supported for assistant messages");if(r!=="assistant"&&(l!=null&&l.steps))throw new Error("metadata.steps is only supported for assistant messages");switch(r){case"assistant":return{...u,role:r,content:d.map(f=>{const m=f.type;switch(m){case"text":case"reasoning":return f.text.trim().length===0?null:f;case"file":case"source":return f;case"image":return p(f);case"data":return f;case"tool-call":{const{parentId:S,messages:y,...b}=f,g={...b,toolCallId:f.toolCallId??`tool-${ir()}`,...S!==void 0&&{parentId:S},...y!==void 0&&{messages:y}};return f.args?{...g,args:f.args,argsText:f.argsText??JSON.stringify(f.args)}:{...g,args:Hv(f.argsText??"")??{},argsText:f.argsText??""}}default:{const S=m;throw new Error(`Unsupported assistant message part type: ${S}`)}}}).filter(f=>!!f),status:a??n,metadata:{unstable_state:(l==null?void 0:l.unstable_state)??null,unstable_annotations:(l==null?void 0:l.unstable_annotations)??[],unstable_data:(l==null?void 0:l.unstable_data)??[],custom:(l==null?void 0:l.custom)??{},steps:(l==null?void 0:l.steps)??[],...(l==null?void 0:l.submittedFeedback)&&{submittedFeedback:l.submittedFeedback}}};case"user":return{...u,role:r,content:d.map(f=>{const m=f.type;switch(m){case"text":case"image":case"audio":case"file":return f;default:{const S=m;throw new Error(`Unsupported user message part type: ${S}`)}}}),attachments:i??[],metadata:{custom:(l==null?void 0:l.custom)??{}}};case"system":if(d.length!==1||d[0].type!=="text")throw new Error("System messages must have exactly one text message part.");return{...u,role:r,content:d,metadata:{custom:(l==null?void 0:l.custom)??{}}};default:{const f=r;throw new Error(`Unknown message role: ${f}`)}}},sd={fromArray:e=>{const t=e.map(n=>So(n,ir(),$v(!1,!1,!1,!1)));return{messages:t.map((n,r)=>({parentId:r>0?t[r-1].id:null,message:n}))}}},fi=e=>e.next?fi(e.next):"current"in e?e:null;class RC{constructor(t){_(this,"func");_(this,"_value",null);this.func=t}get value(){return this._value===null&&(this._value=this.func()),this._value}dirty(){this._value=null}}class Kv{constructor(){_(this,"messages",new Map);_(this,"head",null);_(this,"root",{children:[],next:null});_(this,"_messages",new RC(()=>{var n;const t=new Array((((n=this.head)==null?void 0:n.level)??-1)+1);for(let r=this.head;r;r=r.prev)t[r.level]=r.current;return t}))}updateLevels(t,n){t.level=n;for(const r of t.children){const s=this.messages.get(r);s&&this.updateLevels(s,n+1)}}performOp(t,n,r){const s=n.prev??this.root,o=t??this.root;if(!(r==="relink"&&s===o)){if(r!=="link"&&(s.children=s.children.filter(i=>i!==n.current.id),s.next===n)){const i=s.children.at(-1),a=i?this.messages.get(i):null;if(a===void 0)throw new Error("MessageRepository(performOp/cut): Fallback sibling message not found. This is likely an internal bug in assistant-ui.");s.next=a}if(r!=="cut"){for(let a=t;a;a=a.prev)if(a.current.id===n.current.id)throw new Error("MessageRepository(performOp/link): A message with the same id already exists in the parent tree. This error occurs if the same message id is found multiple times. This is likely an internal bug in assistant-ui.");o.children=[...o.children,n.current.id],(fi(n)===this.head||o.next===null)&&(o.next=n),n.prev=t;const i=t?t.level+1:0;this.updateLevels(n,i)}}}get headId(){var t;return((t=this.head)==null?void 0:t.current.id)??null}getMessages(t){var s;if(t===void 0||t===((s=this.head)==null?void 0:s.current.id))return this._messages.value;const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(getMessages): Head message not found. This is likely an internal bug in assistant-ui.");const r=new Array(n.level+1);for(let o=n;o;o=o.prev)r[o.level]=o.current;return r}addOrUpdateMessage(t,n){const r=this.messages.get(n.id),s=t?this.messages.get(t):null;if(s===void 0)throw new Error("MessageRepository(addOrUpdateMessage): Parent message not found. This is likely an internal bug in assistant-ui.");if(r){r.current=n,this.performOp(s,r,"relink"),this._messages.dirty();return}const o={prev:s,current:n,next:null,children:[],level:s?s.level+1:0};this.messages.set(n.id,o),this.performOp(s,o,"link"),this.head===s&&(this.head=o),this._messages.dirty()}getMessage(t){var r;const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(updateMessage): Message not found. This is likely an internal bug in assistant-ui.");return{parentId:((r=n.prev)==null?void 0:r.current.id)??null,message:n.current,index:n.level}}appendOptimisticMessage(t,n){let r;do r=lC();while(this.messages.has(r));return this.addOrUpdateMessage(t,So(n,r,{type:"running"})),r}deleteMessage(t,n){const r=this.messages.get(t);if(!r)throw new Error("MessageRepository(deleteMessage): Message not found. This is likely an internal bug in assistant-ui.");const s=n===void 0?r.prev:n===null?null:this.messages.get(n);if(s===void 0)throw new Error("MessageRepository(deleteMessage): Replacement not found. This is likely an internal bug in assistant-ui.");for(const o of r.children){const i=this.messages.get(o);if(!i)throw new Error("MessageRepository(deleteMessage): Child message not found. This is likely an internal bug in assistant-ui.");this.performOp(s,i,"relink")}this.performOp(null,r,"cut"),this.messages.delete(t),this.head===r&&(this.head=fi(s??this.root)),this._messages.dirty()}getBranches(t){const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(getBranches): Message not found. This is likely an internal bug in assistant-ui.");const{children:r}=n.prev??this.root;return r}switchToBranch(t){const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(switchToBranch): Branch not found. This is likely an internal bug in assistant-ui.");const r=n.prev??this.root;r.next=n,this.head=fi(n),this._messages.dirty()}resetHead(t){if(t===null){this.clear();return}const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(resetHead): Branch not found. This is likely an internal bug in assistant-ui.");if(n.children.length>0){const r=s=>{for(const o of s.children){const i=this.messages.get(o);i&&(r(i),this.messages.delete(o))}};r(n),n.children=[],n.next=null}this.head=n;for(let r=n;r;r=r.prev)r.prev&&(r.prev.next=r);this._messages.dirty()}clear(){this.messages.clear(),this.head=null,this.root={children:[],next:null},this._messages.dirty()}export(){var n,r;const t=[];for(const[,s]of this.messages)t.push({message:s.current,parentId:((n=s.prev)==null?void 0:n.current.id)??null});return{headId:((r=this.head)==null?void 0:r.current.id)??null,messages:t}}import({headId:t,messages:n}){var r;for(const{message:s,parentId:o}of n)this.addOrUpdateMessage(o,s);this.resetHead(t??((r=n.at(-1))==null?void 0:r.message.id)??null)}}class Ia{constructor(){_(this,"_subscriptions",new Set);_(this,"_connection")}get isConnected(){return!!this._connection}notifySubscribers(){for(const t of this._subscriptions)t()}_updateConnection(){var t;if(this._subscriptions.size>0){if(this._connection)return;this._connection=this._connect()}else(t=this._connection)==null||t.call(this),this._connection=void 0}subscribe(t){return this._subscriptions.add(t),this._updateConnection(),()=>{this._subscriptions.delete(t),this._updateConnection()}}}const Et=Symbol("skip-update");class od extends Ia{constructor(n){super();_(this,"binding");_(this,"_previousStateDirty",!0);_(this,"_previousState");_(this,"getState",()=>{if(!this.isConnected||this._previousStateDirty){const n=this.binding.getState();n!==Et&&(this._previousState=n),this._previousStateDirty=!1}if(this._previousState===void 0)throw new Error("Entry not available in the store");return this._previousState});this.binding=n}get path(){return this.binding.path}_connect(){const n=()=>{this._previousStateDirty=!0,this.notifySubscribers()};return this.binding.subscribe(n)}}class Ho{constructor(t,n){_(this,"_core");_(this,"_threadListBinding");this._core=t,this._threadListBinding=n,this.__internal_bindMethods()}get path(){return this._core.path}__internal_bindMethods(){this.switchTo=this.switchTo.bind(this),this.rename=this.rename.bind(this),this.archive=this.archive.bind(this),this.unarchive=this.unarchive.bind(this),this.delete=this.delete.bind(this),this.initialize=this.initialize.bind(this),this.generateTitle=this.generateTitle.bind(this),this.subscribe=this.subscribe.bind(this),this.unstable_on=this.unstable_on.bind(this),this.getState=this.getState.bind(this),this.detach=this.detach.bind(this)}getState(){return this._core.getState()}switchTo(){const t=this._core.getState();return this._threadListBinding.switchToThread(t.id)}rename(t){const n=this._core.getState();return this._threadListBinding.rename(n.id,t)}archive(){const t=this._core.getState();return this._threadListBinding.archive(t.id)}unarchive(){const t=this._core.getState();return this._threadListBinding.unarchive(t.id)}delete(){const t=this._core.getState();return this._threadListBinding.delete(t.id)}initialize(){const t=this._core.getState();return this._threadListBinding.initialize(t.id)}generateTitle(){const t=this._core.getState();return this._threadListBinding.generateTitle(t.id)}unstable_on(t,n){let r=this._core.getState().isMain,s=this._core.getState().id;return this.subscribe(()=>{const o=this._core.getState(),i=o.isMain,a=o.id;r===i&&s===a||(r=i,s=a,!(t==="switchedTo"&&!i)&&(t==="switchedAway"&&i||n()))})}subscribe(t){return this._core.subscribe(t)}detach(){const t=this._core.getState();this._threadListBinding.detach(t.id)}__internal_getRuntime(){return this}}function kC(e,t){if(e===void 0&&t===void 0)return!0;if(e===void 0||t===void 0)return!1;for(const n of Object.keys(e)){const r=e[n],s=t[n];if(!Object.is(r,s))return!1}return!0}class wt extends Ia{constructor(n){super();_(this,"binding");_(this,"_previousState");_(this,"getState",()=>(this.isConnected||this._syncState(),this._previousState));this.binding=n;const r=n.getState();if(r===Et)throw new Error("Entry not available in the store");this._previousState=r}get path(){return this.binding.path}_syncState(){const n=this.binding.getState();return n===Et||kC(n,this._previousState)?!1:(this._previousState=n,!0)}_connect(){const n=()=>{this._syncState()&&this.notifySubscribers()};return this.binding.subscribe(n)}}const Yi=Symbol("innerMessage"),Gi=e=>e.content.filter(n=>n.type==="text").map(n=>n.text).join(`

`);class qv{constructor(t){_(this,"_core");this._core=t,this.__internal_bindMethods()}get path(){return this._core.path}__internal_bindMethods(){this.getState=this.getState.bind(this),this.remove=this.remove.bind(this),this.subscribe=this.subscribe.bind(this)}getState(){return this._core.getState()}subscribe(t){return this._core.subscribe(t)}}class Xv extends qv{constructor(n,r){super(n);_(this,"_composerApi");this._composerApi=r}remove(){const n=this._composerApi.getState();if(!n)throw new Error("Composer is not available");return n.removeAttachment(this.getState().id)}}class AC extends Xv{get source(){return"thread-composer"}}class PC extends Xv{get source(){return"edit-composer"}}class IC extends qv{get source(){return"message"}constructor(t){super(t)}remove(){throw new Error("Message attachments cannot be removed")}}class Qv extends Ia{constructor(n){super();_(this,"config");this.config=n}getState(){return this.config.binding.getState()}outerSubscribe(n){return this.config.binding.subscribe(n)}_connect(){const n=()=>{this.notifySubscribers()};let r=this.config.binding.getState(),s=r==null?void 0:r.unstable_on(this.config.event,n);const o=()=>{var l;const a=this.config.binding.getState();a!==r&&(r=a,s==null||s(),s=(l=this.config.binding.getState())==null?void 0:l.unstable_on(this.config.event,n))},i=this.outerSubscribe(o);return()=>{i==null||i(),s==null||s()}}}const Jv=Object.freeze([]),Zv=Object.freeze({}),NC=e=>Object.freeze({type:"thread",isEditing:(e==null?void 0:e.isEditing)??!1,canCancel:(e==null?void 0:e.canCancel)??!1,isEmpty:(e==null?void 0:e.isEmpty)??!0,attachments:(e==null?void 0:e.attachments)??Jv,text:(e==null?void 0:e.text)??"",role:(e==null?void 0:e.role)??"user",runConfig:(e==null?void 0:e.runConfig)??Zv,attachmentAccept:(e==null?void 0:e.attachmentAccept)??"",dictation:e==null?void 0:e.dictation,value:(e==null?void 0:e.text)??""}),MC=e=>Object.freeze({type:"edit",isEditing:(e==null?void 0:e.isEditing)??!1,canCancel:(e==null?void 0:e.canCancel)??!1,isEmpty:(e==null?void 0:e.isEmpty)??!0,text:(e==null?void 0:e.text)??"",role:(e==null?void 0:e.role)??"user",attachments:(e==null?void 0:e.attachments)??Jv,runConfig:(e==null?void 0:e.runConfig)??Zv,attachmentAccept:(e==null?void 0:e.attachmentAccept)??"",dictation:e==null?void 0:e.dictation,value:(e==null?void 0:e.text)??""});class ey{constructor(t){_(this,"_core");_(this,"_eventSubscriptionSubjects",new Map);this._core=t}get path(){return this._core.path}__internal_bindMethods(){this.setText=this.setText.bind(this),this.setRunConfig=this.setRunConfig.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.addAttachment=this.addAttachment.bind(this),this.reset=this.reset.bind(this),this.clearAttachments=this.clearAttachments.bind(this),this.send=this.send.bind(this),this.cancel=this.cancel.bind(this),this.setRole=this.setRole.bind(this),this.getAttachmentByIndex=this.getAttachmentByIndex.bind(this),this.startDictation=this.startDictation.bind(this),this.stopDictation=this.stopDictation.bind(this),this.unstable_on=this.unstable_on.bind(this)}setText(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");n.setText(t)}setRunConfig(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");n.setRunConfig(t)}addAttachment(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");return n.addAttachment(t)}reset(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");return t.reset()}clearAttachments(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");return t.clearAttachments()}send(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.send()}cancel(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.cancel()}setRole(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");n.setRole(t)}startDictation(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.startDictation()}stopDictation(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.stopDictation()}subscribe(t){return this._core.subscribe(t)}unstable_on(t,n){let r=this._eventSubscriptionSubjects.get(t);return r||(r=new Qv({event:t,binding:this._core}),this._eventSubscriptionSubjects.set(t,r)),r.subscribe(n)}}class jC extends ey{constructor(n){const r=new od({path:n.path,getState:()=>NC(n.getState()),subscribe:s=>n.subscribe(s)});super({path:n.path,getState:()=>n.getState(),subscribe:s=>r.subscribe(s)});_(this,"_getState");this._getState=r.getState.bind(r),this.__internal_bindMethods()}get path(){return this._core.path}get type(){return"thread"}getState(){return this._getState()}getAttachmentByIndex(n){return new AC(new wt({path:{...this.path,attachmentSource:"thread-composer",attachmentSelector:{type:"index",index:n},ref:`${this.path.ref}.attachments[${n}]`},getState:()=>{const s=this.getState().attachments[n];return s?{...s,source:"thread-composer"}:Et},subscribe:r=>this._core.subscribe(r)}),this._core)}}class OC extends ey{constructor(n,r){const s=new od({path:n.path,getState:()=>MC(n.getState()),subscribe:o=>n.subscribe(o)});super({path:n.path,getState:()=>n.getState(),subscribe:o=>s.subscribe(o)});_(this,"_beginEdit");_(this,"_getState");this._beginEdit=r,this._getState=s.getState.bind(s),this.__internal_bindMethods()}get path(){return this._core.path}get type(){return"edit"}__internal_bindMethods(){super.__internal_bindMethods(),this.beginEdit=this.beginEdit.bind(this)}getState(){return this._getState()}beginEdit(){this._beginEdit()}getAttachmentByIndex(n){return new PC(new wt({path:{...this.path,attachmentSource:"edit-composer",attachmentSelector:{type:"index",index:n},ref:`${this.path.ref}.attachments[${n}]`},getState:()=>{const s=this.getState().attachments[n];return s?{...s,source:"edit-composer"}:Et},subscribe:r=>this._core.subscribe(r)}),this._core)}}class Ds{constructor(t=null){_(this,"_state");this._state=t}get state(){return this._state}append(t){this._state=t.reduce((n,r)=>Ds.apply(n,r),this._state)}static apply(t,n){const r=n.type;switch(r){case"set":return Ds.updatePath(t,n.path,()=>n.value);case"append-text":return Ds.updatePath(t,n.path,s=>{if(typeof s!="string")throw new Error(`Expected string at path [${n.path.join(", ")}]`);return s+n.value});default:{const s=r;throw new Error(`Invalid operation type: ${s}`)}}}static updatePath(t,n,r){if(n.length===0)return r(t);if(t??(t={}),typeof t!="object")throw new Error(`Invalid path: [${n.join(", ")}]`);const[s,...o]=n;if(Array.isArray(t)){const a=Number(s);if(Number.isNaN(a))throw new Error(`Expected array index at [${n.join(", ")}]`);if(a>t.length||a<0)throw new Error("Insert array index out of bounds");const l=[...t];return l[a]=this.updatePath(l[a],o,r),l}const i={...t};return i[s]=this.updatePath(i[s],o,r),i}}const DC=({unstable_state:e=null}={})=>({role:"assistant",status:{type:"running"},parts:[],get content(){return this.parts},metadata:{unstable_state:e,unstable_data:[],unstable_annotations:[],steps:[],custom:{}}}),Na=(e,t,n)=>{if(e.parts.length===0)throw new Error("No parts available to update.");if(t.path.length!==1)throw new Error("Nested paths are not supported yet.");const r=t.path[0],s=n(e.parts[r]);return{...e,parts:[...e.parts.slice(0,r),s,...e.parts.slice(r+1)],get content(){return this.parts}}},LC=(e,t)=>{const n=t.part;if(n.type==="text"||n.type==="reasoning"){const r={type:n.type,text:"",status:{type:"running"},...n.parentId&&{parentId:n.parentId}};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else if(n.type==="tool-call"){const r={type:"tool-call",state:"partial-call",status:{type:"running",isArgsComplete:!1},toolCallId:n.toolCallId,toolName:n.toolName,argsText:"",args:{},...n.parentId&&{parentId:n.parentId}};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else if(n.type==="source"){const r={type:"source",sourceType:n.sourceType,id:n.id,url:n.url,...n.title?{title:n.title}:void 0,...n.parentId&&{parentId:n.parentId}};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else if(n.type==="file"){const r={type:"file",mimeType:n.mimeType,data:n.data};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else throw new Error(`Unsupported part type: ${n.type}`)},BC=(e,t)=>Na(e,t,n=>{if(n.type!=="tool-call")throw new Error("Last is not a tool call");return n.state!=="partial-call"?n:{...n,state:"call"}}),FC=(e,t)=>Na(e,t,n=>({...n,status:{type:"complete",reason:"unknown"}})),$C=(e,t)=>Na(e,t,n=>{if(n.type==="text"||n.type==="reasoning")return{...n,text:n.text+t.textDelta};if(n.type==="tool-call"){const r=n.argsText+t.textDelta,s=Hv(r)??n.args;return{...n,argsText:r,args:s}}else throw new Error("text-delta received but part is neither text nor tool-call")}),zC=(e,t)=>Na(e,t,n=>{if(n.type==="tool-call")return{...n,state:"result",...t.artifact!==void 0?{artifact:t.artifact}:{},result:t.result,isError:t.isError??!1,status:{type:"complete",reason:"stop"}};throw new Error("Result chunk received but part is not a tool-call")}),tp=(e,t)=>{var r,s;if(((r=e.status)==null?void 0:r.type)==="incomplete"&&((s=e.status)==null?void 0:s.reason)==="error")return e;const n=UC(t);return{...e,status:n}},UC=e=>e.finishReason==="tool-calls"?{type:"requires-action",reason:"tool-calls"}:e.finishReason==="stop"||e.finishReason==="unknown"?{type:"complete",reason:e.finishReason}:{type:"incomplete",reason:e.finishReason},HC=(e,t)=>({...e,metadata:{...e.metadata,unstable_annotations:[...e.metadata.unstable_annotations,...t.annotations]}}),VC=(e,t)=>({...e,metadata:{...e.metadata,unstable_data:[...e.metadata.unstable_data,...t.data]}}),WC=(e,t)=>({...e,metadata:{...e.metadata,steps:[...e.metadata.steps,{state:"started",messageId:t.messageId}]}}),YC=(e,t)=>{var s;const n=e.metadata.steps.slice(),r=n.length-1;return n.length>0&&((s=n[r])==null?void 0:s.state)==="started"?n[r]={...n[r],state:"finished",finishReason:t.finishReason,usage:t.usage,isContinued:t.isContinued}:n.push({state:"finished",messageId:Gv(),finishReason:t.finishReason,usage:t.usage,isContinued:t.isContinued}),{...e,metadata:{...e.metadata,steps:n}}},GC=(e,t)=>({...e,status:{type:"incomplete",reason:"error",error:t.error}}),KC=(e,t)=>{const n=new Ds(e.metadata.unstable_state);return n.append(t.operations),{...e,metadata:{...e.metadata,unstable_state:n.state}}},qC=e=>{let t=!1;return()=>{t||(t=!0,queueMicrotask(()=>{t=!1,e()}))}};class XC extends TransformStream{constructor({initialMessage:t,throttle:n,onError:r}={}){let s=t??DC(),o;const i=n?qC(()=>{o==null||o.enqueue(s)}):()=>{o==null||o.enqueue(s)};super({start(a){o=a},transform(a){const l=a.type;switch(l){case"part-start":s=LC(s,a);break;case"tool-call-args-text-finish":s=BC(s,a);break;case"part-finish":s=FC(s,a);break;case"text-delta":s=$C(s,a);break;case"result":s=zC(s,a);break;case"message-finish":s=tp(s,a);break;case"annotations":s=HC(s,a);break;case"data":s=VC(s,a);break;case"step-start":s=WC(s,a);break;case"step-finish":s=YC(s,a);break;case"error":s=GC(s,a),r==null||r(a.error);break;case"update-state":s=KC(s,a);break;default:{const u=l;throw new Error(`Unsupported chunk type: ${u}`)}}i()},flush(a){var l,u;if(((l=s.status)==null?void 0:l.type)==="running"){const d=((u=s.parts)==null?void 0:u.some(p=>p.type==="tool-call"&&(p.state==="call"||p.state==="partial-call")&&p.result===void 0))??!1;s=tp(s,{finishReason:d?"tool-calls":"unknown"}),a.enqueue(s)}}})}}class QC extends _C{constructor(){super(t=>{const n=new TC({transform(r,s){s.appendText(r)}});return t.pipeThrough(new TextDecoderStream).pipeThrough(n)})}}class Ls{constructor(t){_(this,"readable");this.readable=t,this.readable=t}static fromAssistantStream(t){return new Ls(t.pipeThrough(new XC))}async unstable_result(){let t;for await(const n of this)t=n;return t||{role:"assistant",status:{type:"complete",reason:"unknown"},parts:[],content:[],metadata:{unstable_state:null,unstable_data:[],unstable_annotations:[],steps:[],custom:{}}}}[Symbol.asyncIterator](){const t=this.readable.getReader();return{async next(){const{done:n,value:r}=await t.read();return n?{done:!0,value:void 0}:{done:!1,value:r}}}}tee(){const[t,n]=this.readable.tee();return[new Ls(t),new Ls(n)]}}const np=Symbol.for("aui.tool-response");class Ki{constructor(t){_(this,"artifact");_(this,"result");_(this,"isError");t.artifact!==void 0&&(this.artifact=t.artifact),this.result=t.result,this.isError=t.isError??!1}get[np](){return!0}static[Symbol.hasInstance](t){return typeof t=="object"&&t!==null&&np in t}static toResponse(t){return t instanceof Ki?t:new Ki({result:t===void 0?"<no result>":t})}}class rp{constructor(t,n,r){_(this,"contentBinding");_(this,"messageApi");_(this,"threadApi");this.contentBinding=t,this.messageApi=n,this.threadApi=r,this.__internal_bindMethods()}get path(){return this.contentBinding.path}__internal_bindMethods(){this.addToolResult=this.addToolResult.bind(this),this.resumeToolCall=this.resumeToolCall.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this)}getState(){return this.contentBinding.getState()}addToolResult(t){const n=this.contentBinding.getState();if(!n)throw new Error("Message part is not available");if(n.type!=="tool-call")throw new Error("Tried to add tool result to non-tool message part");if(!this.messageApi)throw new Error("Message API is not available. This is likely a bug in assistant-ui.");if(!this.threadApi)throw new Error("Thread API is not available");const r=this.messageApi.getState();if(!r)throw new Error("Message is not available");const s=n.toolName,o=n.toolCallId,i=Ki.toResponse(t);this.threadApi.getState().addToolResult({messageId:r.id,toolName:s,toolCallId:o,result:i.result,artifact:i.artifact,isError:i.isError})}resumeToolCall(t){const n=this.contentBinding.getState();if(!n)throw new Error("Message part is not available");if(n.type!=="tool-call")throw new Error("Tried to resume tool call on non-tool message part");if(!this.threadApi)throw new Error("Thread API is not available");const r=n.toolCallId;this.threadApi.getState().resumeToolCall({toolCallId:r,payload:t})}subscribe(t){return this.contentBinding.subscribe(t)}}class qi extends Ia{constructor(n){super();_(this,"binding");this.binding=n}get path(){return this.binding.path}getState(){return this.binding.getState()}outerSubscribe(n){return this.binding.subscribe(n)}_connect(){const n=()=>{this.notifySubscribers()};let r=this.binding.getState(),s=r==null?void 0:r.subscribe(n);const o=()=>{var l;const a=this.binding.getState();a!==r&&(r=a,s==null||s(),s=(l=this.binding.getState())==null?void 0:l.subscribe(n),n())},i=this.outerSubscribe(o);return()=>{i==null||i(),s==null||s()}}}const Vo=Object.freeze({type:"complete"}),JC=(e,t,n)=>{if(e.role!=="assistant")return Vo;if(n.type==="tool-call")return n.result?Vo:e.status;const r=t===Math.max(0,e.content.length-1);return e.status.type==="requires-action"?Vo:r?e.status:Vo},sp=(e,t)=>{const n=e.content[t];if(!n)return Et;const r=JC(e,t,n);return Object.freeze({...n,[Yi]:n[Yi],status:r})};class ZC{constructor(t,n){_(this,"_core");_(this,"_threadBinding");_(this,"composer");_(this,"_getEditComposerRuntimeCore",()=>this._threadBinding.getState().getEditComposer(this._core.getState().id));this._core=t,this._threadBinding=n,this.composer=new OC(new qi({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.composer`,composerSource:"edit"},getState:this._getEditComposerRuntimeCore,subscribe:r=>this._threadBinding.subscribe(r)}),()=>this._threadBinding.getState().beginEdit(this._core.getState().id)),this.__internal_bindMethods()}get path(){return this._core.path}__internal_bindMethods(){this.reload=this.reload.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.getMessagePartByIndex=this.getMessagePartByIndex.bind(this),this.getMessagePartByToolCallId=this.getMessagePartByToolCallId.bind(this),this.getAttachmentByIndex=this.getAttachmentByIndex.bind(this),this.unstable_getCopyText=this.unstable_getCopyText.bind(this),this.speak=this.speak.bind(this),this.stopSpeaking=this.stopSpeaking.bind(this),this.submitFeedback=this.submitFeedback.bind(this),this.switchToBranch=this.switchToBranch.bind(this)}getState(){return this._core.getState()}reload(t={}){const n=this._getEditComposerRuntimeCore(),r=n??this._threadBinding.getState().composer,s=n??r,{runConfig:o=s.runConfig}=t,i=this._core.getState();if(i.role!=="assistant")throw new Error("Can only reload assistant messages");this._threadBinding.getState().startRun({parentId:i.parentId,sourceId:i.id,runConfig:o})}speak(){const t=this._core.getState();return this._threadBinding.getState().speak(t.id)}stopSpeaking(){var r;const t=this._core.getState();if(((r=this._threadBinding.getState().speech)==null?void 0:r.messageId)===t.id)this._threadBinding.getState().stopSpeaking();else throw new Error("Message is not being spoken")}submitFeedback({type:t}){const n=this._core.getState();this._threadBinding.getState().submitFeedback({messageId:n.id,type:t})}switchToBranch({position:t,branchId:n}){const r=this._core.getState();if(n&&t)throw new Error("May not specify both branchId and position");if(!n&&!t)throw new Error("Must specify either branchId or position");const o=this._threadBinding.getState().getBranches(r.id);let i=n;if(t==="previous"?i=o[r.branchNumber-2]:t==="next"&&(i=o[r.branchNumber]),!i)throw new Error("Branch not found");this._threadBinding.getState().switchToBranch(i)}unstable_getCopyText(){return Gi(this.getState())}subscribe(t){return this._core.subscribe(t)}getMessagePartByIndex(t){if(t<0)throw new Error("Message part index must be >= 0");return new rp(new wt({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.content[${t}]`,messagePartSelector:{type:"index",index:t}},getState:()=>sp(this.getState(),t),subscribe:n=>this._core.subscribe(n)}),this._core,this._threadBinding)}getMessagePartByToolCallId(t){return new rp(new wt({path:{...this.path,ref:this.path.ref+`${this.path.ref}.content[toolCallId=${JSON.stringify(t)}]`,messagePartSelector:{type:"toolCallId",toolCallId:t}},getState:()=>{const n=this._core.getState(),r=n.content.findIndex(s=>s.type==="tool-call"&&s.toolCallId===t);return r===-1?Et:sp(n,r)},subscribe:n=>this._core.subscribe(n)}),this._core,this._threadBinding)}getAttachmentByIndex(t){return new IC(new wt({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.attachments[${t}]`,attachmentSource:"message",attachmentSelector:{type:"index",index:t}},getState:()=>{const n=this.getState().attachments,r=n==null?void 0:n[t];return r?{...r,source:"message"}:Et},subscribe:n=>this._core.subscribe(n)}))}}const eE=e=>({parentId:e.parentId??null,sourceId:e.sourceId??null,runConfig:e.runConfig??{},...e.stream?{stream:e.stream}:{}}),tE=e=>({parentId:e.parentId??null,sourceId:e.sourceId??null,runConfig:e.runConfig??{}}),nE=(e,t)=>{var n,r;return typeof t=="string"?{createdAt:new Date,parentId:((n=e.at(-1))==null?void 0:n.id)??null,sourceId:null,runConfig:{},role:"user",content:[{type:"text",text:t}],attachments:[],metadata:{custom:{}}}:{createdAt:t.createdAt??new Date,parentId:t.parentId??((r=e.at(-1))==null?void 0:r.id)??null,sourceId:t.sourceId??null,role:t.role??"user",content:t.content,attachments:t.attachments??[],metadata:t.metadata??{custom:{}},runConfig:t.runConfig??{},startRun:t.startRun}},rE=(e,t)=>{const n=e.messages.at(-1);return Object.freeze({threadId:t.id,metadata:t,capabilities:e.capabilities,isDisabled:e.isDisabled,isLoading:e.isLoading,isRunning:(n==null?void 0:n.role)!=="assistant"?!1:n.status.type==="running",messages:e.messages,state:e.state,suggestions:e.suggestions,extras:e.extras,speech:e.speech})};class ty{constructor(t,n){_(this,"_threadBinding");_(this,"composer");_(this,"_eventSubscriptionSubjects",new Map);const r=new wt({path:t.path,getState:()=>rE(t.getState(),n.getState()),subscribe:s=>{const o=t.subscribe(s),i=n.subscribe(s);return()=>{o(),i()}}});this._threadBinding={path:t.path,getState:()=>t.getState(),getStateState:()=>r.getState(),outerSubscribe:s=>t.outerSubscribe(s),subscribe:s=>t.subscribe(s)},this.composer=new jC(new qi({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.composer`,composerSource:"thread"},getState:()=>this._threadBinding.getState().composer,subscribe:s=>this._threadBinding.subscribe(s)})),this.__internal_bindMethods()}get path(){return this._threadBinding.path}get __internal_threadBinding(){return this._threadBinding}__internal_bindMethods(){this.append=this.append.bind(this),this.unstable_resumeRun=this.unstable_resumeRun.bind(this),this.unstable_loadExternalState=this.unstable_loadExternalState.bind(this),this.importExternalState=this.importExternalState.bind(this),this.exportExternalState=this.exportExternalState.bind(this),this.startRun=this.startRun.bind(this),this.cancelRun=this.cancelRun.bind(this),this.stopSpeaking=this.stopSpeaking.bind(this),this.export=this.export.bind(this),this.import=this.import.bind(this),this.reset=this.reset.bind(this),this.getMessageByIndex=this.getMessageByIndex.bind(this),this.getMessageById=this.getMessageById.bind(this),this.subscribe=this.subscribe.bind(this),this.unstable_on=this.unstable_on.bind(this),this.getModelContext=this.getModelContext.bind(this),this.getModelConfig=this.getModelConfig.bind(this),this.getState=this.getState.bind(this)}getState(){return this._threadBinding.getStateState()}append(t){this._threadBinding.getState().append(nE(this._threadBinding.getState().messages,t))}subscribe(t){return this._threadBinding.subscribe(t)}getModelContext(){return this._threadBinding.getState().getModelContext()}getModelConfig(){return this.getModelContext()}startRun(t){const n=t===null||typeof t=="string"?{parentId:t}:t;return this._threadBinding.getState().startRun(tE(n))}unstable_resumeRun(t){return this._threadBinding.getState().resumeRun(eE(t))}exportExternalState(){return this._threadBinding.getState().exportExternalState()}importExternalState(t){this._threadBinding.getState().importExternalState(t)}unstable_loadExternalState(t){this._threadBinding.getState().unstable_loadExternalState(t)}cancelRun(){this._threadBinding.getState().cancelRun()}stopSpeaking(){return this._threadBinding.getState().stopSpeaking()}export(){return this._threadBinding.getState().export()}import(t){this._threadBinding.getState().import(t)}reset(t){this._threadBinding.getState().reset(t)}getMessageByIndex(t){if(t<0)throw new Error("Message index must be >= 0");return this._getMessageRuntime({...this.path,ref:`${this.path.ref}${this.path.ref}.messages[${t}]`,messageSelector:{type:"index",index:t}},()=>{var s;const n=this._threadBinding.getState().messages,r=n[t];if(r)return{message:r,parentId:((s=n[t-1])==null?void 0:s.id)??null,index:t}})}getMessageById(t){return this._getMessageRuntime({...this.path,ref:this.path.ref+`${this.path.ref}.messages[messageId=${JSON.stringify(t)}]`,messageSelector:{type:"messageId",messageId:t}},()=>this._threadBinding.getState().getMessageById(t))}_getMessageRuntime(t,n){return new ZC(new wt({path:t,getState:()=>{var p;const{message:r,parentId:s,index:o}=n()??{},{messages:i,speech:a}=this._threadBinding.getState();if(!r||s===void 0||o===void 0)return Et;const u=this._threadBinding.getState().getBranches(r.id),d=r.metadata.submittedFeedback;return{...r,[Yi]:r[Yi],index:o,isLast:((p=i.at(-1))==null?void 0:p.id)===r.id,parentId:s,branchNumber:u.indexOf(r.id)+1,branchCount:u.length,speech:(a==null?void 0:a.messageId)===r.id?a:void 0,submittedFeedback:d}},subscribe:r=>this._threadBinding.subscribe(r)}),this._threadBinding)}unstable_on(t,n){let r=this._eventSubscriptionSubjects.get(t);return r||(r=new Qv({event:t,binding:this._threadBinding}),this._eventSubscriptionSubjects.set(t,r)),r.subscribe(n)}}const sE=e=>({mainThreadId:e.mainThreadId,newThreadId:e.newThreadId,threadIds:e.threadIds,archivedThreadIds:e.archivedThreadIds,isLoading:e.isLoading,threadItems:e.threadItems}),Wo=(e,t)=>{if(t===void 0)return Et;const n=e.getItemById(t);return n?{id:n.id,remoteId:n.remoteId,externalId:n.externalId,title:n.title,status:n.status,isMain:n.id===e.mainThreadId}:Et};class ny{constructor(t,n=ty){_(this,"_core");_(this,"_runtimeFactory");_(this,"_getState");_(this,"_mainThreadListItemRuntime");_(this,"main");this._core=t,this._runtimeFactory=n;const r=new od({path:{},getState:()=>sE(t),subscribe:s=>t.subscribe(s)});this._getState=r.getState.bind(r),this._mainThreadListItemRuntime=new Ho(new wt({path:{ref:"threadItems[main]",threadSelector:{type:"main"}},getState:()=>Wo(this._core,this._core.mainThreadId),subscribe:s=>this._core.subscribe(s)}),this._core),this.main=new n(new qi({path:{ref:"threads.main",threadSelector:{type:"main"}},getState:()=>t.getMainThreadRuntimeCore(),subscribe:s=>t.subscribe(s)}),this._mainThreadListItemRuntime),this.__internal_bindMethods()}__internal_bindMethods(){this.switchToThread=this.switchToThread.bind(this),this.switchToNewThread=this.switchToNewThread.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.getById=this.getById.bind(this),this.getItemById=this.getItemById.bind(this),this.getItemByIndex=this.getItemByIndex.bind(this),this.getArchivedItemByIndex=this.getArchivedItemByIndex.bind(this)}switchToThread(t){return this._core.switchToThread(t)}switchToNewThread(){return this._core.switchToNewThread()}getState(){return this._getState()}subscribe(t){return this._core.subscribe(t)}get mainItem(){return this._mainThreadListItemRuntime}getById(t){return new this._runtimeFactory(new qi({path:{ref:`threads[threadId=${JSON.stringify(t)}]`,threadSelector:{type:"threadId",threadId:t}},getState:()=>this._core.getThreadRuntimeCore(t),subscribe:n=>this._core.subscribe(n)}),this.mainItem)}getItemByIndex(t){return new Ho(new wt({path:{ref:`threadItems[${t}]`,threadSelector:{type:"index",index:t}},getState:()=>Wo(this._core,this._core.threadIds[t]),subscribe:n=>this._core.subscribe(n)}),this._core)}getArchivedItemByIndex(t){return new Ho(new wt({path:{ref:`archivedThreadItems[${t}]`,threadSelector:{type:"archiveIndex",index:t}},getState:()=>Wo(this._core,this._core.archivedThreadIds[t]),subscribe:n=>this._core.subscribe(n)}),this._core)}getItemById(t){return new Ho(new wt({path:{ref:`threadItems[threadId=${t}]`,threadSelector:{type:"threadId",threadId:t}},getState:()=>Wo(this._core,t),subscribe:n=>this._core.subscribe(n)}),this._core)}}const oE=e=>e.startsWith("image/")?"image":e.startsWith("text/")?"document":"file";class iE{constructor(t){_(this,"cloud");_(this,"accept","*");_(this,"uploadedUrls",new Map);this.cloud=t}async*add({file:t}){const n=crypto.randomUUID(),r=oE(t.type);let s={id:n,type:r,name:t.name,contentType:t.type,file:t,status:{type:"running",reason:"uploading",progress:0}};yield s;try{const{signedUrl:o,publicUrl:i}=await this.cloud.files.generatePresignedUploadUrl({filename:t.name});await fetch(o,{method:"PUT",body:t,headers:{"Content-Type":t.type},mode:"cors"}),this.uploadedUrls.set(n,i),s={...s,status:{type:"requires-action",reason:"composer-send"}},yield s}catch{s={...s,status:{type:"incomplete",reason:"error"}},yield s}}async remove(t){this.uploadedUrls.delete(t.id)}async send(t){const n=this.uploadedUrls.get(t.id);if(!n)throw new Error("Attachment not uploaded");this.uploadedUrls.delete(t.id);let r;return t.type==="image"?r=[{type:"image",image:n,filename:t.name}]:r=[{type:"file",data:n,mimeType:t.contentType,filename:t.name}],{...t,status:{type:"complete"},content:r}}}const Bu=c.createContext(null),ry=({adapters:e,children:t})=>{const n=c.useContext(Bu);return h.jsx(Bu.Provider,{value:{...n,...e},children:t})},aE=()=>c.useContext(Bu);class lE extends Bv{constructor(n,r,{parentId:s,message:o}){super();_(this,"runtime");_(this,"endEditCallback");_(this,"_nonTextParts");_(this,"_previousText");_(this,"_parentId");_(this,"_sourceId");this.runtime=n,this.endEditCallback=r,this._parentId=s,this._sourceId=o.id,this._previousText=Gi(o),this.setText(this._previousText),this.setRole(o.role),this.setAttachments(o.attachments??[]),this._nonTextParts=o.content.filter(i=>i.type!=="text"),this.setRunConfig({...n.composer.runConfig})}get canCancel(){return!0}getAttachmentAdapter(){var n;return(n=this.runtime.adapters)==null?void 0:n.attachments}getDictationAdapter(){var n;return(n=this.runtime.adapters)==null?void 0:n.dictation}async handleSend(n){Gi(n)!==this._previousText&&this.runtime.append({...n,content:[...n.content,...this._nonTextParts],parentId:this._parentId,sourceId:this._sourceId}),this.handleCancel()}handleCancel(){this.endEditCallback(),this._notifySubscribers()}}class uE{constructor(t){_(this,"_contextProvider");_(this,"_subscriptions",new Set);_(this,"_isInitialized",!1);_(this,"repository",new Kv);_(this,"composer",new Fv(this));_(this,"_editComposers",new Map);_(this,"_stopSpeaking");_(this,"speech");_(this,"_eventSubscribers",new Map);this._contextProvider=t}get messages(){return this.repository.getMessages()}get state(){let t;for(const n of this.messages)if(n.role==="assistant"){t=n;break}return(t==null?void 0:t.metadata.unstable_state)??null}getModelContext(){return this._contextProvider.getModelContext()}getEditComposer(t){return this._editComposers.get(t)}beginEdit(t){if(this._editComposers.has(t))throw new Error("Edit already in progress");this._editComposers.set(t,new lE(this,()=>this._editComposers.delete(t),this.repository.getMessage(t))),this._notifySubscribers()}getMessageById(t){try{return this.repository.getMessage(t)}catch{return}}getBranches(t){return this.repository.getBranches(t)}switchToBranch(t){this.repository.switchToBranch(t),this._notifySubscribers()}_notifySubscribers(){for(const t of this._subscriptions)t()}_notifyEventSubscribers(t){const n=this._eventSubscribers.get(t);if(n)for(const r of n)r()}subscribe(t){return this._subscriptions.add(t),()=>this._subscriptions.delete(t)}submitFeedback({messageId:t,type:n}){var i;const r=(i=this.adapters)==null?void 0:i.feedback;if(!r)throw new Error("Feedback adapter not configured");const{message:s,parentId:o}=this.repository.getMessage(t);if(r.submit({message:s,type:n}),s.role==="assistant"){const a={...s,metadata:{...s.metadata,submittedFeedback:{type:n}}};this.repository.addOrUpdateMessage(o,a)}this._notifySubscribers()}speak(t){var i,a;const n=(i=this.adapters)==null?void 0:i.speech;if(!n)throw new Error("Speech adapter not configured");const{message:r}=this.repository.getMessage(t);(a=this._stopSpeaking)==null||a.call(this);const s=n.speak(Gi(r)),o=s.subscribe(()=>{s.status.type==="ended"?(this._stopSpeaking=void 0,this.speech=void 0):this.speech={messageId:t,status:s.status},this._notifySubscribers()});this.speech={messageId:t,status:s.status},this._notifySubscribers(),this._stopSpeaking=()=>{s.cancel(),o(),this.speech=void 0,this._stopSpeaking=void 0}}stopSpeaking(){if(!this._stopSpeaking)throw new Error("No message is being spoken");this._stopSpeaking(),this._notifySubscribers()}ensureInitialized(){this._isInitialized||(this._isInitialized=!0,this._notifyEventSubscribers("initialize"))}export(){return this.repository.export()}import(t){this.ensureInitialized(),this.repository.clear(),this.repository.import(t),this._notifySubscribers()}reset(t){this.import(sd.fromArray(t??[]))}unstable_on(t,n){var s,o;if(t==="modelContextUpdate")return((o=(s=this._contextProvider).subscribe)==null?void 0:o.call(s,n))??(()=>{});const r=this._eventSubscribers.get(t);return r?r.add(n):this._eventSubscribers.set(t,new Set([n])),()=>{this._eventSubscribers.get(t).delete(n)}}}class cE{list(){return Promise.resolve({threads:[]})}rename(){return Promise.resolve()}archive(){return Promise.resolve()}unarchive(){return Promise.resolve()}delete(){return Promise.resolve()}initialize(t){return Promise.resolve({remoteId:t,externalId:void 0})}generateTitle(){return Promise.resolve(new ReadableStream)}fetch(t){return Promise.reject(new Error("Thread not found"))}}const op=(e,t)=>{var n,r;return t===void 0?((n=e.status)==null?void 0:n.type)==="requires-action"&&e.status.reason==="tool-calls"&&e.content.every(s=>s.type!=="tool-call"||!!s.result):((r=e.status)==null?void 0:r.type)==="requires-action"&&e.status.reason==="tool-calls"&&e.content.every(s=>s.type!=="tool-call"||!!s.result||!t.includes(s.toolName))};class El extends Error{constructor(n,r){super(r);_(this,"name","AbortError");_(this,"detach");this.detach=n}}class dE extends uE{constructor(n,r){super(n);_(this,"capabilities",{switchToBranch:!0,switchBranchDuringRun:!0,edit:!0,reload:!0,cancel:!0,unstable_copy:!0,speech:!1,dictation:!1,attachments:!1,feedback:!1});_(this,"abortController",null);_(this,"isDisabled",!1);_(this,"_isLoading",!1);_(this,"_suggestions",[]);_(this,"_suggestionsController",null);_(this,"_options");_(this,"_lastRunConfig",{});_(this,"_getThreadId");_(this,"_getInitializePromise");_(this,"_loadPromise");this.__internal_setOptions(r)}get isLoading(){return this._isLoading}get suggestions(){return this._suggestions}get adapters(){return this._options.adapters}__internal_setGetThreadId(n){this._getThreadId=n}__internal_setGetInitializePromise(n){this._getInitializePromise=n}get extras(){}__internal_setOptions(n){var l,u,d,p;if(this._options===n)return;this._options=n;let r=!1;const s=((l=n.adapters)==null?void 0:l.speech)!==void 0;this.capabilities.speech!==s&&(this.capabilities.speech=s,r=!0);const o=((u=n.adapters)==null?void 0:u.dictation)!==void 0;this.capabilities.dictation!==o&&(this.capabilities.dictation=o,r=!0);const i=((d=n.adapters)==null?void 0:d.attachments)!==void 0;this.capabilities.attachments!==i&&(this.capabilities.attachments=i,r=!0);const a=((p=n.adapters)==null?void 0:p.feedback)!==void 0;this.capabilities.feedback!==a&&(this.capabilities.feedback=a,r=!0),r&&this._notifySubscribers()}__internal_load(){var r;if(this._loadPromise)return this._loadPromise;const n=((r=this.adapters.history)==null?void 0:r.load())??Promise.resolve(null);return this._isLoading=!0,this._notifySubscribers(),this._loadPromise=n.then(s=>{var i,a;if(!s)return;this.repository.import(s),s.messages.length>0&&this.ensureInitialized(),this._notifySubscribers();const o=(a=(i=this.adapters.history)==null?void 0:i.resume)==null?void 0:a.bind(this.adapters.history);s.unstable_resume&&o&&this.startRun({parentId:this.repository.headId,sourceId:this.repository.headId,runConfig:this._lastRunConfig},o)}).finally(()=>{this._isLoading=!1,this._notifySubscribers()}),this._loadPromise}async append(n){var i,a;this.ensureInitialized();const r=(i=this._getInitializePromise)==null?void 0:i.call(this);r&&await r;const s=So(n,ir(),{type:"complete",reason:"unknown"});this.repository.addOrUpdateMessage(n.parentId,s),(a=this._options.adapters.history)==null||a.append({parentId:n.parentId,message:s,...n.runConfig!==void 0&&{runConfig:n.runConfig}}),n.startRun??n.role==="user"?await this.startRun({parentId:s.id,sourceId:n.sourceId,runConfig:n.runConfig??{}}):(this.repository.resetHead(s.id),this._notifySubscribers())}resumeRun({stream:n,...r}){if(!n)throw new Error("You must pass a stream parameter to resume runs.");return this.startRun(r,n)}exportExternalState(){throw new Error("Runtime does not support exporting external states.")}importExternalState(){throw new Error("Runtime does not support importing external states.")}unstable_loadExternalState(){throw new Error("Runtime does not support importing external states.")}async startRun({parentId:n,runConfig:r},s){var l,u,d;this.ensureInitialized();let i={id:ir(),role:"assistant",status:{type:"running"},content:[],metadata:{unstable_state:this.state,unstable_annotations:[],unstable_data:[],steps:[],custom:{}},createdAt:new Date};this._notifyEventSubscribers("runStart");try{this._suggestions=[],(l=this._suggestionsController)==null||l.abort(),this._suggestionsController=null,this._notifySubscribers();do i=await this.performRoundtrip(n,i,r,s),s=void 0;while(op(i,this._options.unstable_humanToolNames))}finally{this._notifyEventSubscribers("runEnd")}this._suggestionsController=new AbortController;const a=this._suggestionsController.signal;if(this.adapters.suggestion&&((u=i.status)==null?void 0:u.type)!=="requires-action"){const p=(d=this.adapters.suggestion)==null?void 0:d.generate({messages:this.messages});if(Symbol.asyncIterator in p)for await(const f of p){if(a.aborted)break;this._suggestions=f,this._notifySubscribers()}else{const f=await p;if(a.aborted)return;this._suggestions=f,this._notifySubscribers()}}}async performRoundtrip(n,r,s,o){var y,b,g,v,w,x,C,R,E;const i=n?this.repository.getMessages(n):[];(y=this.abortController)==null||y.abort(),this.abortController=new AbortController;const a=r.content,l=(b=r.metadata)==null?void 0:b.unstable_annotations,u=(g=r.metadata)==null?void 0:g.unstable_data,d=(v=r.metadata)==null?void 0:v.steps,p=(w=r.metadata)==null?void 0:w.custom,f=T=>{var pe,Y,J,A;const I=(pe=T.metadata)==null?void 0:pe.steps,k=I?[...d??[],...I]:void 0,j=(Y=T.metadata)==null?void 0:Y.unstable_annotations,F=(J=T.metadata)==null?void 0:J.unstable_data,W=j?[...l??[],...j]:void 0,q=F?[...u??[],...F]:void 0;r={...r,...T.content?{content:[...a,...T.content??[]]}:void 0,status:T.status??r.status,...T.metadata?{metadata:{...r.metadata,...T.metadata.unstable_state?{unstable_state:T.metadata.unstable_state}:void 0,...W?{unstable_annotations:W}:void 0,...q?{unstable_data:q}:void 0,...k?{steps:k}:void 0,...(A=T.metadata)!=null&&A.custom?{custom:{...p??{},...T.metadata.custom}}:void 0}}:void 0},this.repository.addOrUpdateMessage(n,r),this._notifySubscribers()},m=this._options.maxSteps??2;if((((C=(x=r.metadata)==null?void 0:x.steps)==null?void 0:C.length)??0)>=m)return f({status:{type:"incomplete",reason:"tool-calls"}}),r;f({status:{type:"running"}}),this.repository.resetHead(r.id),this._notifySubscribers();try{this._lastRunConfig=s??{};const T=this.getModelContext();o=o??this.adapters.chatModel.run.bind(this.adapters.chatModel);const I=this.abortController.signal,k=(R=this._getThreadId)==null?void 0:R.call(this),j=o({messages:i,runConfig:this._lastRunConfig,abortSignal:I,context:T,config:T,unstable_assistantMessageId:r.id,unstable_threadId:k,unstable_parentId:n,unstable_getMessage(){return r}});if(Symbol.asyncIterator in j)for await(const F of j){if(I.aborted){f({status:{type:"incomplete",reason:"cancelled"}});break}f(F)}else f(await j);r.status.type==="running"&&f({status:{type:"complete",reason:"unknown"}})}catch(T){if(T instanceof El)f({status:{type:"incomplete",reason:"cancelled"}});else if(T instanceof Error&&T.name==="AbortError")f({status:{type:"incomplete",reason:"cancelled"}});else throw f({status:{type:"incomplete",reason:"error",error:T instanceof Error?T.message:`[${typeof T}] ${new String(T).toString()}`}}),T}finally{this.abortController=null,(r.status.type==="complete"||r.status.type==="incomplete")&&await((E=this._options.adapters.history)==null?void 0:E.append({parentId:n,message:r,runConfig:this._lastRunConfig}))}return r}detach(){var r;const n=new El(!0);(r=this.abortController)==null||r.abort(n),this.abortController=null}cancelRun(){var r;const n=new El(!1);(r=this.abortController)==null||r.abort(n),this.abortController=null}addToolResult({messageId:n,toolCallId:r,result:s,isError:o,artifact:i}){const a=this.repository.getMessage(n),{parentId:l}=a;let{message:u}=a;if(u.role!=="assistant")throw new Error("Tried to add tool result to non-assistant message");let d=!1,p=!1;const f=u.content.map(m=>m.type!=="tool-call"||m.toolCallId!==r?m:(p=!0,m.result||(d=!0),{...m,result:s,artifact:i,isError:o}));if(!p)throw new Error("Tried to add tool result to non-existing tool call");u={...u,content:f},this.repository.addOrUpdateMessage(l,u),d&&op(u,this._options.unstable_humanToolNames)&&this.performRoundtrip(l,u,this._lastRunConfig)}resumeToolCall(n){throw new Error("Local runtime does not support resuming tool calls.")}}const ip=Object.freeze([]),Fu="__DEFAULT_ID__",fE=Object.freeze({[Fu]:{id:Fu,remoteId:void 0,externalId:void 0,status:"regular",title:void 0}});class hE extends wo{constructor(n){super();_(this,"_mainThread");this._mainThread=n()}get isLoading(){return!1}getMainThreadRuntimeCore(){return this._mainThread}get newThreadId(){throw new Error("Method not implemented.")}get threadIds(){throw ip}get archivedThreadIds(){throw ip}get mainThreadId(){return Fu}get threadItems(){return fE}getThreadRuntimeCore(){throw new Error("Method not implemented.")}getLoadThreadsPromise(){throw new Error("Method not implemented.")}getItemById(n){if(n===this.mainThreadId)return{status:"regular",id:this.mainThreadId,remoteId:this.mainThreadId,externalId:void 0,title:void 0,isMain:!0};throw new Error("Method not implemented")}async switchToThread(){throw new Error("Method not implemented.")}switchToNewThread(){throw new Error("Method not implemented.")}rename(){throw new Error("Method not implemented.")}archive(){throw new Error("Method not implemented.")}detach(){throw new Error("Method not implemented.")}unarchive(){throw new Error("Method not implemented.")}delete(){throw new Error("Method not implemented.")}initialize(n){return Promise.resolve({remoteId:n,externalId:void 0})}generateTitle(){throw new Error("Method not implemented.")}}class pE extends td{constructor(n,r){super();_(this,"threads");_(this,"Provider");_(this,"_options");this._options=n,this.threads=new hE(()=>new dE(this._contextProvider,this._options)),r&&this.threads.getMainThreadRuntimeCore().import(sd.fromArray(r))}}const ap=e=>{try{const n=e.split(".")[1];if(!n)throw new Error("Invalid JWT format");let r=n.replace(/-/g,"+").replace(/_/g,"/");for(;r.length%4!==0;)r+="=";const s=atob(r),i=JSON.parse(s).exp;if(!i||typeof i!="number")throw new Error('JWT does not contain a valid "exp" field');return i*1e3}catch(t){throw new Error(`Unable to determine the token expiry: ${t}`)}};var uo;class sy{constructor(t){_(this,"strategy","jwt");_(this,"cachedToken",null);_(this,"tokenExpiry",null);ls(this,uo);us(this,uo,t)}async getAuthHeaders(){const t=Date.now();if(this.cachedToken&&this.tokenExpiry&&this.tokenExpiry-t>30*1e3)return{Authorization:`Bearer ${this.cachedToken}`};const n=await as(this,uo).call(this);return n?(this.cachedToken=n,this.tokenExpiry=ap(n),{Authorization:`Bearer ${n}`}):!1}readAuthHeaders(t){const n=t.get("Authorization");if(!n)return;const[r,s]=n.split(" ");if(r!=="Bearer"||!s)throw new Error("Invalid auth header received");this.cachedToken=s,this.tokenExpiry=ap(s)}}uo=new WeakMap;var co,fo,ho;class mE{constructor(t,n,r){_(this,"strategy","api-key");ls(this,co);ls(this,fo);ls(this,ho);us(this,co,t),us(this,fo,n),us(this,ho,r)}async getAuthHeaders(){return{Authorization:`Bearer ${as(this,co)}`,"Aui-User-Id":as(this,fo),"Aui-Workspace-Id":as(this,ho)}}readAuthHeaders(){}}co=new WeakMap,fo=new WeakMap,ho=new WeakMap;const Yo="aui:refresh_token";class gE{constructor(t){_(this,"strategy","anon");_(this,"baseUrl");_(this,"jwtStrategy");this.baseUrl=t,this.jwtStrategy=new sy(async()=>{const n=Date.now(),r=localStorage.getItem(Yo),s=r?JSON.parse(r):void 0;if(s)if(new Date(s.expires_at).getTime()-n>30*1e3){const d=await fetch(`${this.baseUrl}/v1/auth/tokens/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:s.token})});if(d.ok){const p=await d.json(),{access_token:f,refresh_token:m}=p;return m&&localStorage.setItem(Yo,JSON.stringify(m)),f}}else localStorage.removeItem(Yo);const o=await fetch(`${this.baseUrl}/v1/auth/tokens/anonymous`,{method:"POST"});if(!o.ok)return null;const i=await o.json(),{access_token:a,refresh_token:l}=i;return!a||!l?null:(localStorage.setItem(Yo,JSON.stringify(l)),a)})}async getAuthHeaders(){return this.jwtStrategy.getAuthHeaders()}readAuthHeaders(t){this.jwtStrategy.readAuthHeaders(t)}}class vE extends Error{constructor(t){super(t),this.name="APIError"}}class yE{constructor(t){_(this,"_auth");_(this,"_baseUrl");if("authToken"in t)this._baseUrl=t.baseUrl,this._auth=new sy(t.authToken);else if("apiKey"in t)this._baseUrl="https://backend.assistant-api.com",this._auth=new mE(t.apiKey,t.userId,t.workspaceId);else if("anonymous"in t)this._baseUrl=t.baseUrl,this._auth=new gE(t.baseUrl);else throw new Error("Invalid configuration: Must provide authToken, apiKey, or anonymous configuration")}async initializeAuth(){return!!this._auth.getAuthHeaders()}async makeRawRequest(t,n={}){const r=await this._auth.getAuthHeaders();if(!r)throw new Error("Authorization failed");const s={...r,...n.headers,"Content-Type":"application/json"},o=new URLSearchParams;if(n.query)for(const[l,u]of Object.entries(n.query))u!==!1&&(u===!0?o.set(l,"true"):o.set(l,u.toString()));const i=new URL(`${this._baseUrl}/v1${t}`);i.search=o.toString();const a=await fetch(i,{method:n.method??"GET",headers:s,body:n.body?JSON.stringify(n.body):null});if(this._auth.readAuthHeaders(a.headers),!a.ok){const l=await a.text();try{const u=JSON.parse(l);throw new vE(u.message)}catch{throw new Error(`Request failed with status ${a.status}, ${l}`)}}return a}async makeRequest(t,n={}){return(await this.makeRawRequest(t,n)).json()}}class wE{constructor(t){_(this,"cloud");this.cloud=t}async create(){return this.cloud.makeRequest("/auth/tokens",{method:"POST"})}}class SE{constructor(t){_(this,"cloud");this.cloud=t}__internal_getAssistantOptions(t){return{api:`${this.cloud._baseUrl}/v1/runs/stream`,headers:async()=>{const n=await this.cloud._auth.getAuthHeaders();if(!n)throw new Error("Authorization failed");return{...n,Accept:"text/plain"}},body:{assistant_id:t,response_format:"vercel-ai-data-stream/v1",thread_id:"unstable_todo"}}}async stream(t){const n=await this.cloud.makeRawRequest("/runs/stream",{method:"POST",headers:{Accept:"text/plain"},body:t});return Lu.fromResponse(n,new QC)}}class xE{constructor(t){_(this,"cloud");this.cloud=t}async list(t,n){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}/messages`,{query:n})}async create(t,n){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}/messages`,{method:"POST",body:n})}}class _E{constructor(t){_(this,"cloud");_(this,"messages");this.cloud=t,this.messages=new xE(t)}async list(t){return this.cloud.makeRequest("/threads",{query:t})}async get(t){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}`)}async create(t){return this.cloud.makeRequest("/threads",{method:"POST",body:t})}async update(t,n){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}`,{method:"PUT",body:n})}async delete(t){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}`,{method:"DELETE"})}}class bE{constructor(t){_(this,"cloud");this.cloud=t}async pdfToImages(t){return this.cloud.makeRequest("/files/pdf-to-images",{method:"POST",body:t})}async generatePresignedUploadUrl(t){return this.cloud.makeRequest("/files/attachments/generate-presigned-upload-url",{method:"POST",body:t})}}class CE{constructor(t){_(this,"threads");_(this,"auth");_(this,"runs");_(this,"files");const n=new yE(t);this.threads=new _E(n),this.auth={tokens:new wE(n)},this.runs=new SE(n),this.files=new bE(n)}}function $u(e,t=0){return t>100?!1:e===null||typeof e=="string"||typeof e=="boolean"?!0:typeof e=="number"?!Number.isNaN(e)&&Number.isFinite(e):Array.isArray(e)?e.every(n=>$u(n,t+1)):typeof e=="object"?Object.entries(e).every(([n,r])=>typeof n=="string"&&$u(r,t+1)):!1}const EE=e=>{var t;return{role:e.role,content:e.content.map(n=>{const r=n.type;switch(r){case"text":return{type:"text",text:n.text};case"reasoning":return{type:"reasoning",text:n.text};case"source":return{type:"source",sourceType:n.sourceType,id:n.id,url:n.url,...n.title?{title:n.title}:void 0};case"tool-call":return $u(n.result)||console.warn(`tool-call result is not JSON! ${JSON.stringify(n)}`),{type:"tool-call",toolCallId:n.toolCallId,toolName:n.toolName,...JSON.stringify(n.args)===n.argsText?{args:n.args}:{argsText:n.argsText},...n.result?{result:n.result}:{},...n.isError?{isError:!0}:{}};case"image":return{type:"image",image:n.image};case"file":return{type:"file",data:n.data,mimeType:n.mimeType,...n.filename?{filename:n.filename}:void 0};default:{const s=r;throw new Error(`Message part type not supported by aui/v0: ${s}`)}}}),metadata:e.metadata,...e.status?{status:((t=e.status)==null?void 0:t.type)==="running"?{type:"incomplete",reason:"cancelled"}:e.status}:void 0}},TE=e=>{const t=e.content,n=So({id:e.id,createdAt:e.created_at,...t},e.id,{type:"complete",reason:"unknown"});return{parentId:e.parent_id,message:n}},Tl=new WeakMap;class RE{constructor(t,n){_(this,"parent");_(this,"formatAdapter");this.parent=t,this.formatAdapter=n}async append(t){const n=this.formatAdapter.encode(t),r=this.formatAdapter.getId(t.message);return this.parent._appendWithFormat(t.parentId,r,this.formatAdapter.format,n)}async load(){return this.parent._loadWithFormat(this.formatAdapter.format,t=>this.formatAdapter.decode(t))}}class kE{constructor(t,n){_(this,"cloudRef");_(this,"aui");this.cloudRef=t,this.aui=n}get _getIdForLocalId(){return Tl.has(this.aui.threadListItem())||Tl.set(this.aui.threadListItem(),{}),Tl.get(this.aui.threadListItem())}withFormat(t){return new RE(this,t)}async append({parentId:t,message:n}){const{remoteId:r}=await this.aui.threadListItem().initialize(),s=this.cloudRef.current.threads.messages.create(r,{parent_id:t?await this._getIdForLocalId[t]??t:null,format:"aui/v0",content:EE(n)}).then(({message_id:o})=>(this._getIdForLocalId[n.id]=o,o));return this._getIdForLocalId[n.id]=s,s.then(()=>{})}async load(){const t=this.aui.threadListItem().getState().remoteId;if(!t)return{messages:[]};const{messages:n}=await this.cloudRef.current.threads.messages.list(t,{format:"aui/v0"});return{messages:n.filter(s=>s.format==="aui/v0").map(TE).reverse()}}async _appendWithFormat(t,n,r,s){const{remoteId:o}=await this.aui.threadListItem().initialize(),i=this.cloudRef.current.threads.messages.create(o,{parent_id:t?await this._getIdForLocalId[t]??t:null,format:r,content:s}).then(({message_id:a})=>(this._getIdForLocalId[n]=a,a));return this._getIdForLocalId[n]=i,i.then(()=>{})}async _loadWithFormat(t,n){const r=this.aui.threadListItem().getState().remoteId;if(!r)return{messages:[]};const{messages:s}=await this.cloudRef.current.threads.messages.list(r,{format:t});return{messages:s.filter(o=>o.format===t).map(o=>n({id:o.id,parent_id:o.parent_id,format:o.format,content:o.content})).reverse()}}}const AE=e=>{const t=z(),[n]=c.useState(()=>new kE(e,t));return n};var nm;const lp=typeof process<"u"&&((nm=process==null?void 0:process.env)==null?void 0:nm.NEXT_PUBLIC_ASSISTANT_BASE_URL),Rl=lp?new CE({baseUrl:lp,anonymous:!0}):void 0,PE=e=>{const t=c.useRef(e);c.useEffect(()=>{t.current=e},[e]);const n=c.useCallback(function({children:o}){const i=AE({get current(){return t.current.cloud??Rl}}),a=t.current.cloud??Rl,l=c.useMemo(()=>new iE(a),[a]),u=c.useMemo(()=>({history:i,attachments:l}),[i,l]);return h.jsx(ry,{adapters:u,children:o})},[]),r=e.cloud??Rl;return r?{list:async()=>{const{threads:s}=await r.threads.list();return{threads:s.map(o=>({status:o.is_archived?"archived":"regular",remoteId:o.id,title:o.title,externalId:o.external_id??void 0}))}},initialize:async()=>{var l;const o=await(((l=e.create)==null?void 0:l.call(e))??Promise.resolve()),i=o?o.externalId:void 0,{thread_id:a}=await r.threads.create({last_message_at:new Date,external_id:i});return{externalId:i,remoteId:a}},rename:async(s,o)=>r.threads.update(s,{title:o}),archive:async s=>r.threads.update(s,{is_archived:!0}),unarchive:async s=>r.threads.update(s,{is_archived:!1}),delete:async s=>{var o;return await((o=e.delete)==null?void 0:o.call(e,s)),r.threads.delete(s)},generateTitle:async(s,o)=>{const i=o.map(a=>({...a,content:a.content.filter(l=>l.type==="text"||l.type==="tool-call")}));return r.runs.stream({thread_id:s,assistant_id:"system/thread_title",messages:i})},fetch:async s=>{const o=await r.threads.get(s);return{status:o.is_archived?"archived":"regular",remoteId:o.id,title:o.title,externalId:o.external_id??void 0}},unstable_Provider:n}:new cE},IE=(e,{initialMessages:t,...n})=>{const{modelContext:r,...s}=aE()??{},o={...n,adapters:{...s,...n.adapters,chatModel:e}},[i]=c.useState(()=>new pE(o,t)),a=c.useRef(void 0);return a.current=L(({threadListItem:l})=>l.remoteId),c.useEffect(()=>{i.threads.getMainThreadRuntimeCore().__internal_setGetThreadId(()=>a.current)},[i]),c.useEffect(()=>()=>{i.threads.getMainThreadRuntimeCore().detach()},[i]),c.useEffect(()=>{i.threads.getMainThreadRuntimeCore().__internal_setOptions(o),i.threads.getMainThreadRuntimeCore().__internal_load()}),c.useEffect(()=>{if(r)return i.registerModelContextProvider(r)},[r,i]),c.useMemo(()=>new id(i),[i])},NE=(e,{cloud:t,...n}={})=>{const r=PE({cloud:t});return xT({runtimeHook:function(){return IE(e,n)},adapter:r,allowNesting:!0})};class id{constructor(t){_(this,"_core");_(this,"threads");_(this,"_thread");this._core=t,this.threads=new ny(t.threads),this._thread=this.threads.main,this.__internal_bindMethods()}get threadList(){return this.threads}__internal_bindMethods(){this.switchToNewThread=this.switchToNewThread.bind(this),this.switchToThread=this.switchToThread.bind(this),this.registerModelContextProvider=this.registerModelContextProvider.bind(this),this.registerModelConfigProvider=this.registerModelConfigProvider.bind(this),this.reset=this.reset.bind(this)}get thread(){return this._thread}switchToNewThread(){return this._core.threads.switchToNewThread()}switchToThread(t){return this._core.threads.switchToThread(t)}registerModelContextProvider(t){return this._core.registerModelContextProvider(t)}registerModelConfigProvider(t){return this.registerModelContextProvider(t)}reset({initialMessages:t}={}){return this._core.threads.getMainThreadRuntimeCore().import(sd.fromArray(t??[]))}}function Ce(e){const t=c.useRef(e);return c.useEffect(()=>{t.current=e}),c.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}const up=e=>{let t;const n=new Set,r=(u,d)=>{const p=typeof u=="function"?u(t):u;if(!Object.is(p,t)){const f=t;t=d??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(m=>m(t,f))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=t=e(r,s,a);return a},ME=e=>e?up(e):up,jE=e=>e;function OE(e,t=jE){const n=He.useSyncExternalStore(e.subscribe,He.useCallback(()=>t(e.getState()),[e,t]),He.useCallback(()=>t(e.getInitialState()),[e,t]));return He.useDebugValue(n),n}const cp=e=>{const t=ME(e),n=r=>OE(t,r);return Object.assign(n,t),n},Xr=e=>e?cp(e):cp;function oy(e,t){function n(s){const o=e(s);return o?o[t]:null}function r(s){let o=!1,i;typeof s=="function"?i=s:s&&typeof s=="object"&&(o=!!s.optional,i=s.selector);const a=n({optional:o});return a?i?a(i):a():null}return{[t]:r,[`${t}Store`]:n}}const iy=c.createContext(null),DE=e=>({useSmoothStatus:Xr(()=>e)}),LE=({children:e})=>{const t=ay({optional:!0}),n=z(),[r]=c.useState(()=>DE(n.part().getState().status));return t?e:h.jsx(iy.Provider,{value:r,children:e})},BE=e=>{const t=c.forwardRef((n,r)=>h.jsx(LE,{children:h.jsx(e,{...n,ref:r})}));return t.displayName=e.displayName,t};function ay(e){const t=c.useContext(iy);if(!(e!=null&&e.optional)&&!t)throw new Error("This component must be used within a SmoothContextProvider.");return t}const{useSmoothStatus:FE,useSmoothStatusStore:$E}=oy(ay,"useSmoothStatus"),so=e=>e;class zE{constructor(t,n){_(this,"currentText");_(this,"setText");_(this,"animationFrameId",null);_(this,"lastUpdateTime",Date.now());_(this,"targetText","");_(this,"animate",()=>{const t=Date.now();let r=t-this.lastUpdateTime;const s=this.targetText.length-this.currentText.length,o=Math.min(5,250/s);let i=0;for(;r>=o&&i<s;)i++,r-=o;i!==s?this.animationFrameId=requestAnimationFrame(this.animate):this.animationFrameId=null,i!==0&&(this.currentText=this.targetText.slice(0,this.currentText.length+i),this.lastUpdateTime=t-r,this.setText(this.currentText))});this.currentText=t,this.setText=n}start(){this.animationFrameId===null&&(this.lastUpdateTime=Date.now(),this.animate())}stop(){this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}}const kl=Object.freeze({type:"running"}),ly=(e,t=!1)=>{const{text:n}=e,r=L(({message:d})=>d.id),s=c.useRef(r),[o,i]=c.useState(n),a=$E({optional:!0}),l=Ce(d=>{if(i(d),a){const p=o!==d||e.status.type==="running"?kl:e.status;so(a).setState(p,!0)}});c.useEffect(()=>{if(a){const d=t&&(o!==n||e.status.type==="running")?kl:e.status;so(a).setState(d,!0)}},[a,t,n,o,e.status]);const[u]=c.useState(new zE(n,l));return c.useEffect(()=>{if(!t){u.stop();return}if(s.current!==r||!n.startsWith(u.targetText)){s.current=r,l(n),u.currentText=n,u.targetText=n,u.stop();return}u.targetText=n,u.start()},[l,u,r,t,n]),c.useEffect(()=>()=>{u.stop()},[u]),c.useMemo(()=>t?{type:"text",text:o,status:n===o?e.status:kl}:e,[t,o,e,n])},UE=Object.freeze(Object.defineProperty({__proto__:null,AssistantRuntimeImpl:id,BaseAssistantRuntimeCore:td,CompositeContextProvider:ed,DefaultThreadComposerRuntimeCore:Fv,MessageRepository:Kv,ThreadRuntimeImpl:ty,fromThreadMessageLike:So,generateId:ir,getAutoStatus:$v,useSmooth:ly,useSmoothStatus:FE,withSmoothContextProvider:BE},Symbol.toStringTag,{value:"Module"})),dr=e=>{const[,t]=Ct(e.getState);return Re(()=>(t(e.getState()),e.subscribe(()=>{t(e.getState())})),[e]),e.getState()},uy=Q(({runtime:e})=>{const t=dr(e),n=Zc();return Re(()=>{const r=[],s=["switchedTo","switchedAway"];for(const o of s){const i=e.unstable_on(o,()=>{n(`threadListItem.${o}`,{threadId:e.getState().id})});r.push(i)}return()=>{for(const o of r)o()}},[e,n]),{state:t,methods:{getState:()=>t,switchTo:e.switchTo,rename:e.rename,archive:e.archive,unarchive:e.unarchive,delete:e.delete,generateTitle:e.generateTitle,initialize:e.initialize,detach:e.detach,__internal_getRuntime:()=>e}}}),cy=Q(({runtime:e})=>{const t=dr(e);return{state:t,methods:{getState:()=>t,remove:e.remove,__internal_getRuntime:()=>e}}}),HE=Q(({runtime:e,index:t})=>{const n=H(()=>e.getAttachmentByIndex(t),[e,t]);return Ht(cy({runtime:n}))}),dy=Q(({threadIdRef:e,messageIdRef:t,runtime:n})=>{const r=dr(n),s=Zc();Re(()=>{const a=[],l=["send","attachmentAdd"];for(const u of l){const d=n.unstable_on(u,()=>{s(`composer.${u}`,{threadId:e.current,...t&&{messageId:t.current}})});a.push(d)}return()=>{for(const u of a)u()}},[n,s,e,t]);const o=qr(()=>r.attachments.map((a,l)=>cn(a.id,HE({runtime:n,index:l}))),[r.attachments,n]),i=H(()=>({text:r.text,role:r.role,attachments:o.state,runConfig:r.runConfig,isEditing:r.isEditing,canCancel:r.canCancel,attachmentAccept:r.attachmentAccept,isEmpty:r.isEmpty,type:r.type??"thread",dictation:r.dictation}),[r,o.state]);return{state:i,methods:{getState:()=>i,setText:n.setText,setRole:n.setRole,setRunConfig:n.setRunConfig,addAttachment:n.addAttachment,reset:n.reset,clearAttachments:n.clearAttachments,send:n.send,cancel:n.cancel,beginEdit:n.beginEdit??(()=>{throw new Error("beginEdit is not supported in this runtime")}),startDictation:n.startDictation,stopDictation:n.stopDictation,attachment:a=>"id"in a?o.get({key:a.id}):o.get(a),__internal_getRuntime:()=>n}}}),VE=Q(({runtime:e})=>{const t=dr(e);return{state:t,methods:{getState:()=>t,addToolResult:n=>e.addToolResult(n),resumeToolCall:n=>e.resumeToolCall(n),__internal_getRuntime:()=>e}}}),WE=Q(({runtime:e,index:t})=>{const n=H(()=>e.getAttachmentByIndex(t),[e,t]);return Ht(cy({runtime:n}))}),YE=Q(({runtime:e,index:t})=>{const n=H(()=>e.getMessagePartByIndex(t),[e,t]);return Ht(VE({runtime:n}))}),GE=Q(({runtime:e,threadIdRef:t})=>{const n=dr(e),[r,s]=Ct(!1),[o,i]=Ct(!1),a=H(()=>({get current(){return e.getState().id}}),[e]),l=ka(dy({runtime:e.composer,threadIdRef:t,messageIdRef:a})),u=qr(()=>n.content.map((f,m)=>cn("toolCallId"in f&&f.toolCallId!=null?`toolCallId-${f.toolCallId}`:`index-${m}`,YE({runtime:e,index:m}))),[n.content,e]),d=qr(()=>(n.attachments??[]).map((f,m)=>cn(f.id,WE({runtime:e,index:m}))),[n.attachments,e]),p=H(()=>({...n,parts:u.state,composer:l.state,isCopied:r,isHovering:o}),[n,u.state,l.state,r,o]);return{state:p,methods:{getState:()=>p,composer:l.methods,reload:f=>e.reload(f),speak:()=>e.speak(),stopSpeaking:()=>e.stopSpeaking(),submitFeedback:f=>e.submitFeedback(f),switchToBranch:f=>e.switchToBranch(f),getCopyText:()=>e.unstable_getCopyText(),part:f=>"index"in f?u.get({index:f.index}):u.get({key:`toolCallId-${f.toolCallId}`}),attachment:f=>"id"in f?d.get({key:f.id}):d.get(f),setIsCopied:s,setIsHovering:i,__internal_getRuntime:()=>e}}}),KE=Q(({runtime:e,id:t,threadIdRef:n})=>{const r=H(()=>e.getMessageById(t),[e,t]);return Ht(GE({runtime:r,threadIdRef:n}))}),qE=Q(({runtime:e})=>{const t=dr(e),n=Zc();Re(()=>{const a=[],l=["runStart","runEnd","initialize","modelContextUpdate"];for(const u of l){const d=e.unstable_on(u,()=>{var f;const p=((f=e.getState())==null?void 0:f.threadId)||"unknown";n(`thread.${u}`,{threadId:p})});a.push(d)}return()=>{for(const u of a)u()}},[e,n]);const r=H(()=>({get current(){return e.getState().threadId}}),[e]),s=ka(dy({runtime:e.composer,threadIdRef:r})),o=qr(()=>t.messages.map(a=>cn(a.id,KE({runtime:e,id:a.id,threadIdRef:r}))),[t.messages,e,r]),i=H(()=>({isEmpty:o.state.length===0&&!t.isLoading,isDisabled:t.isDisabled,isLoading:t.isLoading,isRunning:t.isRunning,capabilities:t.capabilities,state:t.state,suggestions:t.suggestions,extras:t.extras,speech:t.speech,composer:s.state,messages:o.state}),[t,o,s.state]);return{state:i,methods:{getState:()=>i,composer:s.methods,append:e.append,startRun:e.startRun,unstable_resumeRun:e.unstable_resumeRun,cancelRun:e.cancelRun,getModelContext:e.getModelContext,export:e.export,import:e.import,reset:e.reset,stopSpeaking:e.stopSpeaking,startVoice:async()=>{throw new Error("startVoice is not supported in this runtime")},stopVoice:async()=>{throw new Error("stopVoice is not supported in this runtime")},message:a=>"id"in a?o.get({key:a.id}):o.get(a),__internal_getRuntime:()=>e}}}),XE=Q(({runtime:e,id:t})=>{const n=H(()=>e.getItemById(t),[e,t]);return Ht(uy({runtime:n}))}),QE=Q(({runtime:e,__internal_assistantRuntime:t})=>{const n=dr(e),r=ka(qE({runtime:e.main})),s=qr(()=>Object.keys(n.threadItems).map(i=>cn(i,XE({runtime:e,id:i}))),[n.threadItems,e]),o=H(()=>({mainThreadId:n.mainThreadId,newThreadId:n.newThreadId??null,isLoading:n.isLoading,threadIds:n.threadIds,archivedThreadIds:n.archivedThreadIds,threadItems:s.state,main:r.state}),[n,s.state,r.state]);return{state:o,methods:{getState:()=>o,thread:()=>r.methods,item:i=>{if(i==="main")return s.get({key:o.mainThreadId});if("id"in i)return s.get({key:i.id});const{index:a,archived:l=!1}=i,u=l?o.archivedThreadIds[a]:o.threadIds[a];return s.get({key:u})},switchToThread:async i=>{await e.switchToThread(i)},switchToNewThread:async()=>{await e.switchToNewThread()},__internal_getAssistantRuntime:()=>t}}}),JE=1,fy=Q(()=>{const[e]=Ct(()=>({version:JE+1})),t=H(()=>new ed,[]);return{state:e,methods:{getState:()=>e,getModelContext:()=>t.getModelContext(),subscribe:n=>t.subscribe(n),register:n=>t.registerModelContextProvider(n)}}});function dp(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ma(...e){return t=>{let n=!1;const r=e.map(s=>{const o=dp(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():dp(e[s],null)}}}}function ge(...e){return c.useCallback(Ma(...e),e)}const hy=Q(({toolkit:e})=>{const[t,n]=Ct(()=>({tools:{}})),r=Dv(),s=wv((o,i)=>(n(a=>({...a,tools:{...a.tools,[o]:[...a.tools[o]??[],i]}})),()=>{n(a=>{var l;return{...a,tools:{...a.tools,[o]:((l=a.tools[o])==null?void 0:l.filter(u=>u!==i))??[]}}})}),[]);return Re(()=>{if(!e)return;const o=[];for(const[l,u]of Object.entries(e))u.render&&o.push(s(l,u.render));const i=Object.entries(e).reduce((l,[u,d])=>{const{render:p,...f}=d;return l[u]=f,l},{}),a={getModelContext:()=>({tools:i})};return o.push(r.current.modelContext().register(a)),()=>{o.forEach(l=>l())}},[e,s,r]),{state:t,methods:{getState:()=>t,setToolUI:s}}});Nv(hy,{modelContext:fy()});const ZE=Q(e=>({state:e,methods:{getState:()=>e}})),eT=Q(e=>{const[t]=Ct(()=>({suggestions:(e??[]).map(s=>typeof s=="string"?{title:s,label:"",prompt:s}:{title:s.title,label:s.label,prompt:s.prompt})})),n=qr(()=>t.suggestions.map((r,s)=>cn(s,ZE(r))),[t.suggestions]);return{state:t,methods:{getState:()=>t,suggestion:({index:r})=>n.get({index:r})}}}),tT=eT,py=Q(e=>{const t=Dv();return Re(()=>e.registerModelContextProvider(t.current.modelContext()),[e,t]),Ht(QE({runtime:e.threads,__internal_assistantRuntime:e}))});Nv(py,{modelContext:fy(),tools:hy({}),suggestions:tT(),threadListItem:_t({source:"threads",query:{type:"main"},get:e=>e.threads().item("main")}),thread:_t({source:"threads",query:{type:"main"},get:e=>e.threads().thread("main")}),composer:_t({source:"thread",query:{},get:e=>e.threads().thread("main").composer})});const Al=e=>{const t=new Map,n=()=>{let r=0;for(const s of t.values())r+=s;e(r)};return{register:()=>{const r=Symbol();return t.set(r,0),{setHeight:s=>{t.get(r)!==s&&(t.set(r,s),n())},unregister:()=>{t.delete(r),n()}}}}},nT=(e={})=>{const t=new Set,n=Al(i=>{o.setState({height:{...o.getState().height,viewport:i}})}),r=Al(i=>{o.setState({height:{...o.getState().height,inset:i}})}),s=Al(i=>{o.setState({height:{...o.getState().height,userMessage:i}})}),o=Xr(()=>({isAtBottom:!0,scrollToBottom:({behavior:i="auto"}={})=>{for(const a of t)a({behavior:i})},onScrollToBottom:i=>(t.add(i),()=>{t.delete(i)}),turnAnchor:e.turnAnchor??"bottom",height:{viewport:0,inset:0,userMessage:0},registerViewport:n.register,registerContentInset:r.register,registerUserMessageHeight:s.register}));return o};function rT(e,t){function n(r){const s=c.useContext(e);if(!(r!=null&&r.optional)&&!s)throw new Error(`This component must be used within ${t}.`);return s}return n}const my=c.createContext(null),sT=rT(my,"ThreadPrimitive.Viewport"),{useThreadViewport:oo,useThreadViewportStore:ja}=oy(sT,"useThreadViewport"),oT=e=>{const t=ja({optional:!0}),[n]=c.useState(()=>nT(e));return c.useEffect(()=>t==null?void 0:t.getState().onScrollToBottom(()=>{n.getState().scrollToBottom()}),[t,n]),c.useEffect(()=>{if(t)return n.subscribe(r=>{t.getState().isAtBottom!==r.isAtBottom&&so(t).setState({isAtBottom:r.isAtBottom})})},[n,t]),c.useEffect(()=>{const r={turnAnchor:e.turnAnchor??"bottom"};n.getState().turnAnchor!==r.turnAnchor&&so(n).setState(r)},[n,e.turnAnchor]),n},gy=({children:e,options:t={}})=>{const n=oT(t),[r]=c.useState(()=>({useThreadViewport:n}));return h.jsx(my.Provider,{value:r,children:e})},iT=e=>{var t;return(t=e._core)==null?void 0:t.RenderComponent},aT=({children:e,aui:t=null,runtime:n})=>{const r=z({threads:py(n)},{parent:t});c.useEffect(()=>{},[r]);const s=iT(n);return h.jsxs(Un,{value:r,children:[s&&h.jsx(s,{}),h.jsx(gy,{children:e})]})},vy=c.memo(aT),lT=({runtime:e,children:t})=>{const n=z({threadListItem:uy({runtime:e})});return h.jsx(Un,{value:n,children:t})},uT=({index:e,children:t})=>{const n=z({message:_t({source:"thread",query:{type:"index",index:e},get:r=>r.thread().message({index:e})}),composer:_t({source:"message",query:{},get:r=>r.thread().message({index:e}).composer})});return h.jsx(Un,{value:n,children:t})},cT=({index:e,children:t})=>{const n=z({part:_t({source:"message",query:{type:"index",index:e},get:r=>r.message().part({index:e})})});return h.jsx(Un,{value:n,children:t})},dT=({index:e,children:t})=>{const n=z({attachment:_t({source:"message",query:{type:"index",index:e},get:r=>r.message().attachment({index:e})})});return h.jsx(Un,{value:n,children:t})},fT=({index:e,children:t})=>{const n=z({attachment:_t({source:"composer",query:{type:"index",index:e},get:r=>r.composer().attachment({index:e})})});return h.jsx(Un,{value:n,children:t})},hT=Q(({text:e,isRunning:t})=>{const n=H(()=>({type:"text",text:e,status:t?{type:"running"}:{type:"complete"}}),[e,t]);return{state:n,methods:{getState:()=>n,addToolResult:()=>{throw new Error("Not supported")},resumeToolCall:()=>{throw new Error("Not supported")}}}}),pT=({text:e,isRunning:t=!1,children:n})=>{const r=z({part:hT({text:e,isRunning:t})});return h.jsx(Un,{value:r,children:n})};class mT extends wo{constructor(n,r){super();_(this,"useRuntimeHook");_(this,"instances",new Map);_(this,"useAliveThreadsKeysChanged",Xr(()=>({})));_(this,"parent");_(this,"_InnerActiveThreadProvider",({threadId:n})=>{const{useRuntime:r}=this.useRuntimeHook(),s=r(),o=s.thread.__internal_threadBinding,i=c.useCallback(()=>{const d=this.instances.get(n);if(!d)throw new Error("Thread not found. This is a bug in assistant-ui.");d.runtime=o.getState(),this._notifySubscribers()},[n,o]),a=c.useRef(!1);a.current||i(),c.useEffect(()=>(a.current=!0,i(),o.outerSubscribe(i)),[o,i]);const l=z(),u=c.useRef(void 0);return c.useEffect(()=>{const d=o.getState(),p=d.__internal_setGetInitializePromise;typeof p=="function"&&p.call(d,()=>u.current)},[o]),c.useEffect(()=>s.threads.main.unstable_on("initialize",()=>{if(l.threadListItem().getState().status==="new"){u.current=l.threadListItem().initialize();const p=s.thread.unstable_on("runEnd",()=>{p(),l.threadListItem().generateTitle()})}}),[s,l]),null});_(this,"_OuterActiveThreadProvider",c.memo(({threadId:n,provider:r})=>{const s=c.useMemo(()=>new ny(this.parent).getItemById(n),[n]);return h.jsx(lT,{runtime:s,children:h.jsx(r,{children:h.jsx(this._InnerActiveThreadProvider,{threadId:n})})})}));_(this,"__internal_RenderThreadRuntimes",({provider:n})=>(this.useAliveThreadsKeysChanged(),Array.from(this.instances.keys()).map(r=>h.jsx(this._OuterActiveThreadProvider,{threadId:r,provider:n},r))));this.parent=r,this.useRuntimeHook=Xr(()=>({useRuntime:n}))}startThreadRuntime(n){return this.instances.has(n)||(this.instances.set(n,{}),this.useAliveThreadsKeysChanged.setState({},!0)),new Promise((r,s)=>{const o=()=>{const a=this.instances.get(n);if(!a)i(),s(new Error("Thread was deleted before runtime was started"));else if(a.runtime)i(),r(a.runtime);else return},i=this.subscribe(o);o()})}getThreadRuntimeCore(n){const r=this.instances.get(n);if(r)return r.runtime}stopThreadRuntime(n){this.instances.delete(n),this.useAliveThreadsKeysChanged.setState({},!0)}setRuntimeHook(n){this.useRuntimeHook.getState().useRuntime!==n&&this.useRuntimeHook.setState({useRuntime:n},!0)}}const le=new Error("This is the empty thread, a placeholder for the main thread. You cannot perform any actions on this thread instance. This error is probably because you tried to call a thread method in your render function. Call the method inside a `useEffect` hook instead."),gT={getMessageById(){},getBranches(){return[]},switchToBranch(){throw le},append(){throw le},startRun(){throw le},resumeRun(){throw le},cancelRun(){throw le},addToolResult(){throw le},resumeToolCall(){throw le},speak(){throw le},stopSpeaking(){throw le},submitFeedback(){throw le},getModelContext(){return{}},exportExternalState(){throw le},importExternalState(){throw le},unstable_loadExternalState(){throw le},composer:{attachments:[],attachmentAccept:"*",async addAttachment(){throw le},async removeAttachment(){throw le},isEditing:!0,canCancel:!1,isEmpty:!0,text:"",setText(){throw le},role:"user",setRole(){throw le},runConfig:{},setRunConfig(){throw le},async reset(){},async clearAttachments(){},send(){throw le},cancel(){},dictation:void 0,startDictation(){throw le},stopDictation(){},subscribe(){return()=>{}},unstable_on(){return()=>{}}},getEditComposer(){},beginEdit(){throw le},speech:void 0,capabilities:{switchToBranch:!1,switchBranchDuringRun:!1,edit:!1,reload:!1,cancel:!1,unstable_copy:!1,speech:!1,dictation:!1,attachments:!1,feedback:!1},isDisabled:!1,isLoading:!1,messages:[],state:null,suggestions:[],extras:void 0,subscribe(){return()=>{}},import(){throw le},export(){return{messages:[]}},reset(){throw le},unstable_on(){return()=>{}}},fp=(e,t,n)=>n.reduce((r,s)=>(s==null?void 0:s(r,t))??r,e);class vT extends wo{constructor(n){super();_(this,"_pendingTransforms",[]);_(this,"_baseValue");_(this,"_cachedValue");this._baseValue=n,this._cachedValue=n}_updateState(){this._cachedValue=this._pendingTransforms.reduce((n,r)=>fp(n,r.task,[r.loading,r.optimistic]),this._baseValue),this._notifySubscribers()}get baseValue(){return this._baseValue}get value(){return this._cachedValue}update(n){this._baseValue=n,this._updateState()}async optimisticUpdate(n){const r=n.execute(),s={...n,task:r};try{this._pendingTransforms.push(s),this._updateState();const o=await r;return this._baseValue=fp(this._baseValue,o,[n.optimistic,n.then]),o}finally{const o=this._pendingTransforms.indexOf(s);o>-1&&this._pendingTransforms.splice(o,1),this._updateState()}}}const hi=(e,t)=>{const n=e.threadIdMap[t];if(n!==void 0)return e.threadData[n]},Go=(e,t,n)=>{const r=hi(e,t);if(!r)return e;const{id:s,remoteId:o,status:i}=r;if(i===n)return e;const a={...e};switch(i){case"new":a.newThreadId=void 0;break;case"regular":a.threadIds=a.threadIds.filter(l=>l!==s);break;case"archived":a.archivedThreadIds=a.archivedThreadIds.filter(l=>l!==s);break;default:{const l=i;throw new Error(`Unsupported state: ${l}`)}}switch(n){case"regular":a.threadIds=[s,...a.threadIds];break;case"archived":a.archivedThreadIds=[s,...a.archivedThreadIds];break;case"deleted":a.threadData=Object.fromEntries(Object.entries(a.threadData).filter(([l])=>l!==s)),a.threadIdMap=Object.fromEntries(Object.entries(a.threadIdMap).filter(([l])=>l!==s&&l!==o));break;default:{const l=n;throw new Error(`Unsupported state: ${l}`)}}return n!=="deleted"&&(a.threadData={...a.threadData,[s]:{...r,status:n}}),a};class yT extends wo{constructor(n,r){super();_(this,"contextProvider");_(this,"_options");_(this,"_hookManager");_(this,"_loadThreadsPromise");_(this,"_mainThreadId");_(this,"_state",new vT({isLoading:!1,newThreadId:void 0,threadIds:[],archivedThreadIds:[],threadIdMap:{},threadData:{}}));_(this,"useProvider");_(this,"initialize",async n=>{if(this._state.value.newThreadId!==n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status==="new")throw new Error("Unexpected new state");return r.initializeTask}return this._state.optimisticUpdate({execute:()=>this._options.adapter.initialize(n),optimistic:r=>Go(r,n,"regular"),loading:(r,s)=>{const o=n;return{...r,threadData:{...r.threadData,[o]:{...r.threadData[o],initializeTask:s}}}},then:(r,{remoteId:s,externalId:o})=>{const i=hi(r,n);if(!i)return r;const a=n;return{...r,threadIdMap:{...r.threadIdMap,[s]:a},threadData:{...r.threadData,[a]:{...i,initializeTask:Promise.resolve({remoteId:s,externalId:o}),remoteId:s,externalId:o}}}}})});_(this,"generateTitle",async n=>{var u;const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status==="new")throw new Error("Thread is not yet initialized");const{remoteId:s}=await r.initializeTask,o=this._hookManager.getThreadRuntimeCore(r.id);if(!o)return;const i=o.messages,a=await this._options.adapter.generateTitle(s,i),l=Ls.fromAssistantStream(a);for await(const d of l){const p=(u=d.parts.filter(m=>m.type==="text")[0])==null?void 0:u.text,f=this._state.baseValue;this._state.update({...f,threadData:{...f.threadData,[r.id]:{...r,title:p}}})}});_(this,"useBoundIds",Xr(()=>[]));_(this,"__internal_RenderComponent",()=>{const n=c.useId();c.useEffect(()=>(this.useBoundIds.setState(i=>[...i,n],!0),()=>{this.useBoundIds.setState(i=>i.filter(a=>a!==n),!0)}),[n]);const r=this.useBoundIds(),{Provider:s}=this.useProvider(),o={modelContext:this.contextProvider};return(r.length===0||r[0]===n)&&h.jsx(ry,{adapters:o,children:h.jsx(this._hookManager.__internal_RenderThreadRuntimes,{provider:s})})});this.contextProvider=r,this._state.subscribe(()=>this._notifySubscribers()),this._hookManager=new mT(n.runtimeHook,this),this.useProvider=Xr(()=>({Provider:n.adapter.unstable_Provider??c.Fragment})),this.__internal_setOptions(n),this.switchToNewThread()}get threadItems(){return this._state.value.threadData}getLoadThreadsPromise(){return this._loadThreadsPromise||(this._loadThreadsPromise=this._state.optimisticUpdate({execute:()=>this._options.adapter.list(),loading:n=>({...n,isLoading:!0}),then:(n,r)=>{const s=[],o=[],i={},a={};for(const l of r.threads){switch(l.status){case"regular":s.push(l.remoteId);break;case"archived":o.push(l.remoteId);break;default:{const d=l.status;throw new Error(`Unsupported state: ${d}`)}}const u=l.remoteId;i[l.remoteId]=u,a[u]={id:l.remoteId,remoteId:l.remoteId,externalId:l.externalId,status:l.status,title:l.title,initializeTask:Promise.resolve({remoteId:l.remoteId,externalId:l.externalId})}}return{...n,threadIds:s,archivedThreadIds:o,threadIdMap:{...n.threadIdMap,...i},threadData:{...n.threadData,...a}}}}).then(()=>{})),this._loadThreadsPromise}__internal_setOptions(n){if(this._options===n)return;this._options=n;const r=n.adapter.unstable_Provider??c.Fragment;r!==this.useProvider.getState().Provider&&this.useProvider.setState({Provider:r},!0),this._hookManager.setRuntimeHook(n.runtimeHook)}__internal_load(){this.getLoadThreadsPromise()}get isLoading(){return this._state.value.isLoading}get threadIds(){return this._state.value.threadIds}get archivedThreadIds(){return this._state.value.archivedThreadIds}get newThreadId(){return this._state.value.newThreadId}get mainThreadId(){return this._mainThreadId}getMainThreadRuntimeCore(){const n=this._hookManager.getThreadRuntimeCore(this._mainThreadId);return n||gT}getThreadRuntimeCore(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");const s=this._hookManager.getThreadRuntimeCore(r.id);if(!s)throw new Error("Thread not found");return s}getItemById(n){return hi(this._state.value,n)}async switchToThread(n){let r=this.getItemById(n);if(!r){const o=await this._options.adapter.fetch(n),i=this._state.value,a=o.remoteId,l={...i.threadData,[a]:{id:a,initializeTask:Promise.resolve({remoteId:o.remoteId,externalId:o.externalId}),remoteId:o.remoteId,externalId:o.externalId,status:o.status,title:o.title}},u={...i.threadIdMap,[o.remoteId]:a},d=o.status==="regular"?[...i.threadIds,o.remoteId]:i.threadIds,p=o.status==="archived"?[...i.archivedThreadIds,o.remoteId]:i.archivedThreadIds;this._state.update({...i,threadIds:d,archivedThreadIds:p,threadIdMap:u,threadData:l}),r=this.getItemById(n)}if(!r)throw new Error("Thread not found");if(this._mainThreadId===r.id)return;const s=this._hookManager.startThreadRuntime(r.id);this.mainThreadId!==void 0?await s:s.then(()=>this._notifySubscribers()),r.status==="archived"&&await this.unarchive(r.id),this._mainThreadId=r.id,this._notifySubscribers()}async switchToNewThread(){for(;this._state.baseValue.newThreadId!==void 0&&this._state.value.newThreadId===void 0;)await this._state.waitForUpdate();const n=this._state.value;let r=this._state.value.newThreadId;if(r===void 0){do r=`__LOCALID_${ir()}`;while(n.threadIdMap[r]);const s=r;this._state.update({...n,newThreadId:r,threadIdMap:{...n.threadIdMap,[r]:s},threadData:{...n.threadData,[s]:{status:"new",id:r,remoteId:void 0,externalId:void 0,title:void 0}}})}return this.switchToThread(r)}rename(n,r){const s=this.getItemById(n);if(!s)throw new Error("Thread not found");if(s.status==="new")throw new Error("Thread is not yet initialized");return this._state.optimisticUpdate({execute:async()=>{const{remoteId:o}=await s.initializeTask;return this._options.adapter.rename(o,r)},optimistic:o=>{const i=hi(o,n);return i?{...o,threadData:{...o.threadData,[i.id]:{...i,title:r}}}:o}})}async _ensureThreadIsNotMain(n){if(n===this.newThreadId)throw new Error("Cannot ensure new thread is not main");n===this._mainThreadId&&await this.switchToNewThread()}async archive(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status!=="regular")throw new Error("Thread is not yet initialized or already archived");return this._state.optimisticUpdate({execute:async()=>{await this._ensureThreadIsNotMain(r.id);const{remoteId:s}=await r.initializeTask;return this._options.adapter.archive(s)},optimistic:s=>Go(s,r.id,"archived")})}unarchive(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status!=="archived")throw new Error("Thread is not archived");return this._state.optimisticUpdate({execute:async()=>{try{const{remoteId:s}=await r.initializeTask;return await this._options.adapter.unarchive(s)}catch(s){throw await this._ensureThreadIsNotMain(r.id),s}},optimistic:s=>Go(s,r.id,"regular")})}async delete(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status!=="regular"&&r.status!=="archived")throw new Error("Thread is not yet initialized");return this._state.optimisticUpdate({execute:async()=>{await this._ensureThreadIsNotMain(r.id);const{remoteId:s}=await r.initializeTask;return await this._options.adapter.delete(s)},optimistic:s=>Go(s,r.id,"deleted")})}async detach(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status!=="regular"&&r.status!=="archived")throw new Error("Thread is not yet initialized");await this._ensureThreadIsNotMain(r.id),this._hookManager.stopThreadRuntime(r.id)}}class wT extends td{constructor(n){super();_(this,"threads");this.threads=new yT(n,this._contextProvider)}get RenderComponent(){return this.threads.__internal_RenderComponent}}const ST=e=>{const[t]=c.useState(()=>new wT(e));return c.useEffect(()=>{t.threads.__internal_setOptions(e),t.threads.__internal_load()},[t,e]),c.useMemo(()=>new id(t),[t])},xT=e=>{if(z().threadListItem.source!==null){if(!e.allowNesting)throw new Error("useRemoteThreadListRuntime cannot be nested inside another RemoteThreadListRuntime. Set allowNesting: true to allow nesting (the inner runtime will become a no-op).");return e.runtimeHook()}return ST(e)},_T=e=>{var n;const t=e;t.__isBound||((n=t.__internal_bindMethods)==null||n.call(t),t.__isBound=!0)};function bT(e,t=CT){_T(e);const n=c.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getState()));return c.useDebugValue(n),n}const CT=e=>e;function yy(e){function t(n){let r=!1,s;typeof n=="function"?s=n:n&&(r=!!n.optional,s=n.selector);const o=e({optional:r});return o?bT(o,s):null}return t}function ET(e){var r,s;return((s=(r=z().threads()).__internal_getAssistantRuntime)==null?void 0:s.call(r))??null}function TT(e){const t=z(),n=L(()=>{var r,s;return t.attachment.source?((s=(r=t.attachment()).__internal_getRuntime)==null?void 0:s.call(r))??null:null});if(!n&&!(e!=null&&e.optional))throw new Error("AttachmentRuntime is not available");return n}const Xi=yy(TT);function RT(e){const t=z(),n=L(()=>{var r,s;return t.thread.source?((s=(r=t.thread()).__internal_getRuntime)==null?void 0:s.call(r))??null:null});if(!n&&!(e!=null&&e.optional))throw new Error("ThreadRuntime is not available");return n}const kt=yy(RT);var kT=Symbol.for("react.lazy"),Qi=rc[" use ".trim().toString()];function AT(e){return typeof e=="object"&&e!==null&&"then"in e}function wy(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===kT&&"_payload"in e&&AT(e._payload)}function Sy(e){const t=PT(e),n=c.forwardRef((r,s)=>{let{children:o,...i}=r;wy(o)&&typeof Qi=="function"&&(o=Qi(o._payload));const a=c.Children.toArray(o),l=a.find(NT);if(l){const u=l.props.children,d=a.map(p=>p===l?c.Children.count(u)>1?c.Children.only(null):c.isValidElement(u)?u.props.children:null:p);return h.jsx(t,{...i,ref:s,children:c.isValidElement(u)?c.cloneElement(u,void 0,d):null})}return h.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var xy=Sy("Slot");function PT(e){const t=c.forwardRef((n,r)=>{let{children:s,...o}=n;if(wy(s)&&typeof Qi=="function"&&(s=Qi(s._payload)),c.isValidElement(s)){const i=jT(s),a=MT(o,s.props);return s.type!==c.Fragment&&(a.ref=r?Ma(r,i):i),c.cloneElement(s,a)}return c.Children.count(s)>1?c.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var IT=Symbol("radix.slottable");function NT(e){return c.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===IT}function MT(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function jT(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var OT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ot=OT.reduce((e,t)=>{const n=Sy(`Primitive.${t}`),r=c.forwardRef((s,o)=>{const{asChild:i,...a}=s,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),tn;(function(e){e.Hidden="hidden",e.Floating="floating",e.Normal="normal"})(tn||(tn={}));const DT=({hideWhenRunning:e,autohide:t,autohideFloat:n})=>L(({thread:r,message:s})=>e&&r.isRunning?tn.Hidden:t==="always"||t==="not-last"&&!s.isLast?s.isHovering?n==="always"||n==="single-branch"&&s.branchCount<=1?tn.Floating:tn.Normal:tn.Hidden:tn.Normal),ad=c.forwardRef(({hideWhenRunning:e,autohide:t,autohideFloat:n,...r},s)=>{const o=DT({hideWhenRunning:e,autohide:t,autohideFloat:n});return o===tn.Hidden?null:h.jsx(ot.div,{...o===tn.Floating?{"data-floating":"true"}:null,...r,ref:s})});ad.displayName="ActionBarPrimitive.Root";function K(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}const LT=({copiedDuration:e=3e3}={})=>{const t=z(),n=L(({message:i})=>{var a;return(i.role!=="assistant"||((a=i.status)==null?void 0:a.type)!=="running")&&i.parts.some(l=>l.type==="text"&&l.text.length>0)}),r=L(({composer:i})=>i.isEditing),s=L(({composer:i})=>i.text),o=c.useCallback(()=>{const i=r?s:t.message().getCopyText();i&&navigator.clipboard.writeText(i).then(()=>{t.message().setIsCopied(!0),setTimeout(()=>t.message().setIsCopied(!1),e)})},[t,r,s,e]);return n?o:null},_y=c.forwardRef(({copiedDuration:e,onClick:t,disabled:n,...r},s)=>{const o=L(({message:a})=>a.isCopied),i=LT({copiedDuration:e});return h.jsx(ot.button,{type:"button",...o?{"data-copied":"true"}:{},...r,ref:s,disabled:n||!i,onClick:K(t,()=>{i==null||i()})})});_y.displayName="ActionBarPrimitive.Copy";const At=(e,t,n=[])=>{const r=c.forwardRef((s,o)=>{const i={},a={};Object.keys(s).forEach(u=>{n.includes(u)?i[u]=s[u]:a[u]=s[u]});const l=t(i)??void 0;return h.jsx(ot.button,{type:"button",...a,ref:o,disabled:a.disabled||!l,onClick:K(a.onClick,l)})});return r.displayName=e,r},BT=()=>{const e=z(),t=L(r=>r.thread.isRunning||r.thread.isDisabled||r.message.role!=="assistant"),n=c.useCallback(()=>{e.message().reload()},[e]);return t?null:n},FT=At("ActionBarPrimitive.Reload",BT),$T=()=>{const e=z(),t=L(({composer:r})=>r.isEditing),n=c.useCallback(()=>{e.composer().beginEdit()},[e]);return t?null:n},zT=At("ActionBarPrimitive.Edit",$T),UT=()=>{const e=z(),t=c.useCallback(async()=>{e.message().speak()},[e]);return L(({message:r})=>{var s;return(r.role!=="assistant"||((s=r.status)==null?void 0:s.type)!=="running")&&r.parts.some(o=>o.type==="text"&&o.text.length>0)})?t:null},HT=At("ActionBarPrimitive.Speak",UT);function ld(e,t=globalThis==null?void 0:globalThis.document){const n=Ce(e);c.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}const VT=()=>{const e=z(),t=L(({message:r})=>r.speech!=null),n=c.useCallback(()=>{e.message().stopSpeaking()},[e]);return t?n:null},by=c.forwardRef((e,t)=>{const n=VT();return ld(r=>{n&&(r.preventDefault(),n())}),h.jsx(ot.button,{type:"button",disabled:!n,...e,ref:t,onClick:K(e.onClick,()=>{n==null||n()})})});by.displayName="ActionBarPrimitive.StopSpeaking";const WT=()=>{const e=z();return c.useCallback(()=>{e.message().submitFeedback({type:"positive"})},[e])},Cy=c.forwardRef(({onClick:e,disabled:t,...n},r)=>{const s=L(i=>{var a;return((a=i.message.metadata.submittedFeedback)==null?void 0:a.type)==="positive"}),o=WT();return h.jsx(ot.button,{type:"button",...s?{"data-submitted":"true"}:{},...n,ref:r,disabled:t||!o,onClick:K(e,()=>{o==null||o()})})});Cy.displayName="ActionBarPrimitive.FeedbackPositive";const YT=()=>{const e=z();return c.useCallback(()=>{e.message().submitFeedback({type:"negative"})},[e])},Ey=c.forwardRef(({onClick:e,disabled:t,...n},r)=>{const s=L(i=>{var a;return((a=i.message.metadata.submittedFeedback)==null?void 0:a.type)==="negative"}),o=YT();return h.jsx(ot.button,{type:"button",...s?{"data-submitted":"true"}:{},...n,ref:r,disabled:t||!o,onClick:K(e,()=>{o==null||o()})})});Ey.displayName="ActionBarPrimitive.FeedbackNegative";function GT(e,t){const n=c.createContext(t),r=o=>{const{children:i,...a}=o,l=c.useMemo(()=>a,Object.values(a));return h.jsx(n.Provider,{value:l,children:i})};r.displayName=e+"Provider";function s(o){const i=c.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function xo(e,t=[]){let n=[];function r(o,i){const a=c.createContext(i),l=n.length;n=[...n,i];const u=p=>{var g;const{scope:f,children:m,...S}=p,y=((g=f==null?void 0:f[e])==null?void 0:g[l])||a,b=c.useMemo(()=>S,Object.values(S));return h.jsx(y.Provider,{value:b,children:m})};u.displayName=o+"Provider";function d(p,f){var y;const m=((y=f==null?void 0:f[e])==null?void 0:y[l])||a,S=c.useContext(m);if(S)return S;if(i!==void 0)return i;throw new Error(`\`${p}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(i=>c.createContext(i));return function(a){const l=(a==null?void 0:a[e])||o;return c.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,KT(s,...t)]}function KT(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(o)[`__scope${u}`];return{...a,...p}},{});return c.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var ft=globalThis!=null&&globalThis.document?c.useLayoutEffect:()=>{},qT=rc[" useInsertionEffect ".trim().toString()]||ft;function Ty({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,i]=XT({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:s;{const d=c.useRef(e!==void 0);c.useEffect(()=>{const p=d.current;p!==a&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=c.useCallback(d=>{var p;if(a){const f=QT(d)?d(e):d;f!==e&&((p=i.current)==null||p.call(i,f))}else o(d)},[a,e,o,i]);return[l,u]}function XT({defaultProp:e,onChange:t}){const[n,r]=c.useState(e),s=c.useRef(n),o=c.useRef(t);return qT(()=>{o.current=t},[t]),c.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function QT(e){return typeof e=="function"}function ud(e){const t=JT(e),n=c.forwardRef((r,s)=>{const{children:o,...i}=r,a=c.Children.toArray(o),l=a.find(e1);if(l){const u=l.props.children,d=a.map(p=>p===l?c.Children.count(u)>1?c.Children.only(null):c.isValidElement(u)?u.props.children:null:p);return h.jsx(t,{...i,ref:s,children:c.isValidElement(u)?c.cloneElement(u,void 0,d):null})}return h.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var fr=ud("Slot");function JT(e){const t=c.forwardRef((n,r)=>{const{children:s,...o}=n;if(c.isValidElement(s)){const i=n1(s),a=t1(o,s.props);return s.type!==c.Fragment&&(a.ref=r?Ma(r,i):i),c.cloneElement(s,a)}return c.Children.count(s)>1?c.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ry=Symbol("radix.slottable");function ZT(e){const t=({children:n})=>h.jsx(h.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Ry,t}function e1(e){return c.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ry}function t1(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function n1(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var r1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],se=r1.reduce((e,t)=>{const n=ud(`Primitive.${t}`),r=c.forwardRef((s,o)=>{const{asChild:i,...a}=s,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function ky(e,t){e&&Ta.flushSync(()=>e.dispatchEvent(t))}var Ay=c.createContext(void 0),s1=e=>{const{dir:t,children:n}=e;return h.jsx(Ay.Provider,{value:t,children:n})};function o1(e){const t=c.useContext(Ay);return e||t||"ltr"}var i1=s1,a1="DismissableLayer",zu="dismissableLayer.update",l1="dismissableLayer.pointerDownOutside",u1="dismissableLayer.focusOutside",hp,Py=c.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cd=c.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...l}=e,u=c.useContext(Py),[d,p]=c.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=c.useState({}),S=ge(t,E=>p(E)),y=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=y.indexOf(b),v=d?y.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,x=v>=g,C=f1(E=>{const T=E.target,I=[...u.branches].some(k=>k.contains(T));!x||I||(s==null||s(E),i==null||i(E),E.defaultPrevented||a==null||a())},f),R=h1(E=>{const T=E.target;[...u.branches].some(k=>k.contains(T))||(o==null||o(E),i==null||i(E),E.defaultPrevented||a==null||a())},f);return ld(E=>{v===u.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&a&&(E.preventDefault(),a()))},f),c.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(hp=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),pp(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=hp)}},[d,f,n,u]),c.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),pp())},[d,u]),c.useEffect(()=>{const E=()=>m({});return document.addEventListener(zu,E),()=>document.removeEventListener(zu,E)},[]),h.jsx(se.div,{...l,ref:S,style:{pointerEvents:w?x?"auto":"none":void 0,...e.style},onFocusCapture:K(e.onFocusCapture,R.onFocusCapture),onBlurCapture:K(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:K(e.onPointerDownCapture,C.onPointerDownCapture)})});cd.displayName=a1;var c1="DismissableLayerBranch",d1=c.forwardRef((e,t)=>{const n=c.useContext(Py),r=c.useRef(null),s=ge(t,r);return c.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),h.jsx(se.div,{...e,ref:s})});d1.displayName=c1;function f1(e,t=globalThis==null?void 0:globalThis.document){const n=Ce(e),r=c.useRef(!1),s=c.useRef(()=>{});return c.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){Iy(l1,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function h1(e,t=globalThis==null?void 0:globalThis.document){const n=Ce(e),r=c.useRef(!1);return c.useEffect(()=>{const s=o=>{o.target&&!r.current&&Iy(u1,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function pp(){const e=new CustomEvent(zu);document.dispatchEvent(e)}function Iy(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?ky(s,o):s.dispatchEvent(o)}var Pl=0;function p1(){c.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??mp()),document.body.insertAdjacentElement("beforeend",e[1]??mp()),Pl++,()=>{Pl===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Pl--}},[])}function mp(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Il="focusScope.autoFocusOnMount",Nl="focusScope.autoFocusOnUnmount",gp={bubbles:!1,cancelable:!0},m1="FocusScope",Ny=c.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,l]=c.useState(null),u=Ce(s),d=Ce(o),p=c.useRef(null),f=ge(t,y=>l(y)),m=c.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;c.useEffect(()=>{if(r){let y=function(w){if(m.paused||!a)return;const x=w.target;a.contains(x)?p.current=x:gn(p.current,{select:!0})},b=function(w){if(m.paused||!a)return;const x=w.relatedTarget;x!==null&&(a.contains(x)||gn(p.current,{select:!0}))},g=function(w){if(document.activeElement===document.body)for(const C of w)C.removedNodes.length>0&&gn(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const v=new MutationObserver(g);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),v.disconnect()}}},[r,a,m.paused]),c.useEffect(()=>{if(a){yp.add(m);const y=document.activeElement;if(!a.contains(y)){const g=new CustomEvent(Il,gp);a.addEventListener(Il,u),a.dispatchEvent(g),g.defaultPrevented||(g1(x1(My(a)),{select:!0}),document.activeElement===y&&gn(a))}return()=>{a.removeEventListener(Il,u),setTimeout(()=>{const g=new CustomEvent(Nl,gp);a.addEventListener(Nl,d),a.dispatchEvent(g),g.defaultPrevented||gn(y??document.body,{select:!0}),a.removeEventListener(Nl,d),yp.remove(m)},0)}}},[a,u,d,m]);const S=c.useCallback(y=>{if(!n&&!r||m.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,g=document.activeElement;if(b&&g){const v=y.currentTarget,[w,x]=v1(v);w&&x?!y.shiftKey&&g===x?(y.preventDefault(),n&&gn(w,{select:!0})):y.shiftKey&&g===w&&(y.preventDefault(),n&&gn(x,{select:!0})):g===v&&y.preventDefault()}},[n,r,m.paused]);return h.jsx(se.div,{tabIndex:-1,...i,ref:f,onKeyDown:S})});Ny.displayName=m1;function g1(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(gn(r,{select:t}),document.activeElement!==n)return}function v1(e){const t=My(e),n=vp(t,e),r=vp(t.reverse(),e);return[n,r]}function My(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function vp(e,t){for(const n of e)if(!y1(n,{upTo:t}))return n}function y1(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function w1(e){return e instanceof HTMLInputElement&&"select"in e}function gn(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&w1(e)&&t&&e.select()}}var yp=S1();function S1(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=wp(e,t),e.unshift(t)},remove(t){var n;e=wp(e,t),(n=e[0])==null||n.resume()}}}function wp(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function x1(e){return e.filter(t=>t.tagName!=="A")}var _1=rc[" useId ".trim().toString()]||(()=>{}),b1=0;function pi(e){const[t,n]=c.useState(_1());return ft(()=>{n(r=>r??String(b1++))},[e]),e||(t?`radix-${t}`:"")}const C1=["top","right","bottom","left"],Dn=Math.min,Qe=Math.max,Ji=Math.round,Ko=Math.floor,zt=e=>({x:e,y:e}),E1={left:"right",right:"left",bottom:"top",top:"bottom"},T1={start:"end",end:"start"};function Uu(e,t,n){return Qe(e,Dn(t,n))}function dn(e,t){return typeof e=="function"?e(t):e}function fn(e){return e.split("-")[0]}function os(e){return e.split("-")[1]}function dd(e){return e==="x"?"y":"x"}function fd(e){return e==="y"?"height":"width"}const R1=new Set(["top","bottom"]);function Lt(e){return R1.has(fn(e))?"y":"x"}function hd(e){return dd(Lt(e))}function k1(e,t,n){n===void 0&&(n=!1);const r=os(e),s=hd(e),o=fd(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Zi(i)),[i,Zi(i)]}function A1(e){const t=Zi(e);return[Hu(e),t,Hu(t)]}function Hu(e){return e.replace(/start|end/g,t=>T1[t])}const Sp=["left","right"],xp=["right","left"],P1=["top","bottom"],I1=["bottom","top"];function N1(e,t,n){switch(e){case"top":case"bottom":return n?t?xp:Sp:t?Sp:xp;case"left":case"right":return t?P1:I1;default:return[]}}function M1(e,t,n,r){const s=os(e);let o=N1(fn(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Hu)))),o}function Zi(e){return e.replace(/left|right|bottom|top/g,t=>E1[t])}function j1(e){return{top:0,right:0,bottom:0,left:0,...e}}function jy(e){return typeof e!="number"?j1(e):{top:e,right:e,bottom:e,left:e}}function ea(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function _p(e,t,n){let{reference:r,floating:s}=e;const o=Lt(t),i=hd(t),a=fd(i),l=fn(t),u=o==="y",d=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:p};break;case"left":m={x:r.x-s.width,y:p};break;default:m={x:r.x,y:r.y}}switch(os(t)){case"start":m[i]-=f*(n&&u?-1:1);break;case"end":m[i]+=f*(n&&u?-1:1);break}return m}async function O1(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:f=!1,padding:m=0}=dn(t,e),S=jy(m),b=a[f?p==="floating"?"reference":"floating":p],g=ea(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),v=p==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),x=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},C=ea(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:w,strategy:l}):v);return{top:(g.top-C.top+S.top)/x.y,bottom:(C.bottom-g.bottom+S.bottom)/x.y,left:(g.left-C.left+S.left)/x.x,right:(C.right-g.right+S.right)/x.x}}const D1=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:p}=_p(u,r,l),f=r,m={},S=0;for(let b=0;b<a.length;b++){var y;const{name:g,fn:v}=a[b],{x:w,y:x,data:C,reset:R}=await v({x:d,y:p,initialPlacement:r,placement:f,strategy:s,middlewareData:m,rects:u,platform:{...i,detectOverflow:(y=i.detectOverflow)!=null?y:O1},elements:{reference:e,floating:t}});d=w??d,p=x??p,m={...m,[g]:{...m[g],...C}},R&&S<=50&&(S++,typeof R=="object"&&(R.placement&&(f=R.placement),R.rects&&(u=R.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):R.rects),{x:d,y:p}=_p(u,f,l)),b=-1)}return{x:d,y:p,placement:f,strategy:s,middlewareData:m}},L1=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=t,{element:u,padding:d=0}=dn(e,t)||{};if(u==null)return{};const p=jy(d),f={x:n,y:r},m=hd(s),S=fd(m),y=await i.getDimensions(u),b=m==="y",g=b?"top":"left",v=b?"bottom":"right",w=b?"clientHeight":"clientWidth",x=o.reference[S]+o.reference[m]-f[m]-o.floating[S],C=f[m]-o.reference[m],R=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let E=R?R[w]:0;(!E||!await(i.isElement==null?void 0:i.isElement(R)))&&(E=a.floating[w]||o.floating[S]);const T=x/2-C/2,I=E/2-y[S]/2-1,k=Dn(p[g],I),j=Dn(p[v],I),F=k,W=E-y[S]-j,q=E/2-y[S]/2+T,pe=Uu(F,q,W),Y=!l.arrow&&os(s)!=null&&q!==pe&&o.reference[S]/2-(q<F?k:j)-y[S]/2<0,J=Y?q<F?q-F:q-W:0;return{[m]:f[m]+J,data:{[m]:pe,centerOffset:q-pe-J,...Y&&{alignmentOffset:J}},reset:Y}}}),B1=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:y=!0,...b}=dn(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const g=fn(s),v=Lt(a),w=fn(a)===a,x=await(l.isRTL==null?void 0:l.isRTL(u.floating)),C=f||(w||!y?[Zi(a)]:A1(a)),R=S!=="none";!f&&R&&C.push(...M1(a,y,S,x));const E=[a,...C],T=await l.detectOverflow(t,b),I=[];let k=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&I.push(T[g]),p){const q=k1(s,i,x);I.push(T[q[0]],T[q[1]])}if(k=[...k,{placement:s,overflows:I}],!I.every(q=>q<=0)){var j,F;const q=(((j=o.flip)==null?void 0:j.index)||0)+1,pe=E[q];if(pe&&(!(p==="alignment"?v!==Lt(pe):!1)||k.every(A=>Lt(A.placement)===v?A.overflows[0]>0:!0)))return{data:{index:q,overflows:k},reset:{placement:pe}};let Y=(F=k.filter(J=>J.overflows[0]<=0).sort((J,A)=>J.overflows[1]-A.overflows[1])[0])==null?void 0:F.placement;if(!Y)switch(m){case"bestFit":{var W;const J=(W=k.filter(A=>{if(R){const O=Lt(A.placement);return O===v||O==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(O=>O>0).reduce((O,D)=>O+D,0)]).sort((A,O)=>A[1]-O[1])[0])==null?void 0:W[0];J&&(Y=J);break}case"initialPlacement":Y=a;break}if(s!==Y)return{reset:{placement:Y}}}return{}}}};function bp(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Cp(e){return C1.some(t=>e[t]>=0)}const F1=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:r}=t,{strategy:s="referenceHidden",...o}=dn(e,t);switch(s){case"referenceHidden":{const i=await r.detectOverflow(t,{...o,elementContext:"reference"}),a=bp(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Cp(a)}}}case"escaped":{const i=await r.detectOverflow(t,{...o,altBoundary:!0}),a=bp(i,n.floating);return{data:{escapedOffsets:a,escaped:Cp(a)}}}default:return{}}}}},Oy=new Set(["left","top"]);async function $1(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=fn(n),a=os(n),l=Lt(n)==="y",u=Oy.has(i)?-1:1,d=o&&l?-1:1,p=dn(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:S}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof S=="number"&&(m=a==="end"?S*-1:S),l?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const z1=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=t,l=await $1(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},U1=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s,platform:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:g=>{let{x:v,y:w}=g;return{x:v,y:w}}},...u}=dn(e,t),d={x:n,y:r},p=await o.detectOverflow(t,u),f=Lt(fn(s)),m=dd(f);let S=d[m],y=d[f];if(i){const g=m==="y"?"top":"left",v=m==="y"?"bottom":"right",w=S+p[g],x=S-p[v];S=Uu(w,S,x)}if(a){const g=f==="y"?"top":"left",v=f==="y"?"bottom":"right",w=y+p[g],x=y-p[v];y=Uu(w,y,x)}const b=l.fn({...t,[m]:S,[f]:y});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[m]:i,[f]:a}}}}}},H1=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=dn(e,t),d={x:n,y:r},p=Lt(s),f=dd(p);let m=d[f],S=d[p];const y=dn(a,t),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const w=f==="y"?"height":"width",x=o.reference[f]-o.floating[w]+b.mainAxis,C=o.reference[f]+o.reference[w]-b.mainAxis;m<x?m=x:m>C&&(m=C)}if(u){var g,v;const w=f==="y"?"width":"height",x=Oy.has(fn(s)),C=o.reference[p]-o.floating[w]+(x&&((g=i.offset)==null?void 0:g[p])||0)+(x?0:b.crossAxis),R=o.reference[p]+o.reference[w]+(x?0:((v=i.offset)==null?void 0:v[p])||0)-(x?b.crossAxis:0);S<C?S=C:S>R&&(S=R)}return{[f]:m,[p]:S}}}},V1=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:l=()=>{},...u}=dn(e,t),d=await i.detectOverflow(t,u),p=fn(s),f=os(s),m=Lt(s)==="y",{width:S,height:y}=o.floating;let b,g;p==="top"||p==="bottom"?(b=p,g=f===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(g=p,b=f==="end"?"top":"bottom");const v=y-d.top-d.bottom,w=S-d.left-d.right,x=Dn(y-d[b],v),C=Dn(S-d[g],w),R=!t.middlewareData.shift;let E=x,T=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(T=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(E=v),R&&!f){const k=Qe(d.left,0),j=Qe(d.right,0),F=Qe(d.top,0),W=Qe(d.bottom,0);m?T=S-2*(k!==0||j!==0?k+j:Qe(d.left,d.right)):E=y-2*(F!==0||W!==0?F+W:Qe(d.top,d.bottom))}await l({...t,availableWidth:T,availableHeight:E});const I=await i.getDimensions(a.floating);return S!==I.width||y!==I.height?{reset:{rects:!0}}:{}}}};function Oa(){return typeof window<"u"}function is(e){return Dy(e)?(e.nodeName||"").toLowerCase():"#document"}function tt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Vt(e){var t;return(t=(Dy(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Dy(e){return Oa()?e instanceof Node||e instanceof tt(e).Node:!1}function Tt(e){return Oa()?e instanceof Element||e instanceof tt(e).Element:!1}function Ut(e){return Oa()?e instanceof HTMLElement||e instanceof tt(e).HTMLElement:!1}function Ep(e){return!Oa()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof tt(e).ShadowRoot}const W1=new Set(["inline","contents"]);function _o(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Rt(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!W1.has(s)}const Y1=new Set(["table","td","th"]);function G1(e){return Y1.has(is(e))}const K1=[":popover-open",":modal"];function Da(e){return K1.some(t=>{try{return e.matches(t)}catch{return!1}})}const q1=["transform","translate","scale","rotate","perspective"],X1=["transform","translate","scale","rotate","perspective","filter"],Q1=["paint","layout","strict","content"];function pd(e){const t=md(),n=Tt(e)?Rt(e):e;return q1.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||X1.some(r=>(n.willChange||"").includes(r))||Q1.some(r=>(n.contain||"").includes(r))}function J1(e){let t=Ln(e);for(;Ut(t)&&!Qr(t);){if(pd(t))return t;if(Da(t))return null;t=Ln(t)}return null}function md(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Z1=new Set(["html","body","#document"]);function Qr(e){return Z1.has(is(e))}function Rt(e){return tt(e).getComputedStyle(e)}function La(e){return Tt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ln(e){if(is(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ep(e)&&e.host||Vt(e);return Ep(t)?t.host:t}function Ly(e){const t=Ln(e);return Qr(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ut(t)&&_o(t)?t:Ly(t)}function io(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Ly(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=tt(s);if(o){const a=Vu(i);return t.concat(i,i.visualViewport||[],_o(s)?s:[],a&&n?io(a):[])}return t.concat(s,io(s,[],n))}function Vu(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function By(e){const t=Rt(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Ut(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,a=Ji(n)!==o||Ji(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function gd(e){return Tt(e)?e:e.contextElement}function Fr(e){const t=gd(e);if(!Ut(t))return zt(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=By(t);let i=(o?Ji(n.width):n.width)/r,a=(o?Ji(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const eR=zt(0);function Fy(e){const t=tt(e);return!md()||!t.visualViewport?eR:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function tR(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==tt(e)?!1:t}function ar(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=gd(e);let i=zt(1);t&&(r?Tt(r)&&(i=Fr(r)):i=Fr(e));const a=tR(o,n,r)?Fy(o):zt(0);let l=(s.left+a.x)/i.x,u=(s.top+a.y)/i.y,d=s.width/i.x,p=s.height/i.y;if(o){const f=tt(o),m=r&&Tt(r)?tt(r):r;let S=f,y=Vu(S);for(;y&&r&&m!==S;){const b=Fr(y),g=y.getBoundingClientRect(),v=Rt(y),w=g.left+(y.clientLeft+parseFloat(v.paddingLeft))*b.x,x=g.top+(y.clientTop+parseFloat(v.paddingTop))*b.y;l*=b.x,u*=b.y,d*=b.x,p*=b.y,l+=w,u+=x,S=tt(y),y=Vu(S)}}return ea({width:d,height:p,x:l,y:u})}function Ba(e,t){const n=La(e).scrollLeft;return t?t.left+n:ar(Vt(e)).left+n}function $y(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Ba(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function nR(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=Vt(r),a=t?Da(t.floating):!1;if(r===i||a&&o)return n;let l={scrollLeft:0,scrollTop:0},u=zt(1);const d=zt(0),p=Ut(r);if((p||!p&&!o)&&((is(r)!=="body"||_o(i))&&(l=La(r)),Ut(r))){const m=ar(r);u=Fr(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const f=i&&!p&&!o?$y(i,l):zt(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+f.x,y:n.y*u.y-l.scrollTop*u.y+d.y+f.y}}function rR(e){return Array.from(e.getClientRects())}function sR(e){const t=Vt(e),n=La(e),r=e.ownerDocument.body,s=Qe(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Qe(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Ba(e);const a=-n.scrollTop;return Rt(r).direction==="rtl"&&(i+=Qe(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}const Tp=25;function oR(e,t){const n=tt(e),r=Vt(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const d=md();(!d||d&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const u=Ba(r);if(u<=0){const d=r.ownerDocument,p=d.body,f=getComputedStyle(p),m=d.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,S=Math.abs(r.clientWidth-p.clientWidth-m);S<=Tp&&(o-=S)}else u<=Tp&&(o+=u);return{width:o,height:i,x:a,y:l}}const iR=new Set(["absolute","fixed"]);function aR(e,t){const n=ar(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Ut(e)?Fr(e):zt(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,l=s*o.x,u=r*o.y;return{width:i,height:a,x:l,y:u}}function Rp(e,t,n){let r;if(t==="viewport")r=oR(e,n);else if(t==="document")r=sR(Vt(e));else if(Tt(t))r=aR(t,n);else{const s=Fy(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return ea(r)}function zy(e,t){const n=Ln(e);return n===t||!Tt(n)||Qr(n)?!1:Rt(n).position==="fixed"||zy(n,t)}function lR(e,t){const n=t.get(e);if(n)return n;let r=io(e,[],!1).filter(a=>Tt(a)&&is(a)!=="body"),s=null;const o=Rt(e).position==="fixed";let i=o?Ln(e):e;for(;Tt(i)&&!Qr(i);){const a=Rt(i),l=pd(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&iR.has(s.position)||_o(i)&&!l&&zy(e,i))?r=r.filter(d=>d!==i):s=a,i=Ln(i)}return t.set(e,r),r}function uR(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?Da(t)?[]:lR(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((u,d)=>{const p=Rp(t,d,s);return u.top=Qe(p.top,u.top),u.right=Dn(p.right,u.right),u.bottom=Dn(p.bottom,u.bottom),u.left=Qe(p.left,u.left),u},Rp(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function cR(e){const{width:t,height:n}=By(e);return{width:t,height:n}}function dR(e,t,n){const r=Ut(t),s=Vt(t),o=n==="fixed",i=ar(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=zt(0);function u(){l.x=Ba(s)}if(r||!r&&!o)if((is(t)!=="body"||_o(s))&&(a=La(t)),r){const m=ar(t,!0,o,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?$y(s,a):zt(0),p=i.left+a.scrollLeft-l.x-d.x,f=i.top+a.scrollTop-l.y-d.y;return{x:p,y:f,width:i.width,height:i.height}}function Ml(e){return Rt(e).position==="static"}function kp(e,t){if(!Ut(e)||Rt(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Vt(e)===n&&(n=n.ownerDocument.body),n}function Uy(e,t){const n=tt(e);if(Da(e))return n;if(!Ut(e)){let s=Ln(e);for(;s&&!Qr(s);){if(Tt(s)&&!Ml(s))return s;s=Ln(s)}return n}let r=kp(e,t);for(;r&&G1(r)&&Ml(r);)r=kp(r,t);return r&&Qr(r)&&Ml(r)&&!pd(r)?n:r||J1(e)||n}const fR=async function(e){const t=this.getOffsetParent||Uy,n=this.getDimensions,r=await n(e.floating);return{reference:dR(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function hR(e){return Rt(e).direction==="rtl"}const pR={convertOffsetParentRelativeRectToViewportRelativeRect:nR,getDocumentElement:Vt,getClippingRect:uR,getOffsetParent:Uy,getElementRects:fR,getClientRects:rR,getDimensions:cR,getScale:Fr,isElement:Tt,isRTL:hR};function Hy(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function mR(e,t){let n=null,r;const s=Vt(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const u=e.getBoundingClientRect(),{left:d,top:p,width:f,height:m}=u;if(a||t(),!f||!m)return;const S=Ko(p),y=Ko(s.clientWidth-(d+f)),b=Ko(s.clientHeight-(p+m)),g=Ko(d),w={rootMargin:-S+"px "+-y+"px "+-b+"px "+-g+"px",threshold:Qe(0,Dn(1,l))||1};let x=!0;function C(R){const E=R[0].intersectionRatio;if(E!==l){if(!x)return i();E?i(!1,E):r=setTimeout(()=>{i(!1,1e-7)},1e3)}E===1&&!Hy(u,e.getBoundingClientRect())&&i(),x=!1}try{n=new IntersectionObserver(C,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,w)}n.observe(e)}return i(!0),o}function gR(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=gd(e),d=s||o?[...u?io(u):[],...io(t)]:[];d.forEach(g=>{s&&g.addEventListener("scroll",n,{passive:!0}),o&&g.addEventListener("resize",n)});const p=u&&a?mR(u,n):null;let f=-1,m=null;i&&(m=new ResizeObserver(g=>{let[v]=g;v&&v.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),n()}),u&&!l&&m.observe(u),m.observe(t));let S,y=l?ar(e):null;l&&b();function b(){const g=ar(e);y&&!Hy(y,g)&&n(),y=g,S=requestAnimationFrame(b)}return n(),()=>{var g;d.forEach(v=>{s&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),p==null||p(),(g=m)==null||g.disconnect(),m=null,l&&cancelAnimationFrame(S)}}const vR=z1,yR=U1,wR=B1,SR=V1,xR=F1,Ap=L1,_R=H1,bR=(e,t,n)=>{const r=new Map,s={platform:pR,...n},o={...s.platform,_c:r};return D1(e,t,{...s,platform:o})};var CR=typeof document<"u",ER=function(){},mi=CR?c.useLayoutEffect:ER;function ta(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!ta(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!ta(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Vy(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Pp(e,t){const n=Vy(e);return Math.round(t*n)/n}function jl(e){const t=c.useRef(e);return mi(()=>{t.current=e}),t}function TR(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[d,p]=c.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=c.useState(r);ta(f,r)||m(r);const[S,y]=c.useState(null),[b,g]=c.useState(null),v=c.useCallback(A=>{A!==R.current&&(R.current=A,y(A))},[]),w=c.useCallback(A=>{A!==E.current&&(E.current=A,g(A))},[]),x=o||S,C=i||b,R=c.useRef(null),E=c.useRef(null),T=c.useRef(d),I=l!=null,k=jl(l),j=jl(s),F=jl(u),W=c.useCallback(()=>{if(!R.current||!E.current)return;const A={placement:t,strategy:n,middleware:f};j.current&&(A.platform=j.current),bR(R.current,E.current,A).then(O=>{const D={...O,isPositioned:F.current!==!1};q.current&&!ta(T.current,D)&&(T.current=D,Ta.flushSync(()=>{p(D)}))})},[f,t,n,j,F]);mi(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,p(A=>({...A,isPositioned:!1})))},[u]);const q=c.useRef(!1);mi(()=>(q.current=!0,()=>{q.current=!1}),[]),mi(()=>{if(x&&(R.current=x),C&&(E.current=C),x&&C){if(k.current)return k.current(x,C,W);W()}},[x,C,W,k,I]);const pe=c.useMemo(()=>({reference:R,floating:E,setReference:v,setFloating:w}),[v,w]),Y=c.useMemo(()=>({reference:x,floating:C}),[x,C]),J=c.useMemo(()=>{const A={position:n,left:0,top:0};if(!Y.floating)return A;const O=Pp(Y.floating,d.x),D=Pp(Y.floating,d.y);return a?{...A,transform:"translate("+O+"px, "+D+"px)",...Vy(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:O,top:D}},[n,a,Y.floating,d.x,d.y]);return c.useMemo(()=>({...d,update:W,refs:pe,elements:Y,floatingStyles:J}),[d,W,pe,Y,J])}const RR=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Ap({element:r.current,padding:s}).fn(n):{}:r?Ap({element:r,padding:s}).fn(n):{}}}},kR=(e,t)=>({...vR(e),options:[e,t]}),AR=(e,t)=>({...yR(e),options:[e,t]}),PR=(e,t)=>({..._R(e),options:[e,t]}),IR=(e,t)=>({...wR(e),options:[e,t]}),NR=(e,t)=>({...SR(e),options:[e,t]}),MR=(e,t)=>({...xR(e),options:[e,t]}),jR=(e,t)=>({...RR(e),options:[e,t]});var OR="Arrow",Wy=c.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return h.jsx(se.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});Wy.displayName=OR;var DR=Wy;function LR(e){const[t,n]=c.useState(void 0);return ft(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const l=o.borderBoxSize,u=Array.isArray(l)?l[0]:l;i=u.inlineSize,a=u.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var vd="Popper",[Yy,Gy]=xo(vd),[BR,Ky]=Yy(vd),qy=e=>{const{__scopePopper:t,children:n}=e,[r,s]=c.useState(null);return h.jsx(BR,{scope:t,anchor:r,onAnchorChange:s,children:n})};qy.displayName=vd;var Xy="PopperAnchor",Qy=c.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=Ky(Xy,n),i=c.useRef(null),a=ge(t,i),l=c.useRef(null);return c.useEffect(()=>{const u=l.current;l.current=(r==null?void 0:r.current)||i.current,u!==l.current&&o.onAnchorChange(l.current)}),r?null:h.jsx(se.div,{...s,ref:a})});Qy.displayName=Xy;var yd="PopperContent",[FR,$R]=Yy(yd),Jy=c.forwardRef((e,t)=>{var ke,Kt,ze,qt,It,Xt;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:p="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:S,...y}=e,b=Ky(yd,n),[g,v]=c.useState(null),w=ge(t,Se=>v(Se)),[x,C]=c.useState(null),R=LR(x),E=(R==null?void 0:R.width)??0,T=(R==null?void 0:R.height)??0,I=r+(o!=="center"?"-"+o:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},j=Array.isArray(u)?u:[u],F=j.length>0,W={padding:k,boundary:j.filter(UR),altBoundary:F},{refs:q,floatingStyles:pe,placement:Y,isPositioned:J,middlewareData:A}=TR({strategy:"fixed",placement:I,whileElementsMounted:(...Se)=>gR(...Se,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[kR({mainAxis:s+T,alignmentAxis:i}),l&&AR({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?PR():void 0,...W}),l&&IR({...W}),NR({...W,apply:({elements:Se,rects:Ae,availableWidth:B,availableHeight:Ke})=>{const{width:Ka,height:qa}=Ae.reference,hr=Se.floating.style;hr.setProperty("--radix-popper-available-width",`${B}px`),hr.setProperty("--radix-popper-available-height",`${Ke}px`),hr.setProperty("--radix-popper-anchor-width",`${Ka}px`),hr.setProperty("--radix-popper-anchor-height",`${qa}px`)}}),x&&jR({element:x,padding:a}),HR({arrowWidth:E,arrowHeight:T}),f&&MR({strategy:"referenceHidden",...W})]}),[O,D]=tw(Y),Z=Ce(S);ft(()=>{J&&(Z==null||Z())},[J,Z]);const fe=(ke=A.arrow)==null?void 0:ke.x,Gt=(Kt=A.arrow)==null?void 0:Kt.y,N=((ze=A.arrow)==null?void 0:ze.centerOffset)!==0,[ae,oe]=c.useState();return ft(()=>{g&&oe(window.getComputedStyle(g).zIndex)},[g]),h.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...pe,transform:J?pe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(qt=A.transformOrigin)==null?void 0:qt.x,(It=A.transformOrigin)==null?void 0:It.y].join(" "),...((Xt=A.hide)==null?void 0:Xt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:h.jsx(FR,{scope:n,placedSide:O,onArrowChange:C,arrowX:fe,arrowY:Gt,shouldHideArrow:N,children:h.jsx(se.div,{"data-side":O,"data-align":D,...y,ref:w,style:{...y.style,animation:J?void 0:"none"}})})})});Jy.displayName=yd;var Zy="PopperArrow",zR={top:"bottom",right:"left",bottom:"top",left:"right"},ew=c.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=$R(Zy,r),i=zR[o.placedSide];return h.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:h.jsx(DR,{...s,ref:n,style:{...s.style,display:"block"}})})});ew.displayName=Zy;function UR(e){return e!==null}var HR=e=>({name:"transformOrigin",options:e,fn(t){var b,g,v;const{placement:n,rects:r,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[u,d]=tw(n),p={start:"0%",center:"50%",end:"100%"}[d],f=(((g=s.arrow)==null?void 0:g.x)??0)+a/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+l/2;let S="",y="";return u==="bottom"?(S=i?p:`${f}px`,y=`${-l}px`):u==="top"?(S=i?p:`${f}px`,y=`${r.floating.height+l}px`):u==="right"?(S=`${-l}px`,y=i?p:`${m}px`):u==="left"&&(S=`${r.floating.width+l}px`,y=i?p:`${m}px`),{data:{x:S,y}}}});function tw(e){const[t,n="center"]=e.split("-");return[t,n]}var VR=qy,WR=Qy,YR=Jy,GR=ew,KR="Portal",nw=c.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,o]=c.useState(!1);ft(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?p0.createPortal(h.jsx(se.div,{...r,ref:t}),i):null});nw.displayName=KR;function qR(e,t){return c.useReducer((n,r)=>t[n][r]??n,e)}var pn=e=>{const{present:t,children:n}=e,r=XR(t),s=typeof n=="function"?n({present:r.isPresent}):c.Children.only(n),o=ge(r.ref,QR(s));return typeof n=="function"||r.isPresent?c.cloneElement(s,{ref:o}):null};pn.displayName="Presence";function XR(e){const[t,n]=c.useState(),r=c.useRef(null),s=c.useRef(e),o=c.useRef("none"),i=e?"mounted":"unmounted",[a,l]=qR(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return c.useEffect(()=>{const u=qo(r.current);o.current=a==="mounted"?u:"none"},[a]),ft(()=>{const u=r.current,d=s.current;if(d!==e){const f=o.current,m=qo(u);e?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),ft(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,p=m=>{const y=qo(r.current).includes(CSS.escape(m.animationName));if(m.target===t&&y&&(l("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},f=m=>{m.target===t&&(o.current=qo(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:c.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function qo(e){return(e==null?void 0:e.animationName)||"none"}function QR(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var JR=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},mr=new WeakMap,Xo=new WeakMap,Qo={},Ol=0,rw=function(e){return e&&(e.host||rw(e.parentNode))},ZR=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=rw(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},ek=function(e,t,n,r){var s=ZR(t,Array.isArray(e)?e:[e]);Qo[n]||(Qo[n]=new WeakMap);var o=Qo[n],i=[],a=new Set,l=new Set(s),u=function(p){!p||a.has(p)||(a.add(p),u(p.parentNode))};s.forEach(u);var d=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(f){if(a.has(f))d(f);else try{var m=f.getAttribute(r),S=m!==null&&m!=="false",y=(mr.get(f)||0)+1,b=(o.get(f)||0)+1;mr.set(f,y),o.set(f,b),i.push(f),y===1&&S&&Xo.set(f,!0),b===1&&f.setAttribute(n,"true"),S||f.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",f,g)}})};return d(t),a.clear(),Ol++,function(){i.forEach(function(p){var f=mr.get(p)-1,m=o.get(p)-1;mr.set(p,f),o.set(p,m),f||(Xo.has(p)||p.removeAttribute(r),Xo.delete(p)),m||p.removeAttribute(n)}),Ol--,Ol||(mr=new WeakMap,mr=new WeakMap,Xo=new WeakMap,Qo={})}},tk=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=JR(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),ek(r,s,n,"aria-hidden")):function(){return null}},Ot=function(){return Ot=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ot.apply(this,arguments)};function sw(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function nk(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var gi="right-scroll-bar-position",vi="width-before-scroll-bar",rk="with-scroll-bars-hidden",sk="--removed-body-scroll-bar-size";function Dl(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function ok(e,t){var n=c.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var ik=typeof window<"u"?c.useLayoutEffect:c.useEffect,Ip=new WeakMap;function ak(e,t){var n=ok(null,function(r){return e.forEach(function(s){return Dl(s,r)})});return ik(function(){var r=Ip.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(a){o.has(a)||Dl(a,null)}),o.forEach(function(a){s.has(a)||Dl(a,i)})}Ip.set(n,e)},[e]),n}function lk(e){return e}function uk(e,t){t===void 0&&(t=lk);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(o),i=n}var l=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function ck(e){e===void 0&&(e={});var t=uk(null);return t.options=Ot({async:!0,ssr:!1},e),t}var ow=function(e){var t=e.sideCar,n=sw(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return c.createElement(r,Ot({},n))};ow.isSideCarExport=!0;function dk(e,t){return e.useMedium(t),ow}var iw=ck(),Ll=function(){},Fa=c.forwardRef(function(e,t){var n=c.useRef(null),r=c.useState({onScrollCapture:Ll,onWheelCapture:Ll,onTouchMoveCapture:Ll}),s=r[0],o=r[1],i=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,p=e.shards,f=e.sideCar,m=e.noRelative,S=e.noIsolation,y=e.inert,b=e.allowPinchZoom,g=e.as,v=g===void 0?"div":g,w=e.gapMode,x=sw(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,R=ak([n,t]),E=Ot(Ot({},x),s);return c.createElement(c.Fragment,null,d&&c.createElement(C,{sideCar:iw,removeScrollBar:u,shards:p,noRelative:m,noIsolation:S,inert:y,setCallbacks:o,allowPinchZoom:!!b,lockRef:n,gapMode:w}),i?c.cloneElement(c.Children.only(a),Ot(Ot({},E),{ref:R})):c.createElement(v,Ot({},E,{className:l,ref:R}),a))});Fa.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Fa.classNames={fullWidth:vi,zeroRight:gi};var fk=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function hk(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=fk();return t&&e.setAttribute("nonce",t),e}function pk(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function mk(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var gk=function(){var e=0,t=null;return{add:function(n){e==0&&(t=hk())&&(pk(t,n),mk(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},vk=function(){var e=gk();return function(t,n){c.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},aw=function(){var e=vk(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},yk={left:0,top:0,right:0,gap:0},Bl=function(e){return parseInt(e||"",10)||0},wk=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Bl(n),Bl(r),Bl(s)]},Sk=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return yk;var t=wk(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},xk=aw(),$r="data-scroll-locked",_k=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(rk,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat($r,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gi,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(vi,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(gi," .").concat(gi,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(vi," .").concat(vi,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat($r,`] {
    `).concat(sk,": ").concat(a,`px;
  }
`)},Np=function(){var e=parseInt(document.body.getAttribute($r)||"0",10);return isFinite(e)?e:0},bk=function(){c.useEffect(function(){return document.body.setAttribute($r,(Np()+1).toString()),function(){var e=Np()-1;e<=0?document.body.removeAttribute($r):document.body.setAttribute($r,e.toString())}},[])},Ck=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;bk();var o=c.useMemo(function(){return Sk(s)},[s]);return c.createElement(xk,{styles:_k(o,!t,s,n?"":"!important")})},Wu=!1;if(typeof window<"u")try{var Jo=Object.defineProperty({},"passive",{get:function(){return Wu=!0,!0}});window.addEventListener("test",Jo,Jo),window.removeEventListener("test",Jo,Jo)}catch{Wu=!1}var gr=Wu?{passive:!1}:!1,Ek=function(e){return e.tagName==="TEXTAREA"},lw=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Ek(e)&&n[t]==="visible")},Tk=function(e){return lw(e,"overflowY")},Rk=function(e){return lw(e,"overflowX")},Mp=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=uw(e,r);if(s){var o=cw(e,r),i=o[1],a=o[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},kk=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Ak=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},uw=function(e,t){return e==="v"?Tk(t):Rk(t)},cw=function(e,t){return e==="v"?kk(t):Ak(t)},Pk=function(e,t){return e==="h"&&t==="rtl"?-1:1},Ik=function(e,t,n,r,s){var o=Pk(e,window.getComputedStyle(t).direction),i=o*r,a=n.target,l=t.contains(a),u=!1,d=i>0,p=0,f=0;do{if(!a)break;var m=cw(e,a),S=m[0],y=m[1],b=m[2],g=y-b-o*S;(S||g)&&uw(e,a)&&(p+=g,f+=S);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&Math.abs(p)<1||!d&&Math.abs(f)<1)&&(u=!0),u},Zo=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},jp=function(e){return[e.deltaX,e.deltaY]},Op=function(e){return e&&"current"in e?e.current:e},Nk=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Mk=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},jk=0,vr=[];function Ok(e){var t=c.useRef([]),n=c.useRef([0,0]),r=c.useRef(),s=c.useState(jk++)[0],o=c.useState(aw)[0],i=c.useRef(e);c.useEffect(function(){i.current=e},[e]),c.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=nk([e.lockRef.current],(e.shards||[]).map(Op),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=c.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!i.current.allowPinchZoom;var g=Zo(y),v=n.current,w="deltaX"in y?y.deltaX:v[0]-g[0],x="deltaY"in y?y.deltaY:v[1]-g[1],C,R=y.target,E=Math.abs(w)>Math.abs(x)?"h":"v";if("touches"in y&&E==="h"&&R.type==="range")return!1;var T=window.getSelection(),I=T&&T.anchorNode,k=I?I===R||I.contains(R):!1;if(k)return!1;var j=Mp(E,R);if(!j)return!0;if(j?C=E:(C=E==="v"?"h":"v",j=Mp(E,R)),!j)return!1;if(!r.current&&"changedTouches"in y&&(w||x)&&(r.current=C),!C)return!0;var F=r.current||C;return Ik(F,b,y,F==="h"?w:x)},[]),l=c.useCallback(function(y){var b=y;if(!(!vr.length||vr[vr.length-1]!==o)){var g="deltaY"in b?jp(b):Zo(b),v=t.current.filter(function(C){return C.name===b.type&&(C.target===b.target||b.target===C.shadowParent)&&Nk(C.delta,g)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var w=(i.current.shards||[]).map(Op).filter(Boolean).filter(function(C){return C.contains(b.target)}),x=w.length>0?a(b,w[0]):!i.current.noIsolation;x&&b.cancelable&&b.preventDefault()}}},[]),u=c.useCallback(function(y,b,g,v){var w={name:y,delta:b,target:g,should:v,shadowParent:Dk(g)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(x){return x!==w})},1)},[]),d=c.useCallback(function(y){n.current=Zo(y),r.current=void 0},[]),p=c.useCallback(function(y){u(y.type,jp(y),y.target,a(y,e.lockRef.current))},[]),f=c.useCallback(function(y){u(y.type,Zo(y),y.target,a(y,e.lockRef.current))},[]);c.useEffect(function(){return vr.push(o),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:f}),document.addEventListener("wheel",l,gr),document.addEventListener("touchmove",l,gr),document.addEventListener("touchstart",d,gr),function(){vr=vr.filter(function(y){return y!==o}),document.removeEventListener("wheel",l,gr),document.removeEventListener("touchmove",l,gr),document.removeEventListener("touchstart",d,gr)}},[]);var m=e.removeScrollBar,S=e.inert;return c.createElement(c.Fragment,null,S?c.createElement(o,{styles:Mk(s)}):null,m?c.createElement(Ck,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Dk(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Lk=dk(iw,Ok);var dw=c.forwardRef(function(e,t){return c.createElement(Fa,Ot({},e,{ref:t,sideCar:Lk}))});dw.classNames=Fa.classNames;const fw=c.forwardRef((e,t)=>h.jsx(ot.div,{...e,ref:t}));fw.displayName="AttachmentPrimitive.Root";const Yu=()=>{const e=L(({attachment:t})=>t.name);return h.jsx(h.Fragment,{children:e})};Yu.displayName="AttachmentPrimitive.Name";const Bk=()=>{const e=z();return c.useCallback(()=>{e.attachment().remove()},[e])},Fk=At("AttachmentPrimitive.Remove",Bk),$k=()=>{const e=z(),t=L(({thread:r,message:s})=>!!(s.branchNumber>=s.branchCount||r.isRunning&&!r.capabilities.switchBranchDuringRun)),n=c.useCallback(()=>{e.message().switchToBranch({position:"next"})},[e]);return t?null:n},zk=At("BranchPickerPrimitive.Next",$k),Uk=()=>{const e=z(),t=L(({thread:r,message:s})=>!!(s.branchNumber<=1||r.isRunning&&!r.capabilities.switchBranchDuringRun)),n=c.useCallback(()=>{e.message().switchToBranch({position:"previous"})},[e]);return t?null:n},Hk=At("BranchPickerPrimitive.Previous",Uk),Vk=()=>L(({message:t})=>t.branchCount),hw=()=>{const e=Vk();return h.jsx(h.Fragment,{children:e})};hw.displayName="BranchPickerPrimitive.Count";const Wk=()=>L(({message:t})=>t.branchNumber),pw=()=>{const e=Wk();return h.jsx(h.Fragment,{children:e})};pw.displayName="BranchPickerPrimitive.Number";const bo=e=>{const t=c.useRef(void 0);return c.useCallback(r=>{t.current&&t.current(),r&&(t.current=e(r))},[e])},mw=(e,t)=>{const n=c.useCallback(r=>{if(!e)return;const s=e(),o=()=>{const a=t?t(r):r.offsetHeight;s.setHeight(a)},i=new ResizeObserver(o);return i.observe(r),o(),()=>{i.disconnect(),s.unregister()}},[e,t]);return bo(n)},Dp=c.createContext(!1),Lp=(e,t)=>{const n=e.match(/^([\d.]+)(em|px|rem)$/);if(!n)return 0;const r=parseFloat(n[1]),s=n[2];if(s==="px")return r;if(s==="em"){const o=parseFloat(getComputedStyle(t).fontSize)||16;return r*o}if(s==="rem"){const o=parseFloat(getComputedStyle(document.documentElement).fontSize)||16;return r*o}return 0},gw=({children:e,fillClampThreshold:t="10em",fillClampOffset:n="6em"})=>{const r=L(({thread:l,message:u})=>{var d;return u.isLast&&u.role==="assistant"&&u.index>=1&&((d=l.messages.at(u.index-1))==null?void 0:d.role)==="user"}),s=ja({optional:!0}),o=c.useContext(Dp),i=c.useCallback(l=>{if(!s||o)return;const u=()=>{const d=s.getState();if(d.turnAnchor==="top"&&r){const{viewport:p,inset:f,userMessage:m}=d.height,S=Lp(t,l),y=Lp(n,l),b=m<=S?m:y,g=Math.max(0,p-f-b);l.style.minHeight=`${g}px`,l.style.flexShrink="0",l.style.transition="min-height 0s"}else l.style.minHeight="",l.style.flexShrink="",l.style.transition=""};return u(),s.subscribe(u)},[s,r,o,t,n]),a=bo(i);return h.jsx(Dp.Provider,{value:!0,children:h.jsx(xy,{ref:a,children:e})})};gw.displayName="ThreadPrimitive.ViewportSlack";const Yk=()=>{const e=z(),t=L(()=>e.message()),n=c.useCallback(r=>{const s=()=>{t.setIsHovering(!0)},o=()=>{t.setIsHovering(!1)};return r.addEventListener("mouseenter",s),r.addEventListener("mouseleave",o),r.matches(":hover")&&queueMicrotask(()=>t.setIsHovering(!0)),()=>{r.removeEventListener("mouseenter",s),r.removeEventListener("mouseleave",o),t.setIsHovering(!1)}},[t]);return bo(n)},Gk=()=>{const e=oo(s=>s.turnAnchor),t=oo(s=>s.registerUserMessageHeight),n=L(({thread:s,message:o})=>{var i;return e==="top"&&o.role==="user"&&o.index===s.messages.length-2&&((i=s.messages.at(-1))==null?void 0:i.role)==="assistant"}),r=c.useCallback(s=>s.offsetHeight,[]);return mw(n?t:null,r)},wd=c.forwardRef((e,t)=>{const n=Yk(),r=Gk(),s=ge(t,n,r);return h.jsx(gw,{children:h.jsx(ot.div,{...e,ref:s})})});wd.displayName="MessagePrimitive.Root";const Kk=Object.freeze({type:"complete"}),qk=Q(({parts:e,getMessagePart:t})=>{const[n,r]=Ct(!0),s=H(()=>{const i=e[e.length-1];return(i==null?void 0:i.status)??Kk},[e]),o=H(()=>({parts:e,collapsed:n,status:s}),[e,n,s]);return{state:o,methods:{getState:()=>o,setCollapsed:r,part:t}}}),Xk=({startIndex:e,endIndex:t,children:n})=>{const r=L(({message:i})=>i.parts).slice(e,t+1),s=z(),o=z({chainOfThought:qk({parts:r,getMessagePart:({index:i})=>{if(i<0||i>=r.length)throw new Error(`ChainOfThought part index ${i} is out of bounds (0..${r.length-1})`);return s.message().part({index:e+i})}})});return h.jsx(Un,{value:o,children:n})},Qk=()=>L(({part:t})=>{if(t.type!=="text"&&t.type!=="reasoning")throw new Error("MessagePartText can only be used inside text or reasoning message parts.");return t}),Sd=c.forwardRef(({smooth:e=!0,component:t="span",...n},r)=>{const{text:s,status:o}=ly(Qk(),e);return h.jsx(t,{"data-status":o.type,...n,ref:r,children:s})});Sd.displayName="MessagePartPrimitive.Text";const Jk=()=>L(({part:t})=>{if(t.type!=="image")throw new Error("MessagePartImage can only be used inside image message parts.");return t}),vw=c.forwardRef((e,t)=>{const{image:n}=Jk();return h.jsx(ot.img,{src:n,...e,ref:t})});vw.displayName="MessagePartPrimitive.Image";const yw=({children:e})=>L(({part:n})=>n.status.type==="running")?e:null;yw.displayName="MessagePartPrimitive.InProgress";const Bp=e=>Symbol.iterator in e,Fp=e=>"entries"in e,$p=(e,t)=>{const n=e instanceof Map?e:new Map(e.entries()),r=t instanceof Map?t:new Map(t.entries());if(n.size!==r.size)return!1;for(const[s,o]of n)if(!r.has(s)||!Object.is(o,r.get(s)))return!1;return!0},Zk=(e,t)=>{const n=e[Symbol.iterator](),r=t[Symbol.iterator]();let s=n.next(),o=r.next();for(;!s.done&&!o.done;){if(!Object.is(s.value,o.value))return!1;s=n.next(),o=r.next()}return!!s.done&&!!o.done};function eA(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?!1:Bp(e)&&Bp(t)?Fp(e)&&Fp(t)?$p(e,t):Zk(e,t):$p({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)})}function ww(e){const t=He.useRef(void 0);return n=>{const r=e(n);return eA(t.current,r)?t.current:t.current=r}}const Fl=e=>{let t=-1;return{startGroup:n=>{t===-1&&(t=n)},endGroup:(n,r)=>{t!==-1&&(r.push({type:e,startIndex:t,endIndex:n}),t=-1)},finalize:(n,r)=>{t!==-1&&r.push({type:e,startIndex:t,endIndex:n})}}},tA=(e,t)=>{const n=[];if(t){const r=Fl("chainOfThoughtGroup");for(let s=0;s<e.length;s++){const o=e[s];o==="tool-call"||o==="reasoning"?r.startGroup(s):(r.endGroup(s-1,n),n.push({type:"single",index:s}))}r.finalize(e.length-1,n)}else{const r=Fl("toolGroup"),s=Fl("reasoningGroup");for(let o=0;o<e.length;o++){const i=e[o];i==="tool-call"?(s.endGroup(o-1,n),r.startGroup(o)):i==="reasoning"?(r.endGroup(o-1,n),s.startGroup(o)):(r.endGroup(o-1,n),s.endGroup(o-1,n),n.push({type:"single",index:o}))}r.finalize(e.length-1,n),s.finalize(e.length-1,n)}return n},nA=e=>{const t=L(ww(n=>n.message.parts.map(r=>r.type)));return c.useMemo(()=>t.length===0?[]:tA(t,e),[t,e])},rA=({Fallback:e,...t})=>{const n=L(({tools:r})=>{const s=r.tools[t.toolName]??e;return Array.isArray(s)?s[0]??e:s});return n?h.jsx(n,{...t}):null},Zt={Text:()=>h.jsxs("p",{style:{whiteSpace:"pre-line"},children:[h.jsx(Sd,{}),h.jsx(yw,{children:h.jsx("span",{style:{fontFamily:"revert"},children:" "})})]}),Reasoning:()=>null,Source:()=>null,Image:()=>h.jsx(vw,{}),File:()=>null,Unstable_Audio:()=>null,ToolGroup:({children:e})=>e,ReasoningGroup:({children:e})=>e},sA=({components:{Text:e=Zt.Text,Reasoning:t=Zt.Reasoning,Image:n=Zt.Image,Source:r=Zt.Source,File:s=Zt.File,Unstable_Audio:o=Zt.Unstable_Audio,tools:i={}}={}})=>{var d,p;const a=z(),l=L(({part:f})=>f),u=l.type;if(u==="tool-call"){const f=a.part().addToolResult,m=a.part().resumeToolCall;if("Override"in i)return h.jsx(i.Override,{...l,addResult:f,resume:m});const S=((d=i.by_name)==null?void 0:d[l.toolName])??i.Fallback;return h.jsx(rA,{...l,Fallback:S,addResult:f,resume:m})}if(((p=l.status)==null?void 0:p.type)==="requires-action")throw new Error("Encountered unexpected requires-action status");switch(u){case"text":return h.jsx(e,{...l});case"reasoning":return h.jsx(t,{...l});case"source":return h.jsx(r,{...l});case"image":return h.jsx(n,{...l});case"file":return h.jsx(s,{...l});case"audio":return h.jsx(o,{...l});case"data":return null;default:const f=u;throw new Error(`Unknown message part type: ${f}`)}},yi=c.memo(({index:e,components:t})=>h.jsx(cT,{index:e,children:h.jsx(sA,{components:t})}),(e,t)=>{var n,r,s,o,i,a,l,u,d,p,f,m,S,y,b,g,v,w;return e.index===t.index&&((n=e.components)==null?void 0:n.Text)===((r=t.components)==null?void 0:r.Text)&&((s=e.components)==null?void 0:s.Reasoning)===((o=t.components)==null?void 0:o.Reasoning)&&((i=e.components)==null?void 0:i.Source)===((a=t.components)==null?void 0:a.Source)&&((l=e.components)==null?void 0:l.Image)===((u=t.components)==null?void 0:u.Image)&&((d=e.components)==null?void 0:d.File)===((p=t.components)==null?void 0:p.File)&&((f=e.components)==null?void 0:f.Unstable_Audio)===((m=t.components)==null?void 0:m.Unstable_Audio)&&((S=e.components)==null?void 0:S.tools)===((y=t.components)==null?void 0:y.tools)&&((b=e.components)==null?void 0:b.ToolGroup)===((g=t.components)==null?void 0:g.ToolGroup)&&((v=e.components)==null?void 0:v.ReasoningGroup)===((w=t.components)==null?void 0:w.ReasoningGroup)});yi.displayName="MessagePrimitive.PartByIndex";const oA=({status:e,component:t})=>h.jsx(pT,{text:"",isRunning:e.type==="running",children:h.jsx(t,{type:"text",text:"",status:e})}),iA=Object.freeze({type:"complete"}),aA=({components:e})=>{const t=L(n=>n.message.status??iA);return e!=null&&e.Empty?h.jsx(e.Empty,{status:t}):h.jsx(oA,{status:t,component:(e==null?void 0:e.Text)??Zt.Text})},Sw=c.memo(aA,(e,t)=>{var n,r,s,o;return((n=e.components)==null?void 0:n.Empty)===((r=t.components)==null?void 0:r.Empty)&&((s=e.components)==null?void 0:s.Text)===((o=t.components)==null?void 0:o.Text)}),lA=({components:e,enabled:t})=>L(({message:r})=>{if(!t||r.parts.length===0)return!1;const s=r.parts[r.parts.length-1];return(s==null?void 0:s.type)!=="text"&&(s==null?void 0:s.type)!=="reasoning"})?h.jsx(Sw,{components:e}):null,uA=c.memo(lA,(e,t)=>{var n,r,s,o;return e.enabled===t.enabled&&((n=e.components)==null?void 0:n.Empty)===((r=t.components)==null?void 0:r.Empty)&&((s=e.components)==null?void 0:s.Text)===((o=t.components)==null?void 0:o.Text)}),xd=({components:e,unstable_showEmptyOnNonTextEnd:t=!0})=>{const n=L(({message:i})=>i.parts.length),r=!!(e!=null&&e.ChainOfThought),s=nA(r),o=c.useMemo(()=>n===0?h.jsx(Sw,{components:e}):s.map(i=>{if(i.type==="single")return h.jsx(yi,{index:i.index,components:e},i.index);if(i.type==="chainOfThoughtGroup"){const a=e==null?void 0:e.ChainOfThought;return a?h.jsx(Xk,{startIndex:i.startIndex,endIndex:i.endIndex,children:h.jsx(a,{})},`chainOfThought-${i.startIndex}`):null}else if(i.type==="toolGroup"){const a=(e==null?void 0:e.ToolGroup)??Zt.ToolGroup;return h.jsx(a,{startIndex:i.startIndex,endIndex:i.endIndex,children:Array.from({length:i.endIndex-i.startIndex+1},(l,u)=>h.jsx(yi,{index:i.startIndex+u,components:e},u))},`tool-${i.startIndex}`)}else{const a=(e==null?void 0:e.ReasoningGroup)??Zt.ReasoningGroup;return h.jsx(a,{startIndex:i.startIndex,endIndex:i.endIndex,children:Array.from({length:i.endIndex-i.startIndex+1},(l,u)=>h.jsx(yi,{index:i.startIndex+u,components:e},u))},`reasoning-${i.startIndex}`)}}),[s,e,n]);return h.jsxs(h.Fragment,{children:[o,h.jsx(uA,{components:e,enabled:t})]})};xd.displayName="MessagePrimitive.Parts";const cA=e=>L(({message:t})=>{var d;const{role:n,attachments:r,parts:s,branchCount:o,isLast:i,speech:a,isCopied:l,isHovering:u}=t;return!(e.hasBranches===!0&&o<2||e.user&&n!=="user"||e.assistant&&n!=="assistant"||e.system&&n!=="system"||e.lastOrHover===!0&&!u&&!i||e.last!==void 0&&e.last!==i||e.copied===!0&&!l||e.copied===!1&&l||e.speaking===!0&&a==null||e.speaking===!1&&a!=null||e.hasAttachments===!0&&(n!=="user"||!(r!=null&&r.length))||e.hasAttachments===!1&&n==="user"&&(r!=null&&r.length)||e.hasContent===!0&&s.length===0||e.hasContent===!1&&s.length>0||e.submittedFeedback!==void 0&&(((d=t.metadata.submittedFeedback)==null?void 0:d.type)??null)!==e.submittedFeedback)}),Bn=({children:e,...t})=>cA(t)?e:null;Bn.displayName="MessagePrimitive.If";const dA=(e,t)=>{const n=t.type;switch(n){case"image":return(e==null?void 0:e.Image)??(e==null?void 0:e.Attachment);case"document":return(e==null?void 0:e.Document)??(e==null?void 0:e.Attachment);case"file":return(e==null?void 0:e.File)??(e==null?void 0:e.Attachment);default:const r=n;throw new Error(`Unknown attachment type: ${r}`)}},fA=({components:e})=>{const t=L(({attachment:r})=>r);if(!t)return null;const n=dA(e,t);return n?h.jsx(n,{}):null},xw=c.memo(({index:e,components:t})=>h.jsx(dT,{index:e,children:h.jsx(fA,{components:t})}),(e,t)=>{var n,r,s,o,i,a,l,u;return e.index===t.index&&((n=e.components)==null?void 0:n.Image)===((r=t.components)==null?void 0:r.Image)&&((s=e.components)==null?void 0:s.Document)===((o=t.components)==null?void 0:o.Document)&&((i=e.components)==null?void 0:i.File)===((a=t.components)==null?void 0:a.File)&&((l=e.components)==null?void 0:l.Attachment)===((u=t.components)==null?void 0:u.Attachment)});xw.displayName="MessagePrimitive.AttachmentByIndex";const _w=({components:e})=>{const t=L(({message:r})=>r.role!=="user"?0:r.attachments.length);return c.useMemo(()=>Array.from({length:t},(r,s)=>h.jsx(xw,{index:s,components:e},s)),[t,e])};_w.displayName="MessagePrimitive.Attachments";const bw=c.forwardRef(({hideWhenSingleBranch:e,...t},n)=>h.jsx(Bn,{hasBranches:e?!0:void 0,children:h.jsx(ot.div,{...t,ref:n})}));bw.displayName="BranchPickerPrimitive.Root";const Cw=()=>{const e=z(),t=L(r=>r.thread.isRunning||!r.composer.isEditing||r.composer.isEmpty),n=c.useCallback(()=>{e.composer().send()},[e]);return t?null:n},Ew=At("ComposerPrimitive.Send",Cw),_d=c.forwardRef(({onSubmit:e,...t},n)=>{const r=Cw(),s=o=>{o.preventDefault(),r&&r()};return h.jsx(ot.form,{...t,ref:n,onSubmit:K(e,s)})});_d.displayName="ComposerPrimitive.Root";function Gu(){return Gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gu.apply(null,arguments)}function hA(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var pA=c.useLayoutEffect,mA=function(t){var n=He.useRef(t);return pA(function(){n.current=t}),n},zp=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},gA=function(t,n){var r=He.useRef();return He.useCallback(function(s){t.current=s,r.current&&zp(r.current,null),r.current=n,n&&zp(n,s)},[n])},Up={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},vA=function(t){Object.keys(Up).forEach(function(n){t.style.setProperty(n,Up[n],"important")})},Hp=vA,je=null,Vp=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function yA(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),je||(je=document.createElement("textarea"),je.setAttribute("tabindex","-1"),je.setAttribute("aria-hidden","true"),Hp(je)),je.parentNode===null&&document.body.appendChild(je);var s=e.paddingSize,o=e.borderSize,i=e.sizingStyle,a=i.boxSizing;Object.keys(i).forEach(function(f){var m=f;je.style[m]=i[m]}),Hp(je),je.value=t;var l=Vp(je,e);je.value=t,l=Vp(je,e),je.value="x";var u=je.scrollHeight-s,d=u*n;a==="border-box"&&(d=d+s+o),l=Math.max(d,l);var p=u*r;return a==="border-box"&&(p=p+s+o),l=Math.min(p,l),[l,u]}var Wp=function(){},wA=function(t,n){return t.reduce(function(r,s){return r[s]=n[s],r},{})},SA=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],xA=!!document.documentElement.currentStyle,_A=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=wA(SA,n),s=r.boxSizing;if(s==="")return null;xA&&s==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var o=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),i=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:o,borderSize:i}},bA=_A;function bd(e,t,n){var r=mA(n);c.useLayoutEffect(function(){var s=function(i){return r.current(i)};if(e)return e.addEventListener(t,s),function(){return e.removeEventListener(t,s)}},[])}var CA=function(t,n){bd(document.body,"reset",function(r){t.current.form===r.target&&n(r)})},EA=function(t){bd(window,"resize",t)},TA=function(t){bd(document.fonts,"loadingdone",t)},RA=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],kA=function(t,n){var r=t.cacheMeasurements,s=t.maxRows,o=t.minRows,i=t.onChange,a=i===void 0?Wp:i,l=t.onHeightChange,u=l===void 0?Wp:l,d=hA(t,RA),p=d.value!==void 0,f=c.useRef(null),m=gA(f,n),S=c.useRef(0),y=c.useRef(),b=function(){var w=f.current,x=r&&y.current?y.current:bA(w);if(x){y.current=x;var C=yA(x,w.value||w.placeholder||"x",o,s),R=C[0],E=C[1];S.current!==R&&(S.current=R,w.style.setProperty("height",R+"px","important"),u(R,{rowHeight:E}))}},g=function(w){p||b(),a(w)};return c.useLayoutEffect(b),CA(f,function(){if(!p){var v=f.current.value;requestAnimationFrame(function(){var w=f.current;w&&v!==w.value&&b()})}}),EA(b),TA(b),c.createElement("textarea",Gu({},d,{onChange:g,ref:m}))},AA=c.forwardRef(kA);const Tw=e=>{const t=Ce(e),n=oo(r=>r.onScrollToBottom);c.useEffect(()=>n(t),[n,t])},Cd=c.forwardRef(({autoFocus:e=!1,asChild:t,disabled:n,onChange:r,onKeyDown:s,onPaste:o,submitOnEnter:i=!0,cancelOnEscape:a=!0,unstable_focusOnRunStart:l=!0,unstable_focusOnScrollToBottom:u=!0,unstable_focusOnThreadSwitched:d=!0,addAttachmentOnPaste:p=!0,...f},m)=>{const S=z(),y=L(({composer:T})=>T.isEditing?T.text:""),b=t?xy:AA,g=L(({thread:T,composer:I})=>{var k;return T.isDisabled||((k=I.dictation)==null?void 0:k.inputDisabled)})||n,v=c.useRef(null),w=ge(m,v);ld(T=>{var k;if(!a||!((k=v.current)!=null&&k.contains(T.target)))return;const I=S.composer();I.getState().canCancel&&(I.cancel(),T.preventDefault())});const x=T=>{var I,k;g||!i||T.nativeEvent.isComposing||T.key==="Enter"&&T.shiftKey===!1&&(S.thread().getState().isRunning||(T.preventDefault(),(k=(I=v.current)==null?void 0:I.closest("form"))==null||k.requestSubmit()))},C=async T=>{var j;if(!p)return;const I=S.thread().getState().capabilities,k=Array.from(((j=T.clipboardData)==null?void 0:j.files)||[]);if(I.attachments&&k.length>0)try{T.preventDefault(),await Promise.all(k.map(F=>S.composer().addAttachment(F)))}catch(F){console.error("Error adding attachment:",F)}},R=e&&!g,E=c.useCallback(()=>{const T=v.current;!T||!R||(T.focus({preventScroll:!0}),T.setSelectionRange(T.value.length,T.value.length))},[R]);return c.useEffect(()=>E(),[E]),Tw(()=>{S.composer().getState().type==="thread"&&u&&E()}),c.useEffect(()=>{if(!(S.composer().getState().type!=="thread"||!l))return S.on("thread.runStart",E)},[l,E,S]),c.useEffect(()=>{if(!(S.composer().getState().type!=="thread"||!d))return S.on("threadListItem.switchedTo",E)},[d,E,S]),h.jsx(b,{name:"input",value:y,...f,ref:w,disabled:g,onChange:K(r,T=>{S.composer().getState().isEditing&&_v(()=>{S.composer().setText(T.target.value)})}),onKeyDown:K(s,x),onPaste:K(o,C)})});Cd.displayName="ComposerPrimitive.Input";const PA=()=>{const e=z(),t=L(({composer:r})=>!r.canCancel),n=c.useCallback(()=>{e.composer().cancel()},[e]);return t?null:n},Rw=At("ComposerPrimitive.Cancel",PA),IA=({multiple:e=!0}={})=>{const t=L(({composer:s})=>!s.isEditing),n=z(),r=c.useCallback(()=>{const s=document.createElement("input");s.type="file",s.multiple=e,s.hidden=!0;const o=n.composer().getState().attachmentAccept;o!=="*"&&(s.accept=o),document.body.appendChild(s),s.onchange=i=>{const a=i.target.files;if(a){for(const l of a)n.composer().addAttachment(l);document.body.removeChild(s)}},s.oncancel=()=>{(!s.files||s.files.length===0)&&document.body.removeChild(s)},s.click()},[n,e]);return t?null:r},NA=At("ComposerPrimitive.AddAttachment",IA,["multiple"]),MA=(e,t)=>{const n=t.type;switch(n){case"image":return(e==null?void 0:e.Image)??(e==null?void 0:e.Attachment);case"document":return(e==null?void 0:e.Document)??(e==null?void 0:e.Attachment);case"file":return(e==null?void 0:e.File)??(e==null?void 0:e.Attachment);default:const r=n;throw new Error(`Unknown attachment type: ${r}`)}},jA=({components:e})=>{const t=L(({attachment:r})=>r);if(!t)return null;const n=MA(e,t);return n?h.jsx(n,{}):null},kw=c.memo(({index:e,components:t})=>h.jsx(fT,{index:e,children:h.jsx(jA,{components:t})}),(e,t)=>{var n,r,s,o,i,a,l,u;return e.index===t.index&&((n=e.components)==null?void 0:n.Image)===((r=t.components)==null?void 0:r.Image)&&((s=e.components)==null?void 0:s.Document)===((o=t.components)==null?void 0:o.Document)&&((i=e.components)==null?void 0:i.File)===((a=t.components)==null?void 0:a.File)&&((l=e.components)==null?void 0:l.Attachment)===((u=t.components)==null?void 0:u.Attachment)});kw.displayName="ComposerPrimitive.AttachmentByIndex";const Aw=({components:e})=>{const t=L(r=>r.composer.attachments.length);return c.useMemo(()=>Array.from({length:t},(r,s)=>h.jsx(kw,{index:s,components:e},s)),[t,e])};Aw.displayName="ComposerPrimitive.Attachments";const Pw=c.forwardRef((e,t)=>h.jsx(ot.div,{...e,ref:t}));Pw.displayName="ThreadPrimitive.Root";const Iw=({children:e})=>L(({thread:n})=>n.messages.length===0&&!n.isLoading)?e:null;Iw.displayName="ThreadPrimitive.Empty";const OA=e=>L(({thread:t})=>!(e.empty===!0&&!t.isEmpty||e.empty===!1&&t.isEmpty||e.running===!0&&!t.isRunning||e.running===!1&&t.isRunning||e.disabled===!0&&!t.isDisabled||e.disabled===!1&&t.isDisabled)),ao=({children:e,...t})=>OA(t)?e:null;ao.displayName="ThreadPrimitive.If";const DA=e=>{const t=Ce(e),n=c.useCallback(r=>{const s=new ResizeObserver(()=>{t()}),o=new MutationObserver(i=>{i.some(l=>l.type!=="attributes"||l.attributeName!=="style")&&t()});return s.observe(r),o.observe(r,{childList:!0,subtree:!0,attributes:!0,characterData:!0}),()=>{s.disconnect(),o.disconnect()}},[t]);return bo(n)},LA=({autoScroll:e,scrollToBottomOnRunStart:t=!0,scrollToBottomOnInitialize:n=!0,scrollToBottomOnThreadSwitch:r=!0})=>{const s=c.useRef(null),o=ja();e===void 0&&(e=o.getState().turnAnchor!=="top");const i=c.useRef(0),a=c.useRef(null),l=c.useCallback(m=>{const S=s.current;S&&(a.current=m,S.scrollTo({top:S.scrollHeight,behavior:m}))},[]),u=()=>{const m=s.current;if(!m)return;const S=o.getState().isAtBottom,y=Math.abs(m.scrollHeight-m.scrollTop-m.clientHeight)<1||m.scrollHeight<=m.clientHeight;!y&&i.current<m.scrollTop||(y&&(a.current=null),(y||a.current===null)&&y!==S&&so(o).setState({isAtBottom:y})),i.current=m.scrollTop},d=DA(()=>{const m=a.current;m?l(m):e&&o.getState().isAtBottom&&l("instant"),u()}),p=bo(m=>(m.addEventListener("scroll",u),()=>{m.removeEventListener("scroll",u)}));return Tw(({behavior:m})=>{l(m)}),bl("thread.runStart",()=>{t&&(a.current="auto",requestAnimationFrame(()=>{l("auto")}))}),bl("thread.initialize",()=>{n&&(a.current="instant",requestAnimationFrame(()=>{l("instant")}))}),bl("threadListItem.switchedTo",()=>{r&&(a.current="instant",requestAnimationFrame(()=>{l("instant")}))}),ge(d,p,s)},BA=()=>{const e=oo(n=>n.registerViewport),t=c.useCallback(n=>n.clientHeight,[]);return mw(e,t)},Nw=c.forwardRef(({autoScroll:e,scrollToBottomOnRunStart:t,scrollToBottomOnInitialize:n,scrollToBottomOnThreadSwitch:r,children:s,...o},i)=>{const a=LA({autoScroll:e,scrollToBottomOnRunStart:t,scrollToBottomOnInitialize:n,scrollToBottomOnThreadSwitch:r}),l=BA(),u=ge(i,a,l);return h.jsx(ot.div,{...o,ref:u,children:s})});Nw.displayName="ThreadPrimitive.ViewportScrollable";const Mw=c.forwardRef(({turnAnchor:e,...t},n)=>h.jsx(gy,{options:{turnAnchor:e},children:h.jsx(Nw,{...t,ref:n})}));Mw.displayName="ThreadPrimitive.Viewport";const jw=(e,t)=>e.Message===t.Message&&e.EditComposer===t.EditComposer&&e.UserEditComposer===t.UserEditComposer&&e.AssistantEditComposer===t.AssistantEditComposer&&e.SystemEditComposer===t.SystemEditComposer&&e.UserMessage===t.UserMessage&&e.AssistantMessage===t.AssistantMessage&&e.SystemMessage===t.SystemMessage,FA=()=>null,$A=(e,t,n)=>{switch(t){case"user":return n?e.UserEditComposer??e.EditComposer??e.UserMessage??e.Message:e.UserMessage??e.Message;case"assistant":return n?e.AssistantEditComposer??e.EditComposer??e.AssistantMessage??e.Message:e.AssistantMessage??e.Message;case"system":return n?e.SystemEditComposer??e.EditComposer??e.SystemMessage??e.Message:e.SystemMessage??FA;default:const r=t;throw new Error(`Unknown message role: ${r}`)}},zA=({components:e})=>{const t=L(({message:s})=>s.role),n=L(({message:s})=>s.composer.isEditing),r=$A(e,t,n);return h.jsx(r,{})},Ow=c.memo(({index:e,components:t})=>h.jsx(uT,{index:e,children:h.jsx(zA,{components:t})}),(e,t)=>e.index===t.index&&jw(e.components,t.components));Ow.displayName="ThreadPrimitive.MessageByIndex";const Dw=({components:e})=>{const t=L(({thread:r})=>r.messages.length);return c.useMemo(()=>t===0?null:Array.from({length:t},(r,s)=>h.jsx(Ow,{index:s,components:e},s)),[t,e])};Dw.displayName="ThreadPrimitive.Messages";const UA=c.memo(Dw,(e,t)=>jw(e.components,t.components)),HA=({behavior:e}={})=>{const t=oo(s=>s.isAtBottom),n=ja(),r=c.useCallback(()=>{n.getState().scrollToBottom({behavior:e})},[n,e]);return t?null:r},VA=At("ThreadPrimitive.ScrollToBottom",HA,["behavior"]),WA=({prompt:e,send:t,clearComposer:n=!0,autoSend:r,method:s})=>{const o=z(),i=L(({thread:u})=>u.isDisabled),a=t??r??!1,l=c.useCallback(()=>{const u=o.thread().getState().isRunning;if(a&&!u)o.thread().append(e),n&&o.composer().setText("");else if(n)o.composer().setText(e);else{const d=o.composer().getState().text;o.composer().setText(d.trim()?`${d} ${e}`:e)}},[o,a,n,e]);return i?null:l},Lw=At("ThreadPrimitive.Suggestion",WA,["prompt","send","clearComposer","autoSend","method"]);var Bw=c.createContext({}),G=()=>c.useContext(Bw),Fw=({children:e,config:t})=>{const n=!!ET(),r=t&&Object.keys(t).length>0,s=G();if(r&&Object.keys(s).length>0)throw new Error("You are providing ThreadConfig to several nested components. Please provide all configuration to the same component.");const o=r?h.jsx(Bw.Provider,{value:t,children:e}):h.jsx(h.Fragment,{children:e});if(!(t!=null&&t.runtime))return o;if(n)throw new Error("You provided a runtime to <Thread> while simulataneously using <AssistantRuntimeProvider>. This is not allowed.");return h.jsx(vy,{runtime:t.runtime,children:o})};Fw.displayName="ThreadConfigProvider";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$w=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=c.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},l)=>c.createElement("svg",{ref:l,...GA,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:$w("lucide",s),...a},[...i.map(([u,d])=>c.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(e,t)=>{const n=c.forwardRef(({className:r,...s},o)=>c.createElement(KA,{ref:o,iconNode:t,className:$w(`lucide-${YA(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],XA=Fe("ArrowDown",qA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["path",{d:"M2 10v3",key:"1fnikh"}],["path",{d:"M6 6v11",key:"11sgs0"}],["path",{d:"M10 3v18",key:"yhl04a"}],["path",{d:"M14 8v7",key:"3a1oy3"}],["path",{d:"M18 5v13",key:"123xd1"}],["path",{d:"M22 10v3",key:"154ddg"}]],JA=Fe("AudioLines",QA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],eP=Fe("Check",ZA);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],nP=Fe("ChevronLeft",tP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],sP=Fe("ChevronRight",rP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],iP=Fe("CircleStop",oP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],lP=Fe("CircleX",aP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],cP=Fe("Copy",uP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],fP=Fe("File",dP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],pP=Fe("Paperclip",hP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],gP=Fe("Pencil",mP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],yP=Fe("RefreshCw",vP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]],SP=Fe("SendHorizontal",wP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],_P=Fe("ThumbsDown",xP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],CP=Fe("ThumbsUp",bP);var EP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),TP="VisuallyHidden",zw=c.forwardRef((e,t)=>h.jsx(se.span,{...e,ref:t,style:{...EP,...e.style}}));zw.displayName=TP;var Uw=zw,[$a]=xo("Tooltip",[Gy]),za=Gy(),Hw="TooltipProvider",RP=700,Ku="tooltip.open",[kP,Ed]=$a(Hw),Vw=e=>{const{__scopeTooltip:t,delayDuration:n=RP,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=e,i=c.useRef(!0),a=c.useRef(!1),l=c.useRef(0);return c.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),h.jsx(kP,{scope:t,isOpenDelayedRef:i,delayDuration:n,onOpen:c.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:c.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:c.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:o})};Vw.displayName=Hw;var lo="Tooltip",[AP,Ua]=$a(lo),Ww=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s,onOpenChange:o,disableHoverableContent:i,delayDuration:a}=e,l=Ed(lo,e.__scopeTooltip),u=za(t),[d,p]=c.useState(null),f=pi(),m=c.useRef(0),S=i??l.disableHoverableContent,y=a??l.delayDuration,b=c.useRef(!1),[g,v]=Ty({prop:r,defaultProp:s??!1,onChange:E=>{E?(l.onOpen(),document.dispatchEvent(new CustomEvent(Ku))):l.onClose(),o==null||o(E)},caller:lo}),w=c.useMemo(()=>g?b.current?"delayed-open":"instant-open":"closed",[g]),x=c.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b.current=!1,v(!0)},[v]),C=c.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v(!1)},[v]),R=c.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{b.current=!0,v(!0),m.current=0},y)},[y,v]);return c.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),h.jsx(VR,{...u,children:h.jsx(AP,{scope:t,contentId:f,open:g,stateAttribute:w,trigger:d,onTriggerChange:p,onTriggerEnter:c.useCallback(()=>{l.isOpenDelayedRef.current?R():x()},[l.isOpenDelayedRef,R,x]),onTriggerLeave:c.useCallback(()=>{S?C():(window.clearTimeout(m.current),m.current=0)},[C,S]),onOpen:x,onClose:C,disableHoverableContent:S,children:n})})};Ww.displayName=lo;var qu="TooltipTrigger",Yw=c.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Ua(qu,n),o=Ed(qu,n),i=za(n),a=c.useRef(null),l=ge(t,a,s.onTriggerChange),u=c.useRef(!1),d=c.useRef(!1),p=c.useCallback(()=>u.current=!1,[]);return c.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),h.jsx(WR,{asChild:!0,...i,children:h.jsx(se.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:K(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:K(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:K(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:K(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:K(e.onBlur,s.onClose),onClick:K(e.onClick,s.onClose)})})});Yw.displayName=qu;var PP="TooltipPortal",[tj,IP]=$a(PP,{forceMount:void 0}),Jr="TooltipContent",Gw=c.forwardRef((e,t)=>{const n=IP(Jr,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=e,i=Ua(Jr,e.__scopeTooltip);return h.jsx(pn,{present:r||i.open,children:i.disableHoverableContent?h.jsx(Kw,{side:s,...o,ref:t}):h.jsx(NP,{side:s,...o,ref:t})})}),NP=c.forwardRef((e,t)=>{const n=Ua(Jr,e.__scopeTooltip),r=Ed(Jr,e.__scopeTooltip),s=c.useRef(null),o=ge(t,s),[i,a]=c.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:p}=r,f=c.useCallback(()=>{a(null),p(!1)},[p]),m=c.useCallback((S,y)=>{const b=S.currentTarget,g={x:S.clientX,y:S.clientY},v=LP(g,b.getBoundingClientRect()),w=BP(g,v),x=FP(y.getBoundingClientRect()),C=zP([...w,...x]);a(C),p(!0)},[p]);return c.useEffect(()=>()=>f(),[f]),c.useEffect(()=>{if(l&&d){const S=b=>m(b,d),y=b=>m(b,l);return l.addEventListener("pointerleave",S),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",S),d.removeEventListener("pointerleave",y)}}},[l,d,m,f]),c.useEffect(()=>{if(i){const S=y=>{const b=y.target,g={x:y.clientX,y:y.clientY},v=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),w=!$P(g,i);v?f():w&&(f(),u())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[l,d,i,u,f]),h.jsx(Kw,{...e,ref:o})}),[MP,jP]=$a(lo,{isInside:!1}),OP=ZT("TooltipContent"),Kw=c.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=e,l=Ua(Jr,n),u=za(n),{onClose:d}=l;return c.useEffect(()=>(document.addEventListener(Ku,d),()=>document.removeEventListener(Ku,d)),[d]),c.useEffect(()=>{if(l.trigger){const p=f=>{const m=f.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[l.trigger,d]),h.jsx(cd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:p=>p.preventDefault(),onDismiss:d,children:h.jsxs(YR,{"data-state":l.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[h.jsx(OP,{children:r}),h.jsx(MP,{scope:n,isInside:!0,children:h.jsx(Uw,{id:l.contentId,role:"tooltip",children:s||r})})]})})});Gw.displayName=Jr;var qw="TooltipArrow",DP=c.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=za(n);return jP(qw,n).isInside?null:h.jsx(GR,{...s,...r,ref:t})});DP.displayName=qw;function LP(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function BP(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function FP(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function $P(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o],l=t[i],u=a.x,d=a.y,p=l.x,f=l.y;d>r!=f>r&&n<(p-u)*(r-d)/(f-d)+u&&(s=!s)}return s}function zP(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),UP(t)}function UP(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Xw=Vw,HP=Ww,VP=Yw,WP=Gw,Qw={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",i=0;i<arguments.length;i++){var a=arguments[i];a&&(o=s(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var i="";for(var a in o)t.call(o,a)&&o[a]&&(i=s(i,a));return i}function s(o,i){return i?o?o+" "+i:o+i:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(Qw);var YP=Qw.exports;const ee=ua(YP);var GP=({className:e,...t})=>({className:n,...r})=>({className:ee(e,n),...t,...r}),V=(e,t)=>{const n=GP(t),r=c.forwardRef((s,o)=>{const i=e;return h.jsx(i,{...n(s),ref:o})});return r.displayName="withDefaults("+(typeof e=="string"?e:e.displayName)+")",r},Td=e=>h.jsx(Xw,{children:h.jsx(HP,{...e})});Td.displayName="Tooltip";var Jw=VP,Rd=V(WP,{sideOffset:4,className:"aui-tooltip-content"});Rd.displayName="TooltipContent";function Zw(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Zw(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function KP(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Zw(e))&&(r&&(r+=" "),r+=t);return r}const Yp=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Gp=KP,qP=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Gp(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],p=o==null?void 0:o[u];if(d===null)return null;const f=Yp(d)||Yp(p);return s[u][f]}),a=n&&Object.entries(n).reduce((u,d)=>{let[p,f]=d;return f===void 0||(u[p]=f),u},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:p,className:f,...m}=d;return Object.entries(m).every(S=>{let[y,b]=S;return Array.isArray(b)?b.includes({...o,...a}[y]):{...o,...a}[y]===b})?[...u,p,f]:u},[]);return Gp(e,i,l,n==null?void 0:n.class,n==null?void 0:n.className)};var XP=qP("aui-button",{variants:{variant:{default:"aui-button-primary",outline:"aui-button-outline",ghost:"aui-button-ghost"},size:{default:"aui-button-medium",icon:"aui-button-icon"}},defaultVariants:{variant:"default",size:"default"}}),Ha=c.forwardRef(({className:e,variant:t,size:n,...r},s)=>h.jsx(se.button,{className:XP({variant:t,size:n,className:e}),...r,ref:s}));Ha.displayName="Button";var $e=c.forwardRef(({children:e,tooltip:t,side:n="bottom",...r},s)=>h.jsxs(Td,{children:[h.jsx(Jw,{asChild:!0,children:h.jsxs(Ha,{variant:"ghost",size:"icon",...r,ref:s,children:[e,h.jsx("span",{className:"aui-sr-only",children:t})]})}),h.jsx(Rd,{side:n,children:t})]}));$e.displayName="TooltipIconButton";var QP=(e=!1)=>{const{assistantMessage:{allowCopy:t=!0}={}}=G(),n=kt(r=>r.capabilities.unstable_copy);return t&&(!e||n)},kd=(e=!1)=>{const{assistantMessage:{allowSpeak:t=!0}={}}=G(),n=kt(r=>r.capabilities.speech);return t&&(!e||n)},eS=(e=!1)=>{const{assistantMessage:{allowReload:t=!0}={}}=G(),n=kt(r=>r.capabilities.reload);return t&&(!e||n)},tS=(e=!1)=>{const{assistantMessage:{allowFeedbackPositive:t=!0}={}}=G(),n=kt(r=>r.capabilities.feedback);return t&&(!e||n)},nS=(e=!1)=>{const{assistantMessage:{allowFeedbackNegative:t=!0}={}}=G(),n=kt(r=>r.capabilities.feedback);return t&&(!e||n)},rS=()=>{const e=QP(!0),t=eS(!0),n=kd(!0),r=tS(!0),s=nS(!0);return!e&&!t&&!n&&!r&&!s?null:h.jsxs(Ad,{hideWhenRunning:!0,autohide:"not-last",autohideFloat:"single-branch",children:[n&&h.jsx(sS,{}),e&&h.jsx(Pd,{}),t&&h.jsx(Md,{}),r&&h.jsx(jd,{}),s&&h.jsx(Od,{})]})};rS.displayName="AssistantActionBar";var Ad=V(ad,{className:"aui-assistant-action-bar-root"});Ad.displayName="AssistantActionBarRoot";var Pd=c.forwardRef(({copiedDuration:e,...t},n)=>{const{strings:{assistantMessage:{copy:{tooltip:r="Copy"}={}}={}}={}}=G();return h.jsx(_y,{copiedDuration:e,asChild:!0,children:h.jsx($e,{tooltip:r,...t,ref:n,children:t.children??h.jsxs(h.Fragment,{children:[h.jsx(Bn,{copied:!0,children:h.jsx(eP,{})}),h.jsx(Bn,{copied:!1,children:h.jsx(cP,{})})]})})})});Pd.displayName="AssistantActionBarCopy";var sS=()=>h.jsxs(h.Fragment,{children:[h.jsx(Bn,{speaking:!1,children:h.jsx(Id,{})}),h.jsx(Bn,{speaking:!0,children:h.jsx(Nd,{})})]}),Id=c.forwardRef((e,t)=>{const{strings:{assistantMessage:{speak:{tooltip:n="Read aloud"}={}}={}}={}}=G(),r=kd();return h.jsx(HT,{disabled:!r,asChild:!0,children:h.jsx($e,{tooltip:n,...e,ref:t,children:e.children??h.jsx(JA,{})})})});Id.displayName="AssistantActionBarSpeak";var Nd=c.forwardRef((e,t)=>{const{strings:{assistantMessage:{speak:{stop:{tooltip:n="Stop"}={}}={}}={}}={}}=G(),r=kd();return h.jsx(by,{disabled:!r,asChild:!0,children:h.jsx($e,{tooltip:n,...e,ref:t,children:e.children??h.jsx(iP,{})})})});Nd.displayName="AssistantActionBarStopSpeaking";var Md=c.forwardRef((e,t)=>{const{strings:{assistantMessage:{reload:{tooltip:n="Refresh"}={}}={}}={}}=G(),r=eS();return h.jsx(FT,{disabled:!r,asChild:!0,children:h.jsx($e,{tooltip:n,...e,ref:t,children:e.children??h.jsx(yP,{})})})});Md.displayName="AssistantActionBarReload";var jd=c.forwardRef((e,t)=>{const{strings:{assistantMessage:{feedback:{positive:{tooltip:n="Good response"}={}}={}}={}}={}}=G(),r=tS();return h.jsx(Cy,{disabled:!r,className:"aui-assistant-action-bar-feedback-positive",asChild:!0,children:h.jsx($e,{tooltip:n,...e,ref:t,children:e.children??h.jsx(CP,{})})})});jd.displayName="AssistantActionBarFeedbackPositive";var Od=c.forwardRef((e,t)=>{const{strings:{assistantMessage:{feedback:{negative:{tooltip:n="Bad response"}={}}={}}={}}={}}=G(),r=nS();return h.jsx(Ey,{disabled:!r,className:"aui-assistant-action-bar-feedback-negative",asChild:!0,children:h.jsx($e,{tooltip:n,...e,ref:t,children:e.children??h.jsx(_P,{})})})});Od.displayName="AssistantActionBarFeedbackNegative";var JP={Root:Ad,Reload:Md,Copy:Pd,Speak:Id,StopSpeaking:Nd,SpeechControl:sS,FeedbackPositive:jd,FeedbackNegative:Od},ZP=Object.assign(rS,JP),Dd=(e=!1)=>{const{branchPicker:{allowBranchPicker:t=!0}={}}=G(),n=kt(r=>r.capabilities.edit);return t&&(!e||n)},oS=()=>Dd(!0)?h.jsxs(Ld,{hideWhenSingleBranch:!0,children:[h.jsx(Bd,{}),h.jsx(iS,{}),h.jsx(Fd,{})]}):null;oS.displayName="BranchPicker";var Ld=V(bw,{className:"aui-branch-picker-root"});Ld.displayName="BranchPickerRoot";var Bd=c.forwardRef((e,t)=>{const{strings:{branchPicker:{previous:{tooltip:n="Previous"}={}}={}}={}}=G(),r=Dd();return h.jsx(Hk,{disabled:!r,asChild:!0,children:h.jsx($e,{tooltip:n,...e,ref:t,children:e.children??h.jsx(nP,{})})})});Bd.displayName="BranchPickerPrevious";var eI=V("span",{className:"aui-branch-picker-state"}),iS=c.forwardRef((e,t)=>h.jsxs(eI,{...e,ref:t,children:[h.jsx(pw,{})," / ",h.jsx(hw,{})]}));iS.displayName="BranchPickerState";var Fd=c.forwardRef((e,t)=>{const{strings:{branchPicker:{next:{tooltip:n="Next"}={}}={}}={}}=G(),r=Dd();return h.jsx(zk,{disabled:!r,asChild:!0,children:h.jsx($e,{tooltip:n,...e,ref:t,children:e.children??h.jsx(sP,{})})})});Fd.displayName="BranchPickerNext";var tI={Root:Ld,Previous:Bd,Next:Fd},aS=Object.assign(oS,tI),lS={exports:{}},uS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zr=c;function nI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rI=typeof Object.is=="function"?Object.is:nI,sI=Zr.useState,oI=Zr.useEffect,iI=Zr.useLayoutEffect,aI=Zr.useDebugValue;function lI(e,t){var n=t(),r=sI({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return iI(function(){s.value=n,s.getSnapshot=t,$l(s)&&o({inst:s})},[e,n,t]),oI(function(){return $l(s)&&o({inst:s}),e(function(){$l(s)&&o({inst:s})})},[e]),aI(n),n}function $l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rI(e,n)}catch{return!0}}function uI(e,t){return t()}var cI=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?uI:lI;uS.useSyncExternalStore=Zr.useSyncExternalStore!==void 0?Zr.useSyncExternalStore:cI;lS.exports=uS;var dI=lS.exports;function fI(){return dI.useSyncExternalStore(hI,()=>!0,()=>!1)}function hI(){return()=>{}}var $d="Avatar",[pI]=xo($d),[mI,cS]=pI($d),dS=c.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,o]=c.useState("idle");return h.jsx(mI,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:h.jsx(se.span,{...r,ref:t})})});dS.displayName=$d;var fS="AvatarImage",hS=c.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=e,i=cS(fS,n),a=gI(r,o),l=Ce(u=>{s(u),i.onImageLoadingStatusChange(u)});return ft(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?h.jsx(se.img,{...o,ref:t,src:r}):null});hS.displayName=fS;var pS="AvatarFallback",zd=c.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,o=cS(pS,n),[i,a]=c.useState(r===void 0);return c.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),i&&o.imageLoadingStatus!=="loaded"?h.jsx(se.span,{...s,ref:t}):null});zd.displayName=pS;function Kp(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function gI(e,{referrerPolicy:t,crossOrigin:n}){const r=fI(),s=c.useRef(null),o=r?(s.current||(s.current=new window.Image),s.current):null,[i,a]=c.useState(()=>Kp(o,e));return ft(()=>{a(Kp(o,e))},[o,e]),ft(()=>{const l=p=>()=>{a(p)};if(!o)return;const u=l("loaded"),d=l("error");return o.addEventListener("load",u),o.addEventListener("error",d),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",u),o.removeEventListener("error",d)}},[o,n,t]),i}var vI=dS,yI=hS,wI=zd,Ud=({src:e,alt:t,fallback:n})=>e==null&&n==null?null:h.jsxs(Hd,{children:[e!=null&&h.jsx(Vd,{src:e,alt:t}),n!=null&&h.jsx(mS,{children:n})]});Ud.displayName="Avatar";var Hd=V(vI,{className:"aui-avatar-root"});Hd.displayName="AvatarRoot";var Vd=V(yI,{className:"aui-avatar-image"});Vd.displayName="AvatarImage";var mS=V(wI,{className:"aui-avatar-fallback"});mS.displayName="AvatarFallback";var{useSmoothStatus:SI,withSmoothContextProvider:xI}=UE,_I=()=>{const e=SI();return h.jsx(Sd,{className:ee("aui-text",e.type==="running"&&"aui-text-running"),component:"p"})},bI={Text:xI(_I)},gS=bI,vS=()=>h.jsxs(Wd,{children:[h.jsx(yS,{}),h.jsx(Yd,{}),h.jsx(aS,{}),h.jsx(ZP,{})]});vS.displayName="AssistantMessage";var yS=()=>{const{assistantAvatar:e={fallback:"A"}}=G();return h.jsx(Ud,{...e})},Wd=V(wd,{className:"aui-assistant-message-root"});Wd.displayName="AssistantMessageRoot";var CI=V("div",{className:"aui-assistant-message-content"}),Yd=c.forwardRef(({components:e,...t},n)=>{const{tools:r,assistantMessage:{components:s={}}={}}=G(),o=c.useMemo(()=>({by_name:r?Object.fromEntries(r.map(a=>[a.unstable_tool.toolName,a.unstable_tool.render])):void 0,Fallback:s.ToolFallback}),[...r??[],s.ToolFallback]),i=s.Footer;return h.jsxs(CI,{...t,ref:n,children:[h.jsx(xd,{components:{...e,Text:(e==null?void 0:e.Text)??s.Text??gS.Text,Empty:(e==null?void 0:e.Empty)??s.Empty,tools:o}}),i&&h.jsx(i,{})]})});Yd.displayName="AssistantMessageContent";var EI={Root:Wd,Avatar:yS,Content:Yd},TI=Object.assign(vS,EI),wS=()=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:"16",height:"16",children:h.jsx("rect",{width:"10",height:"10",x:"3",y:"3",rx:"2"})});wS.displayName="CircleStopIcon";var Va="Dialog",[SS]=xo(Va),[RI,Pt]=SS(Va),xS=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=c.useRef(null),l=c.useRef(null),[u,d]=Ty({prop:r,defaultProp:s??!1,onChange:o,caller:Va});return h.jsx(RI,{scope:t,triggerRef:a,contentRef:l,contentId:pi(),titleId:pi(),descriptionId:pi(),open:u,onOpenChange:d,onOpenToggle:c.useCallback(()=>d(p=>!p),[d]),modal:i,children:n})};xS.displayName=Va;var _S="DialogTrigger",bS=c.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Pt(_S,n),o=ge(t,s.triggerRef);return h.jsx(se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Xd(s.open),...r,ref:o,onClick:K(e.onClick,s.onOpenToggle)})});bS.displayName=_S;var Gd="DialogPortal",[kI,CS]=SS(Gd,{forceMount:void 0}),ES=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=Pt(Gd,t);return h.jsx(kI,{scope:t,forceMount:n,children:c.Children.map(r,i=>h.jsx(pn,{present:n||o.open,children:h.jsx(nw,{asChild:!0,container:s,children:i})}))})};ES.displayName=Gd;var na="DialogOverlay",TS=c.forwardRef((e,t)=>{const n=CS(na,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Pt(na,e.__scopeDialog);return o.modal?h.jsx(pn,{present:r||o.open,children:h.jsx(PI,{...s,ref:t})}):null});TS.displayName=na;var AI=ud("DialogOverlay.RemoveScroll"),PI=c.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Pt(na,n);return h.jsx(dw,{as:AI,allowPinchZoom:!0,shards:[s.contentRef],children:h.jsx(se.div,{"data-state":Xd(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),lr="DialogContent",RS=c.forwardRef((e,t)=>{const n=CS(lr,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Pt(lr,e.__scopeDialog);return h.jsx(pn,{present:r||o.open,children:o.modal?h.jsx(II,{...s,ref:t}):h.jsx(NI,{...s,ref:t})})});RS.displayName=lr;var II=c.forwardRef((e,t)=>{const n=Pt(lr,e.__scopeDialog),r=c.useRef(null),s=ge(t,n.contentRef,r);return c.useEffect(()=>{const o=r.current;if(o)return tk(o)},[]),h.jsx(kS,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:K(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:K(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:K(e.onFocusOutside,o=>o.preventDefault())})}),NI=c.forwardRef((e,t)=>{const n=Pt(lr,e.__scopeDialog),r=c.useRef(!1),s=c.useRef(!1);return h.jsx(kS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),kS=c.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=Pt(lr,n),l=c.useRef(null),u=ge(t,l);return p1(),h.jsxs(h.Fragment,{children:[h.jsx(Ny,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:h.jsx(cd,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Xd(a.open),...i,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(MI,{titleId:a.titleId}),h.jsx(OI,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Kd="DialogTitle",qd=c.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Pt(Kd,n);return h.jsx(se.h2,{id:s.titleId,...r,ref:t})});qd.displayName=Kd;var AS="DialogDescription",PS=c.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Pt(AS,n);return h.jsx(se.p,{id:s.descriptionId,...r,ref:t})});PS.displayName=AS;var IS="DialogClose",NS=c.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Pt(IS,n);return h.jsx(se.button,{type:"button",...r,ref:t,onClick:K(e.onClick,()=>s.onOpenChange(!1))})});NS.displayName=IS;function Xd(e){return e?"open":"closed"}var MS="DialogTitleWarning",[nj,jS]=GT(MS,{contentName:lr,titleName:Kd,docsSlug:"dialog"}),MI=({titleId:e})=>{const t=jS(MS),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return c.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},jI="DialogDescriptionWarning",OI=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${jS(jI).contentName}}.`;return c.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},OS=xS,DS=bS,LS=ES,Qd=TS,Jd=RS,DI=qd,LI=PS,BI=NS,FI=OS,$I=DS,zI=LS,BS=c.forwardRef(({className:e,...t},n)=>h.jsx(Qd,{ref:n,className:ee("aui-dialog-overlay",e),...t}));BS.displayName=Qd.displayName;var FS=c.forwardRef(({className:e,children:t,...n},r)=>h.jsxs(zI,{children:[h.jsx(BS,{}),h.jsx(Jd,{ref:r,className:ee("aui-dialog-content",e),...n,children:t})]}));FS.displayName=Jd.displayName;var Zd=V(fw,{className:"aui-attachment-root"}),UI=V("div",{className:"aui-attachment-content"});Zd.displayName="AttachmentRoot";var HI=e=>{const[t,n]=c.useState(void 0);return c.useEffect(()=>{if(!e){n(void 0);return}const r=URL.createObjectURL(e);return n(r),()=>{URL.revokeObjectURL(r)}},[e]),t},$S=()=>{const{file:e,src:t}=Xi(ww(n=>{var s,o;if(n.type!=="image")return{};if(n.file)return{file:n.file};const r=(o=(s=n.content)==null?void 0:s.filter(i=>i.type==="image")[0])==null?void 0:o.image;return r?{src:r}:{}}));return HI(e)??t},VI=({src:e})=>{const[t,n]=c.useState(!1);return h.jsx("img",{src:e,style:{width:"auto",height:"auto",maxWidth:"75dvh",maxHeight:"75dvh",display:t?"block":"none",overflow:"clip"},onLoad:()=>n(!0),alt:"Preview"})},WI=({children:e})=>{const t=$S();return t?h.jsxs(FI,{children:[h.jsx($I,{className:"aui-attachment-preview-trigger",asChild:!0,children:e}),h.jsxs(FS,{children:[h.jsx(qd,{className:"aui-sr-only",children:"Image Attachment Preview"}),h.jsx(VI,{src:t})]})]}):e},YI=()=>{const e=Xi(n=>n.type==="image"),t=$S();return h.jsxs(Hd,{className:"aui-attachment-thumb",children:[h.jsx(zd,{delayMs:e?200:0,children:h.jsx(fP,{})}),h.jsx(Vd,{src:t})]})},zS=()=>{const e=Xi(n=>n.source!=="message"),t=Xi(n=>{const r=n.type;switch(r){case"image":return"Image";case"document":return"Document";case"file":return"File";default:const s=r;throw new Error(`Unknown attachment type: ${s}`)}});return h.jsxs(Td,{children:[h.jsxs(Zd,{children:[h.jsx(WI,{children:h.jsx(Jw,{asChild:!0,children:h.jsxs(UI,{children:[h.jsx(YI,{}),h.jsxs("div",{className:"aui-attachment-text",children:[h.jsx("p",{className:"aui-attachment-name",children:h.jsx(Yu,{})}),h.jsx("p",{className:"aui-attachment-type",children:t})]})]})})}),e&&h.jsx(ef,{})]}),h.jsx(Rd,{side:"top",children:h.jsx(Yu,{})})]})};zS.displayName="Attachment";var ef=c.forwardRef((e,t)=>{const{strings:{composer:{removeAttachment:{tooltip:n="Remove file"}={}}={}}={}}=G();return h.jsx(Fk,{asChild:!0,children:h.jsx($e,{tooltip:n,className:"aui-attachment-remove",side:"top",...e,ref:t,children:e.children??h.jsx(lP,{})})})});ef.displayName="AttachmentRemove";var GI={Root:Zd,Remove:ef},US=Object.assign(zS,GI),HS=(e=!1)=>{const{composer:{allowAttachments:t=!0}={}}=G(),n=kt(r=>r.capabilities.attachments);return t&&(!e||n)},VS=()=>{const e=HS(!0);return h.jsxs(tf,{children:[e&&h.jsx(WS,{}),e&&h.jsx(rf,{}),h.jsx(nf,{autoFocus:!0}),h.jsx(sf,{})]})};VS.displayName="Composer";var tf=V(_d,{className:"aui-composer-root"});tf.displayName="ComposerRoot";var KI=V(Cd,{rows:1,autoFocus:!0,className:"aui-composer-input"}),nf=c.forwardRef((e,t)=>{const{strings:{composer:{input:{placeholder:n="Write a message..."}={}}={}}={}}=G();return h.jsx(KI,{placeholder:n,...e,ref:t})});nf.displayName="ComposerInput";var qI=V("div",{className:"aui-composer-attachments"}),WS=({components:e})=>h.jsx(qI,{children:h.jsx(Aw,{components:{...e,Attachment:(e==null?void 0:e.Attachment)??US}})}),XI=V($e,{variant:"default",className:"aui-composer-attach"}),rf=c.forwardRef((e,t)=>{const{strings:{composer:{addAttachment:{tooltip:n="Attach file"}={}}={}}={}}=G(),r=HS();return h.jsx(NA,{disabled:!r,asChild:!0,children:h.jsx(XI,{tooltip:n,variant:"ghost",...e,ref:t,children:e.children??h.jsx(pP,{})})})});rf.displayName="ComposerAddAttachment";var QI=()=>kt(t=>t.capabilities.cancel),sf=()=>QI()?h.jsxs(h.Fragment,{children:[h.jsx(ao,{running:!1,children:h.jsx(ra,{})}),h.jsx(ao,{running:!0,children:h.jsx(of,{})})]}):h.jsx(ra,{});sf.displayName="ComposerAction";var JI=V($e,{variant:"default",className:"aui-composer-send"}),ra=c.forwardRef((e,t)=>{const{strings:{composer:{send:{tooltip:n="Send"}={}}={}}={}}=G();return h.jsx(Ew,{asChild:!0,children:h.jsx(JI,{tooltip:n,...e,ref:t,children:e.children??h.jsx(SP,{})})})});ra.displayName="ComposerSend";var ZI=V($e,{variant:"default",className:"aui-composer-cancel"}),of=c.forwardRef((e,t)=>{const{strings:{composer:{cancel:{tooltip:n="Cancel"}={}}={}}={}}=G();return h.jsx(Rw,{asChild:!0,children:h.jsx(ZI,{tooltip:n,...e,ref:t,children:e.children??h.jsx(wS,{})})})});of.displayName="ComposerCancel";var eN={Root:tf,Input:nf,Action:sf,Send:ra,Cancel:of,AddAttachment:rf,Attachments:WS},tN=Object.assign(VS,eN),YS=()=>h.jsxs(af,{children:[h.jsxs(GS,{children:[h.jsx(KS,{}),h.jsx(lf,{})]}),h.jsx(uf,{})]});YS.displayName="ThreadWelcome";var nN=V("div",{className:"aui-thread-welcome-root"}),GS=V("div",{className:"aui-thread-welcome-center"}),af=c.forwardRef((e,t)=>h.jsx(Iw,{children:h.jsx(nN,{...e,ref:t})}));af.displayName="ThreadWelcomeRoot";var KS=()=>{const{assistantAvatar:e={fallback:"A"}}=G();return h.jsx(Ud,{...e})},rN=V("p",{className:"aui-thread-welcome-message"}),lf=c.forwardRef(({message:e,...t},n)=>{const{welcome:{message:r}={},strings:{welcome:{message:s="How can I help you today?"}={}}={}}=G();return h.jsx(rN,{...t,ref:n,children:e??r??s})});lf.displayName="ThreadWelcomeMessage";var sN=V("div",{className:"aui-thread-welcome-suggestions"}),oN=V(Lw,{className:"aui-thread-welcome-suggestion"}),qS=({suggestion:{text:e,prompt:t}})=>h.jsx(oN,{prompt:t,method:"replace",autoSend:!0,children:h.jsx("span",{className:"aui-thread-welcome-suggestion-text",children:e??t})}),uf=()=>{const e=kt(r=>r.suggestions),{welcome:{suggestions:t}={}}=G(),n=e.length?e:t;return h.jsx(sN,{children:n==null?void 0:n.map((r,s)=>{const o=`${r.prompt}-${s}`;return h.jsx(qS,{suggestion:r},o)})})};uf.displayName="ThreadWelcomeSuggestions";var iN={Root:af,Center:GS,Avatar:KS,Message:lf,Suggestions:uf,Suggestion:qS},aN=Object.assign(YS,iN),XS=(e=!1)=>{const{userMessage:{allowEdit:t=!0}={}}=G(),n=kt(r=>r.capabilities.edit);return t&&(!e||n)},QS=()=>XS(!0)?h.jsx(cf,{hideWhenRunning:!0,autohide:"not-last",children:h.jsx(df,{})}):null;QS.displayName="UserActionBar";var cf=V(ad,{className:"aui-user-action-bar-root"});cf.displayName="UserActionBarRoot";var df=c.forwardRef((e,t)=>{const{strings:{userMessage:{edit:{tooltip:n="Edit"}={}}={}}={}}=G(),r=XS();return h.jsx(zT,{disabled:!r,asChild:!0,children:h.jsx($e,{tooltip:n,...e,ref:t,children:e.children??h.jsx(gP,{})})})});df.displayName="UserActionBarEdit";var lN={Root:cf,Edit:df},uN=Object.assign(QS,lN),JS=()=>h.jsxs(ff,{children:[h.jsx(ZS,{}),h.jsxs(Bn,{hasContent:!0,children:[h.jsx(uN,{}),h.jsx(hf,{})]}),h.jsx(aS,{})]});JS.displayName="UserMessage";var ff=V(wd,{className:"aui-user-message-root"});ff.displayName="UserMessageRoot";var cN=V("div",{className:"aui-user-message-content"}),hf=c.forwardRef(({components:e,...t},n)=>h.jsx(cN,{...t,ref:n,children:h.jsx(xd,{components:{...e,Text:(e==null?void 0:e.Text)??gS.Text}})}));hf.displayName="UserMessageContent";var dN=V("div",{className:"aui-user-message-attachments"}),ZS=({components:e})=>h.jsx(Bn,{hasAttachments:!0,children:h.jsx(dN,{children:h.jsx(_w,{components:{...e,Attachment:(e==null?void 0:e.Attachment)??US}})})}),fN={Root:ff,Content:hf,Attachments:ZS},hN=Object.assign(JS,fN),ex=()=>h.jsxs(pf,{children:[h.jsx(mf,{}),h.jsxs(gf,{children:[h.jsx(vf,{}),h.jsx(yf,{})]})]});ex.displayName="EditComposer";var pf=V(_d,{className:"aui-edit-composer-root"});pf.displayName="EditComposerRoot";var mf=V(Cd,{className:"aui-edit-composer-input"});mf.displayName="EditComposerInput";var gf=V("div",{className:"aui-edit-composer-footer"});gf.displayName="EditComposerFooter";var vf=c.forwardRef((e,t)=>{const{strings:{editComposer:{cancel:{label:n="Cancel"}={}}={}}={}}=G();return h.jsx(Rw,{asChild:!0,children:h.jsx(Ha,{variant:"ghost",...e,ref:t,children:e.children??n})})});vf.displayName="EditComposerCancel";var yf=c.forwardRef((e,t)=>{const{strings:{editComposer:{send:{label:n="Send"}={}}={}}={}}=G();return h.jsx(Ew,{asChild:!0,children:h.jsx(Ha,{...e,ref:t,children:e.children??n})})});yf.displayName="EditComposerSend";var pN={Root:pf,Input:mf,Footer:gf,Cancel:vf,Send:yf},mN=Object.assign(ex,pN),gN=e=>{const{components:{Composer:t=tN,ThreadWelcome:n=aN,MessagesFooter:r,...s}={}}=e;return h.jsx(wf,{config:e,children:h.jsxs(Sf,{children:[h.jsx(n,{}),h.jsx(_f,{MessagesFooter:r,components:s}),h.jsx(tx,{}),h.jsxs(xf,{children:[h.jsx(bf,{}),h.jsx(t,{})]})]})})},vN=V(Pw,{className:"aui-root aui-thread-root"}),wf=c.forwardRef(({config:e,...t},n)=>h.jsx(Fw,{config:e,children:h.jsx(vN,{...t,ref:n})}));wf.displayName="ThreadRoot";var Sf=V(Mw,{className:"aui-thread-viewport"});Sf.displayName="ThreadViewport";var xf=V("div",{className:"aui-thread-viewport-footer"});xf.displayName="ThreadViewportFooter";var _f=({components:e,MessagesFooter:t,unstable_flexGrowDiv:n=!0,...r})=>h.jsxs(h.Fragment,{children:[h.jsx(UA,{components:{...e,UserMessage:(e==null?void 0:e.UserMessage)??hN,AssistantMessage:(e==null?void 0:e.AssistantMessage)??TI,EditComposer:(e==null?void 0:e.EditComposer)??mN},...r}),t&&h.jsx(t,{}),n&&h.jsx(ao,{empty:!1,children:h.jsx("div",{style:{flexGrow:1}})})]});_f.displayName="ThreadMessages";var tx=()=>{const e=kt(t=>t.suggestions);return h.jsx(ao,{empty:!1,running:!1,children:h.jsx("div",{className:"aui-thread-followup-suggestions",children:e==null?void 0:e.map((t,n)=>h.jsx(Lw,{className:"aui-thread-followup-suggestion",prompt:t.prompt,method:"replace",autoSend:!0,children:t.prompt},n))})})},yN=V($e,{variant:"outline",className:"aui-thread-scroll-to-bottom"}),bf=c.forwardRef((e,t)=>{const{strings:{thread:{scrollToBottom:{tooltip:n="Scroll to bottom"}={}}={}}={}}=G();return h.jsx(VA,{asChild:!0,children:h.jsx(yN,{tooltip:n,...e,ref:t,children:e.children??h.jsx(XA,{})})})});bf.displayName="ThreadScrollToBottom";var wN={Root:wf,Viewport:Sf,Messages:_f,FollowupSuggestions:tx,ScrollToBottom:bf,ViewportFooter:xf},SN=Object.assign(gN,wN);function xN(e,[t,n]){return Math.min(n,Math.max(t,e))}function _N(e,t){return c.useReducer((n,r)=>t[n][r]??n,e)}var Cf="ScrollArea",[nx]=xo(Cf),[bN,pt]=nx(Cf),rx=c.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:o=600,...i}=e,[a,l]=c.useState(null),[u,d]=c.useState(null),[p,f]=c.useState(null),[m,S]=c.useState(null),[y,b]=c.useState(null),[g,v]=c.useState(0),[w,x]=c.useState(0),[C,R]=c.useState(!1),[E,T]=c.useState(!1),I=ge(t,j=>l(j)),k=o1(s);return h.jsx(bN,{scope:n,type:r,dir:k,scrollHideDelay:o,scrollArea:a,viewport:u,onViewportChange:d,content:p,onContentChange:f,scrollbarX:m,onScrollbarXChange:S,scrollbarXEnabled:C,onScrollbarXEnabledChange:R,scrollbarY:y,onScrollbarYChange:b,scrollbarYEnabled:E,onScrollbarYEnabledChange:T,onCornerWidthChange:v,onCornerHeightChange:x,children:h.jsx(se.div,{dir:k,...i,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});rx.displayName=Cf;var sx="ScrollAreaViewport",ox=c.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...o}=e,i=pt(sx,n),a=c.useRef(null),l=ge(t,a,i.onViewportChange);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),h.jsx(se.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:h.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});ox.displayName=sx;var Wt="ScrollAreaScrollbar",ix=c.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=pt(Wt,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,a=e.orientation==="horizontal";return c.useEffect(()=>(a?o(!0):i(!0),()=>{a?o(!1):i(!1)}),[a,o,i]),s.type==="hover"?h.jsx(CN,{...r,ref:t,forceMount:n}):s.type==="scroll"?h.jsx(EN,{...r,ref:t,forceMount:n}):s.type==="auto"?h.jsx(ax,{...r,ref:t,forceMount:n}):s.type==="always"?h.jsx(Ef,{...r,ref:t}):null});ix.displayName=Wt;var CN=c.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=pt(Wt,e.__scopeScrollArea),[o,i]=c.useState(!1);return c.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),i(!0)},d=()=>{l=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),h.jsx(pn,{present:n||o,children:h.jsx(ax,{"data-state":o?"visible":"hidden",...r,ref:t})})}),EN=c.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=pt(Wt,e.__scopeScrollArea),o=e.orientation==="horizontal",i=Ya(()=>l("SCROLL_END"),100),[a,l]=_N("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return c.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,s.scrollHideDelay,l]),c.useEffect(()=>{const u=s.viewport,d=o?"scrollLeft":"scrollTop";if(u){let p=u[d];const f=()=>{const m=u[d];p!==m&&(l("SCROLL"),i()),p=m};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[s.viewport,o,l,i]),h.jsx(pn,{present:n||a!=="hidden",children:h.jsx(Ef,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:K(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:K(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),ax=c.forwardRef((e,t)=>{const n=pt(Wt,e.__scopeScrollArea),{forceMount:r,...s}=e,[o,i]=c.useState(!1),a=e.orientation==="horizontal",l=Ya(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;i(a?u:d)}},10);return es(n.viewport,l),es(n.content,l),h.jsx(pn,{present:r||o,children:h.jsx(Ef,{"data-state":o?"visible":"hidden",...s,ref:t})})}),Ef=c.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=pt(Wt,e.__scopeScrollArea),o=c.useRef(null),i=c.useRef(0),[a,l]=c.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=fx(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:f=>o.current=f,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:f=>i.current=f};function p(f,m){return IN(f,i.current,a,m)}return n==="horizontal"?h.jsx(TN,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const f=s.viewport.scrollLeft,m=qp(f,a,s.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=p(f,s.dir))}}):n==="vertical"?h.jsx(RN,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const f=s.viewport.scrollTop,m=qp(f,a);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=p(f))}}):null}),TN=c.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=pt(Wt,e.__scopeScrollArea),[i,a]=c.useState(),l=c.useRef(null),u=ge(t,l,o.onScrollbarXChange);return c.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),h.jsx(ux,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Wa(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,p)=>{if(o.viewport){const f=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),px(f,p)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:oa(i.paddingLeft),paddingEnd:oa(i.paddingRight)}})}})}),RN=c.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=pt(Wt,e.__scopeScrollArea),[i,a]=c.useState(),l=c.useRef(null),u=ge(t,l,o.onScrollbarYChange);return c.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),h.jsx(ux,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Wa(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,p)=>{if(o.viewport){const f=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),px(f,p)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:oa(i.paddingTop),paddingEnd:oa(i.paddingBottom)}})}})}),[kN,lx]=nx(Wt),ux=c.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:p,...f}=e,m=pt(Wt,n),[S,y]=c.useState(null),b=ge(t,I=>y(I)),g=c.useRef(null),v=c.useRef(""),w=m.viewport,x=r.content-r.viewport,C=Ce(d),R=Ce(l),E=Ya(p,10);function T(I){if(g.current){const k=I.clientX-g.current.left,j=I.clientY-g.current.top;u({x:k,y:j})}}return c.useEffect(()=>{const I=k=>{const j=k.target;(S==null?void 0:S.contains(j))&&C(k,x)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[w,S,x,C]),c.useEffect(R,[r,R]),es(S,E),es(m.content,E),h.jsx(kN,{scope:n,scrollbar:S,hasThumb:s,onThumbChange:Ce(o),onThumbPointerUp:Ce(i),onThumbPositionChange:R,onThumbPointerDown:Ce(a),children:h.jsx(se.div,{...f,ref:b,style:{position:"absolute",...f.style},onPointerDown:K(e.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),g.current=S.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),T(I))}),onPointerMove:K(e.onPointerMove,T),onPointerUp:K(e.onPointerUp,I=>{const k=I.target;k.hasPointerCapture(I.pointerId)&&k.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=v.current,m.viewport&&(m.viewport.style.scrollBehavior=""),g.current=null})})})}),sa="ScrollAreaThumb",cx=c.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=lx(sa,e.__scopeScrollArea);return h.jsx(pn,{present:n||s.hasThumb,children:h.jsx(AN,{ref:t,...r})})}),AN=c.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,o=pt(sa,n),i=lx(sa,n),{onThumbPositionChange:a}=i,l=ge(t,p=>i.onThumbChange(p)),u=c.useRef(void 0),d=Ya(()=>{u.current&&(u.current(),u.current=void 0)},100);return c.useEffect(()=>{const p=o.viewport;if(p){const f=()=>{if(d(),!u.current){const m=NN(p,a);u.current=m,a()}};return a(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[o.viewport,d,a]),h.jsx(se.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:K(e.onPointerDownCapture,p=>{const m=p.target.getBoundingClientRect(),S=p.clientX-m.left,y=p.clientY-m.top;i.onThumbPointerDown({x:S,y})}),onPointerUp:K(e.onPointerUp,i.onThumbPointerUp)})});cx.displayName=sa;var Tf="ScrollAreaCorner",dx=c.forwardRef((e,t)=>{const n=pt(Tf,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?h.jsx(PN,{...e,ref:t}):null});dx.displayName=Tf;var PN=c.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=pt(Tf,n),[o,i]=c.useState(0),[a,l]=c.useState(0),u=!!(o&&a);return es(s.scrollbarX,()=>{var p;const d=((p=s.scrollbarX)==null?void 0:p.offsetHeight)||0;s.onCornerHeightChange(d),l(d)}),es(s.scrollbarY,()=>{var p;const d=((p=s.scrollbarY)==null?void 0:p.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),u?h.jsx(se.div,{...r,ref:t,style:{width:o,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function oa(e){return e?parseInt(e,10):0}function fx(e,t){const n=e/t;return isNaN(n)?0:n}function Wa(e){const t=fx(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function IN(e,t,n,r="ltr"){const s=Wa(n),o=s/2,i=t||o,a=s-i,l=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,p=r==="ltr"?[0,d]:[d*-1,0];return hx([l,u],p)(e)}function qp(e,t,n="ltr"){const r=Wa(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,i=t.content-t.viewport,a=o-r,l=n==="ltr"?[0,i]:[i*-1,0],u=xN(e,l);return hx([0,i],[0,a])(u)}function hx(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function px(e,t){return e>0&&e<t}var NN=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},i=n.left!==o.left,a=n.top!==o.top;(i||a)&&t(),n=o,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Ya(e,t){const n=Ce(e),r=c.useRef(0);return c.useEffect(()=>()=>window.clearTimeout(r.current),[]),c.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function es(e,t){const n=Ce(t);ft(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var MN=rx,jN=ox,Xp=ix,Qp=cx,ON=dx;const Hn={asChild:{type:"boolean"}},wi={width:{type:"string",className:"rt-r-w",customProperties:["--width"],responsive:!0},minWidth:{type:"string",className:"rt-r-min-w",customProperties:["--min-width"],responsive:!0},maxWidth:{type:"string",className:"rt-r-max-w",customProperties:["--max-width"],responsive:!0}},mx={height:{type:"string",className:"rt-r-h",customProperties:["--height"],responsive:!0},minHeight:{type:"string",className:"rt-r-min-h",customProperties:["--min-height"],responsive:!0},maxHeight:{type:"string",className:"rt-r-max-h",customProperties:["--max-height"],responsive:!0}},DN=["1","2","3","4"],LN={...Hn,align:{type:"enum",className:"rt-r-align",values:["start","center"],default:"center"},size:{type:"enum",className:"rt-r-size",values:DN,default:"3",responsive:!0},width:wi.width,minWidth:wi.minWidth,maxWidth:{...wi.maxWidth,default:"600px"},...mx},gx=["gray","gold","bronze","brown","yellow","amber","orange","tomato","red","ruby","crimson","pink","plum","purple","violet","iris","indigo","blue","cyan","teal","jade","green","grass","lime","mint","sky"],Co={color:{type:"enum",values:gx,default:void 0}},Rf={color:{type:"enum",values:gx,default:""}},Eo={highContrast:{type:"boolean",className:"rt-high-contrast",default:void 0}},BN=["normal","start","end","both"],vx={trim:{type:"enum",className:"rt-r-lt",values:BN,responsive:!0}},FN=["left","center","right"],yx={align:{type:"enum",className:"rt-r-ta",values:FN,responsive:!0}},$N=["wrap","nowrap","pretty","balance"],wx={wrap:{type:"enum",className:"rt-r-tw",values:$N,responsive:!0}},Sx={truncate:{type:"boolean",className:"rt-truncate"}},zN=["light","regular","medium","bold"],xx={weight:{type:"enum",className:"rt-r-weight",values:zN,responsive:!0}},UN=["h1","h2","h3","h4","h5","h6"],HN=["1","2","3","4","5","6","7","8","9"],VN={as:{type:"enum",values:UN,default:"h1"},...Hn,size:{type:"enum",className:"rt-r-size",values:HN,default:"6",responsive:!0},...xx,...yx,...vx,...Sx,...wx,...Co,...Eo},WN=["initial","xs","sm","md","lg","xl"],kf=new Set(WN);function _x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Bs(e){return typeof e=="object"&&e!==null&&Object.keys(e).some(t=>kf.has(t))}function vn({className:e,customProperties:t,...n}){const r=ia({allowArbitraryValues:!0,className:e,...n}),s=YN({customProperties:t,...n});return[r,s]}function ia({allowArbitraryValues:e,value:t,className:n,propValues:r,parseValue:s=o=>o}){const o=[];if(t){if(typeof t=="string"&&r.includes(t))return Jp(n,t,s);if(Bs(t)){const i=t;for(const a in i){if(!_x(i,a)||!kf.has(a))continue;const l=i[a];if(l!==void 0){if(r.includes(l)){const u=Jp(n,l,s),d=a==="initial"?u:`${a}:${u}`;o.push(d)}else if(e){const u=a==="initial"?n:`${a}:${n}`;o.push(u)}}}return o.join(" ")}if(e)return n}}function Jp(e,t,n){const r=e?"-":"",s=n(t),o=s==null?void 0:s.startsWith("-"),i=o?"-":"",a=o?s==null?void 0:s.substring(1):s;return`${i}${e}${r}${a}`}function YN({customProperties:e,value:t,propValues:n,parseValue:r=s=>s}){let s={};if(!(!t||typeof t=="string"&&n.includes(t))){if(typeof t=="string"&&(s=Object.fromEntries(e.map(o=>[o,t]))),Bs(t)){const o=t;for(const i in o){if(!_x(o,i)||!kf.has(i))continue;const a=o[i];if(!n.includes(a))for(const l of e)s={[i==="initial"?l:`${l}-${i}`]:a,...s}}}for(const o in s){const i=s[o];i!==void 0&&(s[o]=r(i))}return s}}function aa(...e){let t={};for(const n of e)n&&(t={...t,...n});return Object.keys(t).length?t:void 0}function GN(...e){return Object.assign({},...e)}function ht(e,...t){let n,r;const s={...e},o=GN(...t);for(const i in o){let a=s[i];const l=o[i];if(l.default!==void 0&&a===void 0&&(a=l.default),l.type==="enum"&&![l.default,...l.values].includes(a)&&!Bs(a)&&(a=l.default),s[i]=a,"className"in l&&l.className){delete s[i];const u="responsive"in l;if(!a||Bs(a)&&!u)continue;if(Bs(a)&&(l.default!==void 0&&a.initial===void 0&&(a.initial=l.default),l.type==="enum"&&([l.default,...l.values].includes(a.initial)||(a.initial=l.default))),l.type==="enum"){const d=ia({allowArbitraryValues:!1,value:a,className:l.className,propValues:l.values,parseValue:l.parseValue});n=ee(n,d);continue}if(l.type==="string"||l.type==="enum | string"){const d=l.type==="string"?[]:l.values,[p,f]=vn({className:l.className,customProperties:l.customProperties,propValues:d,parseValue:l.parseValue,value:a});r=aa(r,f),n=ee(n,p);continue}if(l.type==="boolean"&&a){n=ee(n,l.className);continue}}}return s.className=ee(n,e.className),s.style=aa(r,e.style),s}const Vn=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],Yt={m:{type:"enum | string",values:Vn,responsive:!0,className:"rt-r-m",customProperties:["--m"]},mx:{type:"enum | string",values:Vn,responsive:!0,className:"rt-r-mx",customProperties:["--ml","--mr"]},my:{type:"enum | string",values:Vn,responsive:!0,className:"rt-r-my",customProperties:["--mt","--mb"]},mt:{type:"enum | string",values:Vn,responsive:!0,className:"rt-r-mt",customProperties:["--mt"]},mr:{type:"enum | string",values:Vn,responsive:!0,className:"rt-r-mr",customProperties:["--mr"]},mb:{type:"enum | string",values:Vn,responsive:!0,className:"rt-r-mb",customProperties:["--mb"]},ml:{type:"enum | string",values:Vn,responsive:!0,className:"rt-r-ml",customProperties:["--ml"]}},Af=c.forwardRef((e,t)=>{const{children:n,className:r,asChild:s,as:o="h1",color:i,...a}=ht(e,VN,Yt);return c.createElement(fr,{"data-accent-color":i,...a,ref:t,className:ee("rt-Heading",r)},s?n:c.createElement(o,null,n))});Af.displayName="Heading";const KN=["span","div","label","p"],qN=["1","2","3","4","5","6","7","8","9"],XN={as:{type:"enum",values:KN,default:"span"},...Hn,size:{type:"enum",className:"rt-r-size",values:qN,responsive:!0},...xx,...yx,...vx,...Sx,...wx,...Co,...Eo},Bt=c.forwardRef((e,t)=>{const{children:n,className:r,asChild:s,as:o="span",color:i,...a}=ht(e,XN,Yt);return c.createElement(fr,{"data-accent-color":i,...a,ref:t,className:ee("rt-Text",r)},s?n:c.createElement(o,null,n))});Bt.displayName="Text";function QN(e){switch(e){case"tomato":case"red":case"ruby":case"crimson":case"pink":case"plum":case"purple":case"violet":return"mauve";case"iris":case"indigo":case"blue":case"sky":case"cyan":return"slate";case"teal":case"jade":case"mint":case"green":return"sage";case"grass":case"lime":return"olive";case"yellow":case"amber":case"orange":case"brown":case"gold":case"bronze":return"sand";case"gray":return"gray"}}const JN=["none","small","medium","large","full"],Ga={radius:{type:"enum",values:JN,default:void 0}},Xe={hasBackground:{default:!0},appearance:{default:"inherit"},accentColor:{default:"indigo"},grayColor:{default:"auto"},panelBackground:{default:"translucent"},radius:{default:"medium"},scaling:{default:"100%"}},yr=()=>{},Xu=c.createContext(void 0),Pf=c.forwardRef((e,t)=>c.useContext(Xu)===void 0?c.createElement(Xw,{delayDuration:200},c.createElement(i1,{dir:"ltr"},c.createElement(bx,{...e,ref:t}))):c.createElement(If,{...e,ref:t}));Pf.displayName="Theme";const bx=c.forwardRef((e,t)=>{const{appearance:n=Xe.appearance.default,accentColor:r=Xe.accentColor.default,grayColor:s=Xe.grayColor.default,panelBackground:o=Xe.panelBackground.default,radius:i=Xe.radius.default,scaling:a=Xe.scaling.default,hasBackground:l=Xe.hasBackground.default,...u}=e,[d,p]=c.useState(n);c.useEffect(()=>p(n),[n]);const[f,m]=c.useState(r);c.useEffect(()=>m(r),[r]);const[S,y]=c.useState(s);c.useEffect(()=>y(s),[s]);const[b,g]=c.useState(o);c.useEffect(()=>g(o),[o]);const[v,w]=c.useState(i);c.useEffect(()=>w(i),[i]);const[x,C]=c.useState(a);return c.useEffect(()=>C(a),[a]),c.createElement(If,{...u,ref:t,isRoot:!0,hasBackground:l,appearance:d,accentColor:f,grayColor:S,panelBackground:b,radius:v,scaling:x,onAppearanceChange:p,onAccentColorChange:m,onGrayColorChange:y,onPanelBackgroundChange:g,onRadiusChange:w,onScalingChange:C})});bx.displayName="ThemeRoot";const If=c.forwardRef((e,t)=>{const n=c.useContext(Xu),{asChild:r,isRoot:s,hasBackground:o,appearance:i=(n==null?void 0:n.appearance)??Xe.appearance.default,accentColor:a=(n==null?void 0:n.accentColor)??Xe.accentColor.default,grayColor:l=(n==null?void 0:n.resolvedGrayColor)??Xe.grayColor.default,panelBackground:u=(n==null?void 0:n.panelBackground)??Xe.panelBackground.default,radius:d=(n==null?void 0:n.radius)??Xe.radius.default,scaling:p=(n==null?void 0:n.scaling)??Xe.scaling.default,onAppearanceChange:f=yr,onAccentColorChange:m=yr,onGrayColorChange:S=yr,onPanelBackgroundChange:y=yr,onRadiusChange:b=yr,onScalingChange:g=yr,...v}=e,w=r?fr:"div",x=l==="auto"?QN(a):l,C=e.appearance==="light"||e.appearance==="dark",R=o===void 0?s||C:o;return c.createElement(Xu.Provider,{value:c.useMemo(()=>({appearance:i,accentColor:a,grayColor:l,resolvedGrayColor:x,panelBackground:u,radius:d,scaling:p,onAppearanceChange:f,onAccentColorChange:m,onGrayColorChange:S,onPanelBackgroundChange:y,onRadiusChange:b,onScalingChange:g}),[i,a,l,x,u,d,p,f,m,S,y,b,g])},c.createElement(w,{"data-is-root-theme":s?"true":"false","data-accent-color":a,"data-gray-color":x,"data-has-background":R?"true":"false","data-panel-background":u,"data-radius":d,"data-scaling":p,ref:t,...v,className:ee("radix-themes",{light:i==="light",dark:i==="dark"},v.className)}))});If.displayName="ThemeImpl";const Cx=e=>{if(!c.isValidElement(e))throw Error(`Expected a single React Element child, but got: ${c.Children.toArray(e).map(t=>typeof t=="object"&&"type"in t&&typeof t.type=="string"?t.type:typeof t).join(", ")}`);return e};function ZN(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const s=c.Children.only(r);return c.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}const eM=["1","2","3"],tM=["solid","soft","surface","outline"],nM={...Hn,size:{type:"enum",className:"rt-r-size",values:eM,default:"1",responsive:!0},variant:{type:"enum",className:"rt-variant",values:tM,default:"soft"},...Rf,...Eo,...Ga},la=c.forwardRef((e,t)=>{const{asChild:n,className:r,color:s,radius:o,...i}=ht(e,nM,Yt),a=n?fr:"span";return c.createElement(a,{"data-accent-color":s,"data-radius":o,...i,ref:t,className:ee("rt-reset","rt-Badge",r)})});la.displayName="Badge";const rM=fr,Wn=["0","1","2","3","4","5","6","7","8","9"],Si={p:{type:"enum | string",className:"rt-r-p",customProperties:["--p"],values:Wn,responsive:!0},px:{type:"enum | string",className:"rt-r-px",customProperties:["--pl","--pr"],values:Wn,responsive:!0},py:{type:"enum | string",className:"rt-r-py",customProperties:["--pt","--pb"],values:Wn,responsive:!0},pt:{type:"enum | string",className:"rt-r-pt",customProperties:["--pt"],values:Wn,responsive:!0},pr:{type:"enum | string",className:"rt-r-pr",customProperties:["--pr"],values:Wn,responsive:!0},pb:{type:"enum | string",className:"rt-r-pb",customProperties:["--pb"],values:Wn,responsive:!0},pl:{type:"enum | string",className:"rt-r-pl",customProperties:["--pl"],values:Wn,responsive:!0}},zl=["visible","hidden","clip","scroll","auto"],sM=["static","relative","absolute","fixed","sticky"],ys=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],oM=["0","1"],iM=["0","1"],aM=["start","center","end","baseline","stretch"],lM=["start","center","end","baseline","stretch"],uM={...Si,...wi,...mx,position:{type:"enum",className:"rt-r-position",values:sM,responsive:!0},inset:{type:"enum | string",className:"rt-r-inset",customProperties:["--inset"],values:ys,responsive:!0},top:{type:"enum | string",className:"rt-r-top",customProperties:["--top"],values:ys,responsive:!0},right:{type:"enum | string",className:"rt-r-right",customProperties:["--right"],values:ys,responsive:!0},bottom:{type:"enum | string",className:"rt-r-bottom",customProperties:["--bottom"],values:ys,responsive:!0},left:{type:"enum | string",className:"rt-r-left",customProperties:["--left"],values:ys,responsive:!0},overflow:{type:"enum",className:"rt-r-overflow",values:zl,responsive:!0},overflowX:{type:"enum",className:"rt-r-ox",values:zl,responsive:!0},overflowY:{type:"enum",className:"rt-r-oy",values:zl,responsive:!0},flexBasis:{type:"string",className:"rt-r-fb",customProperties:["--flex-basis"],responsive:!0},flexShrink:{type:"enum | string",className:"rt-r-fs",customProperties:["--flex-shrink"],values:oM,responsive:!0},flexGrow:{type:"enum | string",className:"rt-r-fg",customProperties:["--flex-grow"],values:iM,responsive:!0},gridArea:{type:"string",className:"rt-r-ga",customProperties:["--grid-area"],responsive:!0},gridColumn:{type:"string",className:"rt-r-gc",customProperties:["--grid-column"],responsive:!0},gridColumnStart:{type:"string",className:"rt-r-gcs",customProperties:["--grid-column-start"],responsive:!0},gridColumnEnd:{type:"string",className:"rt-r-gce",customProperties:["--grid-column-end"],responsive:!0},gridRow:{type:"string",className:"rt-r-gr",customProperties:["--grid-row"],responsive:!0},gridRowStart:{type:"string",className:"rt-r-grs",customProperties:["--grid-row-start"],responsive:!0},gridRowEnd:{type:"string",className:"rt-r-gre",customProperties:["--grid-row-end"],responsive:!0},alignSelf:{type:"enum",className:"rt-r-as",values:aM,responsive:!0},justifySelf:{type:"enum",className:"rt-r-js",values:lM,responsive:!0}},cM=["1","2","3","4"],dM=["classic","solid","soft","surface","outline","ghost"],Zp={...Hn,size:{type:"enum",className:"rt-r-size",values:cM,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:dM,default:"solid"},...Rf,...Eo,...Ga,loading:{type:"boolean",className:"rt-loading",default:!1}},Ul=["0","1","2","3","4","5","6","7","8","9"],fM={gap:{type:"enum | string",className:"rt-r-gap",customProperties:["--gap"],values:Ul,responsive:!0},gapX:{type:"enum | string",className:"rt-r-cg",customProperties:["--column-gap"],values:Ul,responsive:!0},gapY:{type:"enum | string",className:"rt-r-rg",customProperties:["--row-gap"],values:Ul,responsive:!0}},hM=["div","span"],pM=["none","inline-flex","flex"],mM=["row","column","row-reverse","column-reverse"],gM=["start","center","end","baseline","stretch"],vM=["start","center","end","between"],yM=["nowrap","wrap","wrap-reverse"],Ex={as:{type:"enum",values:hM,default:"div"},...Hn,display:{type:"enum",className:"rt-r-display",values:pM,responsive:!0},direction:{type:"enum",className:"rt-r-fd",values:mM,responsive:!0},align:{type:"enum",className:"rt-r-ai",values:gM,responsive:!0},justify:{type:"enum",className:"rt-r-jc",values:vM,parseValue:wM,responsive:!0},wrap:{type:"enum",className:"rt-r-fw",values:yM,responsive:!0},...fM};function wM(e){return e==="between"?"space-between":e}const Je=c.forwardRef((e,t)=>{const{className:n,asChild:r,as:s="div",...o}=ht(e,Ex,uM,Yt);return c.createElement(r?rM:s,{...o,ref:t,className:ee("rt-Flex",n)})});Je.displayName="Flex";const SM=["1","2","3"],xM={size:{type:"enum",className:"rt-r-size",values:SM,default:"2",responsive:!0},loading:{type:"boolean",default:!0}},Tx=c.forwardRef((e,t)=>{const{className:n,children:r,loading:s,...o}=ht(e,xM,Yt);if(!s)return r;const i=c.createElement("span",{...o,ref:t,className:ee("rt-Spinner",n)},c.createElement("span",{className:"rt-SpinnerLeaf"}),c.createElement("span",{className:"rt-SpinnerLeaf"}),c.createElement("span",{className:"rt-SpinnerLeaf"}),c.createElement("span",{className:"rt-SpinnerLeaf"}),c.createElement("span",{className:"rt-SpinnerLeaf"}),c.createElement("span",{className:"rt-SpinnerLeaf"}),c.createElement("span",{className:"rt-SpinnerLeaf"}),c.createElement("span",{className:"rt-SpinnerLeaf"}));return r===void 0?i:c.createElement(Je,{asChild:!0,position:"relative",align:"center",justify:"center"},c.createElement("span",null,c.createElement("span",{"aria-hidden":!0,style:{display:"contents",visibility:"hidden"},inert:void 0},r),c.createElement(Je,{asChild:!0,align:"center",justify:"center",position:"absolute",inset:"0"},c.createElement("span",null,i))))});Tx.displayName="Spinner";const _M=Uw;function Rx(e,t){if(e!==void 0)return typeof e=="string"?t(e):Object.fromEntries(Object.entries(e).map(([n,r])=>[n,t(r)]))}function bM(e){return e==="3"?"3":"2"}function CM(e){switch(e){case"1":return"1";case"2":case"3":return"2";case"4":return"3"}}const kx=c.forwardRef((e,t)=>{const{size:n=Zp.size.default}=e,{className:r,children:s,asChild:o,color:i,radius:a,disabled:l=e.loading,...u}=ht(e,Zp,Yt),d=o?fr:"button";return c.createElement(d,{"data-disabled":l||void 0,"data-accent-color":i,"data-radius":a,...u,ref:t,className:ee("rt-reset","rt-BaseButton",r),disabled:l},e.loading?c.createElement(c.Fragment,null,c.createElement("span",{style:{display:"contents",visibility:"hidden"},"aria-hidden":!0},s),c.createElement(_M,null,s),c.createElement(Je,{asChild:!0,align:"center",justify:"center",position:"absolute",inset:"0"},c.createElement("span",null,c.createElement(Tx,{size:Rx(n,CM)})))):s)});kx.displayName="BaseButton";const en=c.forwardRef(({className:e,...t},n)=>c.createElement(kx,{...t,ref:n,className:ee("rt-Button",e)}));en.displayName="Button";const EM=["1","2","3"],TM=["soft","surface","outline"],em={...Hn,size:{type:"enum",className:"rt-r-size",values:EM,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:TM,default:"soft"},...Rf,...Eo},Ax=c.createContext({}),Qu=c.forwardRef((e,t)=>{const{size:n=em.size.default}=e,{asChild:r,children:s,className:o,color:i,...a}=ht(e,em,Yt),l=r?fr:"div";return c.createElement(l,{"data-accent-color":i,...a,className:ee("rt-CalloutRoot",o),ref:t},c.createElement(Ax.Provider,{value:c.useMemo(()=>({size:n}),[n])},s))});Qu.displayName="Callout.Root";const RM=c.forwardRef(({className:e,...t},n)=>c.createElement("div",{...t,className:ee("rt-CalloutIcon",e),ref:n}));RM.displayName="Callout.Icon";const Ju=c.forwardRef(({className:e,...t},n)=>{const{size:r}=c.useContext(Ax);return c.createElement(Bt,{as:"p",size:Rx(r,bM),...t,asChild:!1,ref:n,className:ee("rt-CalloutText",e)})});Ju.displayName="Callout.Text";var Px=se;Px.dispatchDiscreteCustomEvent=ky;Px.Root=se;const kM=["1","2","3"],ws={...Hn,size:{values:kM,default:"1"},...Ga,scrollbars:{default:"both"}};function AM(e){const{m:t,mx:n,my:r,mt:s,mr:o,mb:i,ml:a,...l}=e;return{m:t,mx:n,my:r,mt:s,mr:o,mb:i,ml:a,rest:l}}const Yn=Yt.m.values;function PM(e){const[t,n]=vn({className:"rt-r-m",customProperties:["--margin"],propValues:Yn,value:e.m}),[r,s]=vn({className:"rt-r-mx",customProperties:["--margin-left","--margin-right"],propValues:Yn,value:e.mx}),[o,i]=vn({className:"rt-r-my",customProperties:["--margin-top","--margin-bottom"],propValues:Yn,value:e.my}),[a,l]=vn({className:"rt-r-mt",customProperties:["--margin-top"],propValues:Yn,value:e.mt}),[u,d]=vn({className:"rt-r-mr",customProperties:["--margin-right"],propValues:Yn,value:e.mr}),[p,f]=vn({className:"rt-r-mb",customProperties:["--margin-bottom"],propValues:Yn,value:e.mb}),[m,S]=vn({className:"rt-r-ml",customProperties:["--margin-left"],propValues:Yn,value:e.ml});return[ee(t,r,o,a,u,p,m),aa(n,s,i,l,d,f,S)]}const Ix=c.forwardRef((e,t)=>{const{rest:n,...r}=AM(e),[s,o]=PM(r),{asChild:i,children:a,className:l,style:u,type:d,scrollHideDelay:p=d!=="scroll"?0:void 0,dir:f,size:m=ws.size.default,radius:S=ws.radius.default,scrollbars:y=ws.scrollbars.default,...b}=n;return c.createElement(MN,{type:d,scrollHideDelay:p,className:ee("rt-ScrollAreaRoot",s,l),style:aa(o,u),asChild:i},ZN({asChild:i,children:a},g=>c.createElement(c.Fragment,null,c.createElement(jN,{...b,ref:t,className:"rt-ScrollAreaViewport"},g),c.createElement("div",{className:"rt-ScrollAreaViewportFocusRing"}),y!=="vertical"?c.createElement(Xp,{"data-radius":S,orientation:"horizontal",className:ee("rt-ScrollAreaScrollbar",ia({className:"rt-r-size",value:m,propValues:ws.size.values}))},c.createElement(Qp,{className:"rt-ScrollAreaThumb"})):null,y!=="horizontal"?c.createElement(Xp,{"data-radius":S,orientation:"vertical",className:ee("rt-ScrollAreaScrollbar",ia({className:"rt-r-size",value:m,propValues:ws.size.values}))},c.createElement(Qp,{className:"rt-ScrollAreaThumb"})):null,y==="both"?c.createElement(ON,{className:"rt-ScrollAreaCorner"}):null)))});Ix.displayName="ScrollArea";const Nx=e=>c.createElement(OS,{...e,modal:!0});Nx.displayName="Dialog.Root";const IM=c.forwardRef(({children:e,...t},n)=>c.createElement(DS,{...t,ref:n,asChild:!0},Cx(e)));IM.displayName="Dialog.Trigger";const Mx=c.forwardRef(({align:e,...t},n)=>{const{align:r,...s}=LN,{className:o}=ht({align:e},{align:r}),{className:i,forceMount:a,container:l,...u}=ht(t,s);return c.createElement(LS,{container:l,forceMount:a},c.createElement(Pf,{asChild:!0},c.createElement(Qd,{className:"rt-BaseDialogOverlay rt-DialogOverlay"},c.createElement("div",{className:"rt-BaseDialogScroll rt-DialogScroll"},c.createElement("div",{className:`rt-BaseDialogScrollPadding rt-DialogScrollPadding ${o}`},c.createElement(Jd,{...u,ref:n,className:ee("rt-BaseDialogContent","rt-DialogContent",i)}))))))});Mx.displayName="Dialog.Content";const jx=c.forwardRef((e,t)=>c.createElement(DI,{asChild:!0},c.createElement(Af,{size:"5",mb:"3",trim:"start",...e,asChild:!1,ref:t})));jx.displayName="Dialog.Title";const Ox=c.forwardRef((e,t)=>c.createElement(LI,{asChild:!0},c.createElement(Bt,{as:"p",size:"3",...e,asChild:!1,ref:t})));Ox.displayName="Dialog.Description";const Dx=c.forwardRef(({children:e,...t},n)=>c.createElement(BI,{...t,ref:n,asChild:!0},Cx(e)));Dx.displayName="Dialog.Close";const NM=["horizontal","vertical"],MM=["1","2","3","4"],jM={orientation:{type:"enum",className:"rt-r-orientation",values:NM,default:"horizontal",responsive:!0},size:{type:"enum",className:"rt-r-size",values:MM,default:"1",responsive:!0},color:{...Co.color,default:"gray"},decorative:{type:"boolean",default:!0}},Lx=c.forwardRef((e,t)=>{const{className:n,color:r,decorative:s,...o}=ht(e,jM,Yt);return c.createElement("span",{"data-accent-color":r,role:s?void 0:"separator",...o,ref:t,className:ee("rt-Separator",n)})});Lx.displayName="Separator";const OM=["1","2","3"],DM=["classic","surface","soft"],LM={size:{type:"enum",className:"rt-r-size",values:OM,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:DM,default:"surface"},...Co,...Ga},BM=["left","right"],FM={side:{type:"enum",values:BM},...Co,gap:Ex.gap,px:Si.px,pl:Si.pl,pr:Si.pr},yn=c.forwardRef((e,t)=>{const n=c.useRef(null),{children:r,className:s,color:o,radius:i,style:a,...l}=ht(e,LM,Yt);return c.createElement("div",{"data-accent-color":o,"data-radius":i,style:a,className:ee("rt-TextFieldRoot",s),onPointerDown:u=>{const d=u.target;if(d.closest("input, button, a"))return;const p=n.current;if(!p)return;const f=d.closest(`
            .rt-TextFieldSlot[data-side='right'],
            .rt-TextFieldSlot:not([data-side='right']) ~ .rt-TextFieldSlot:not([data-side='left'])
          `)?p.value.length:0;requestAnimationFrame(()=>{try{p.setSelectionRange(f,f)}catch{}p.focus()})}},c.createElement("input",{spellCheck:"false",...l,ref:Ma(n,t),className:"rt-reset rt-TextFieldInput"}),r)});yn.displayName="TextField.Root";const $M=c.forwardRef((e,t)=>{const{className:n,color:r,side:s,...o}=ht(e,FM);return c.createElement("div",{"data-accent-color":r,"data-side":s,...o,ref:t,className:ee("rt-TextFieldSlot",n)})});$M.displayName="TextField.Slot";function zM({appearance:e,onToggleAppearance:t,sessionKeys:n,sessionKey:r,onSessionSelect:s,onOpenConfig:o,onNewSession:i}){const a=e==="dark";return h.jsxs("aside",{className:a?"flex h-full min-h-0 flex-col border-r border-emerald-950/80 bg-[#03110d] p-4":"flex h-full min-h-0 flex-col border-r border-slate-200 bg-white p-4",children:[h.jsxs(Je,{justify:"between",align:"center",className:"mb-4",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("img",{src:"/icon.png",alt:"MicroClaw",className:"h-7 w-7 rounded-md border border-black/10 object-cover",loading:"eager",decoding:"async"}),h.jsx(Bt,{size:"5",weight:"bold",children:"MicroClaw"})]}),h.jsx("button",{type:"button",onClick:t,"aria-label":a?"Switch to light mode":"Switch to dark mode",className:a?"inline-flex h-8 w-8 items-center justify-center rounded-md border border-emerald-900/70 bg-emerald-950/50 text-slate-200 hover:bg-emerald-900/40":"inline-flex h-8 w-8 items-center justify-center rounded-md border border-slate-300 bg-white text-slate-700 hover:bg-slate-100",children:h.jsx("span",{className:"text-sm",children:a?"":""})})]}),h.jsx(Je,{direction:"column",gap:"2",className:"mb-4",children:h.jsx(en,{size:"2",variant:"solid",color:"green",onClick:i,children:"New Session"})}),h.jsx(Lx,{size:"4",className:"my-4"}),h.jsxs(Je,{justify:"between",align:"center",className:"mb-2",children:[h.jsx(Bt,{size:"2",weight:"medium",color:"gray",children:"Sessions"}),h.jsx(la,{variant:"surface",children:n.length})]}),h.jsx("div",{className:a?"min-h-0 flex-1 rounded-xl border border-emerald-950/60 bg-emerald-950/25 p-2":"min-h-0 flex-1 rounded-xl border border-slate-200 bg-slate-50/70 p-2",children:h.jsxs(Ix,{type:"auto",style:{height:"100%"},children:[h.jsx("div",{className:"mb-2",children:h.jsx(Bt,{size:"1",color:"gray",children:"Chats"})}),h.jsx("div",{className:"flex flex-col gap-1.5 pr-1",children:n.map(l=>h.jsx("button",{type:"button",onClick:()=>s(l),className:r===l?a?"flex w-full items-center rounded-lg border border-emerald-900/80 bg-emerald-950/70 px-3 py-2 text-left shadow-sm":"flex w-full items-center rounded-lg border border-slate-300 bg-white px-3 py-2 text-left shadow-sm":a?"flex w-full items-center rounded-lg border border-transparent px-3 py-2 text-left text-slate-300 hover:border-emerald-900/70 hover:bg-emerald-950/50":"flex w-full items-center rounded-lg border border-transparent px-3 py-2 text-left text-slate-600 hover:border-slate-200 hover:bg-white",children:h.jsx("span",{className:"max-w-[220px] truncate text-sm font-medium",children:l})},l))})]})}),h.jsx("div",{className:a?"mt-4 border-t border-emerald-950/40 pt-3":"mt-4 border-t border-slate-200 pt-3",children:h.jsx(en,{size:"2",variant:"soft",onClick:()=>void o(),style:{width:"100%"},children:"Runtime Config"})})]})}function Bx(){return localStorage.getItem("microclaw_appearance")==="light"?"light":"dark"}function UM(e){localStorage.setItem("microclaw_appearance",e)}typeof document<"u"&&document.documentElement.classList.toggle("dark",Bx()==="dark");function Fx(e={}){const t={...e.headers};return e.body&&!t["Content-Type"]&&(t["Content-Type"]="application/json"),t}async function wr(e,t={}){const n=await fetch(e,{...t,headers:Fx(t)}),r=await n.json().catch(()=>({}));if(!n.ok)throw new Error(String(r.error||r.message||`HTTP ${n.status}`));return r}async function*HM(e,t){if(!e.body)throw new Error("empty stream body");const n=e.body.getReader(),r=new TextDecoder;let s="",o="message",i=[];const a=()=>{if(i.length===0)return null;const u=i.join(`
`);i=[];let d={};try{d=JSON.parse(u)}catch{d={raw:u}}const p={event:o,payload:d};return o="message",p},l=u=>{if(u==="")return a();if(u.startsWith(":"))return null;const d=u.indexOf(":"),p=d>=0?u.slice(0,d):u;let f=d>=0?u.slice(d+1):"";return f.startsWith(" ")&&(f=f.slice(1)),p==="event"&&(o=f),p==="data"&&i.push(f),null};for(;;){if(t.aborted)return;const{done:u,value:d}=await n.read();for(s+=r.decode(d||new Uint8Array,{stream:!u});;){const p=s.indexOf(`
`);if(p<0)break;let f=s.slice(0,p);s=s.slice(p+1),f.endsWith("\r")&&(f=f.slice(0,-1));const m=l(f);m&&(yield m)}if(u){if(s.length>0){let f=s;f.endsWith("\r")&&(f=f.slice(0,-1));const m=l(f);m&&(yield m)}const p=a();p&&(yield p);return}}}function VM(e){for(let t=e.length-1;t>=0;t-=1){const n=e[t];if(n.role!=="user")continue;const r=n.content.map(s=>s.type==="text"?s.text:"").join(`
`).trim();if(r.length>0)return r}return""}function WM(e){return e.map((t,n)=>({id:t.id||`history-${n}`,role:t.is_from_bot?"assistant":"user",content:t.content||"",createdAt:t.timestamp?new Date(t.timestamp):new Date}))}function YM(){return`session-${new Date().toISOString().replace(/[-:TZ.]/g,"").slice(0,14)}`}function GM(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)?e:{}}function KM(e){try{return JSON.parse(JSON.stringify(e))}catch{return String(e)}}function tm(e){const t=KM(e);return typeof t=="object"&&t!==null&&!Array.isArray(t)?t:{}}function qM(e){if(typeof e=="string")return e;try{return JSON.stringify(e,null,2)}catch{return String(e)}}function XM(e){const t=GM(e.result),n=Object.keys(t).length>0,r=t.output,s=t.duration_ms,o=t.bytes,i=t.status_code,a=t.error_type;return h.jsxs("div",{className:"tool-card",children:[h.jsxs("div",{className:"tool-card-head",children:[h.jsx("span",{className:"tool-card-name",children:e.toolName}),h.jsx("span",{className:`tool-card-state ${n?e.isError?"error":"ok":"running"}`,children:n?e.isError?"error":"done":"running"})]}),Object.keys(e.args||{}).length>0?h.jsx("pre",{className:"tool-card-pre",children:JSON.stringify(e.args,null,2)}):null,n?h.jsxs("div",{className:"tool-card-meta",children:[typeof s=="number"?h.jsxs("span",{children:[s,"ms"]}):null,typeof o=="number"?h.jsxs("span",{children:[o,"b"]}):null,typeof i=="number"?h.jsxs("span",{children:["HTTP ",i]}):null,typeof a=="string"&&a?h.jsx("span",{children:a}):null]}):null,r!==void 0?h.jsx("pre",{className:"tool-card-pre",children:qM(r)}):null]})}function QM({adapter:e,initialMessages:t,runtimeKey:n}){const r=NE(e,{initialMessages:t,maxSteps:100});return h.jsx(vy,{runtime:r,children:h.jsx("div",{className:"aui-root h-full min-h-0",children:h.jsx(SN,{assistantMessage:{allowCopy:!0,allowReload:!1,allowSpeak:!1,allowFeedbackNegative:!1,allowFeedbackPositive:!1,components:{ToolFallback:XM}},userMessage:{allowEdit:!1},composer:{allowAttachments:!1},strings:{composer:{input:{placeholder:"Message MicroClaw..."}}}})})},n)}function JM(){const[e,t]=c.useState(Bx()),[n,r]=c.useState([]),[s,o]=c.useState([]),[i,a]=c.useState("main"),[l,u]=c.useState([]),[d,p]=c.useState({}),[f,m]=c.useState(0),[S,y]=c.useState(""),[b,g]=c.useState("Idle"),[v,w]=c.useState(""),[x,C]=c.useState(!1),[R,E]=c.useState(!1),[T,I]=c.useState(null),[k,j]=c.useState({}),[F,W]=c.useState(""),q=c.useMemo(()=>{const N=["main",...s,...n.map(ae=>ae.session_key)];return[...new Set(N)]},[n,s]);async function pe(){const N=await wr("/api/sessions");r(Array.isArray(N.sessions)?N.sessions:[])}async function Y(N=i){const ae=new URLSearchParams({session_key:N,limit:"200"}),oe=await wr(`/api/history?${ae.toString()}`),ke=Array.isArray(oe.messages)?oe.messages:[],Kt=WM(ke);u(Kt),p(ze=>({...ze,[N]:ke.length})),m(ze=>ze+1)}const J=c.useMemo(()=>({run:async function*(N){const ae=VM(N.messages);if(ae){C(!0),g("Sending..."),w(""),y("");try{const ke=(await wr("/api/send_stream",{method:"POST",body:JSON.stringify({session_key:i,sender_name:"web-user",message:ae}),signal:N.abortSignal})).run_id;if(!ke)throw new Error("missing run_id");const Kt=new URLSearchParams({run_id:ke}),ze=await fetch(`/api/stream?${Kt.toString()}`,{method:"GET",headers:Fx(),cache:"no-store",signal:N.abortSignal});if(!ze.ok){const Se=await ze.text().catch(()=>"");throw new Error(Se||`HTTP ${ze.status}`)}let qt="";const It=new Map,Xt=()=>{const Se=Array.from(It.entries()).map(([Ae,B])=>({type:"tool-call",toolCallId:Ae,toolName:B.name,args:B.args,argsText:JSON.stringify(B.args),...B.result?{result:B.result}:{},...B.isError!==void 0?{isError:B.isError}:{}}));return[...qt?[{type:"text",text:qt}]:[],...Se]};for await(const Se of HM(ze,N.abortSignal)){const Ae=Se.payload;if(Se.event==="replay_meta"){if(Ae.replay_truncated===!0){const B=typeof Ae.oldest_event_id=="number"?Ae.oldest_event_id:null,Ke=B!==null?`Stream history was truncated. Recovery resumed from event #${B}.`:"Stream history was truncated. Recovery resumed from the earliest available event.";w(Ke)}continue}if(Se.event==="status"){const B=typeof Ae.message=="string"?Ae.message:"";B&&g(B);continue}if(Se.event==="tool_start"){const B=Ae;if(!B.tool_use_id||!B.name)continue;It.set(B.tool_use_id,{name:B.name,args:tm(B.input)}),g(`tool: ${B.name}...`);const Ke=Xt();Ke.length>0&&(yield{content:Ke});continue}if(Se.event==="tool_result"){const B=Ae;if(!B.tool_use_id||!B.name)continue;const Ke=It.get(B.tool_use_id),Ka=tm({output:B.output??"",duration_ms:B.duration_ms??null,bytes:B.bytes??null,status_code:B.status_code??null,error_type:B.error_type??null});It.set(B.tool_use_id,{name:B.name,args:(Ke==null?void 0:Ke.args)??{},result:Ka,isError:!!B.is_error});const qa=typeof B.duration_ms=="number"?B.duration_ms:0,hr=typeof B.bytes=="number"?B.bytes:0;g(`tool: ${B.name} ${B.is_error?"error":"ok"} ${qa}ms ${hr}b`);const Nf=Xt();Nf.length>0&&(yield{content:Nf});continue}if(Se.event==="delta"){const B=typeof Ae.delta=="string"?Ae.delta:"";if(!B)continue;qt+=B;const Ke=Xt();Ke.length>0&&(yield{content:Ke});continue}if(Se.event==="error"){const B=typeof Ae.error=="string"?Ae.error:"stream error";throw new Error(B)}if(Se.event==="done"){g("Done");break}}}finally{C(!1),pe(),Y(i)}}}}),[i]);function A(){if((d[i]??l.length)===0){g("Current session is empty. Reuse this session.");return}const ae=YM();o(oe=>oe.includes(ae)?oe:[ae,...oe]),a(ae),p(oe=>({...oe,[ae]:0})),u([]),m(oe=>oe+1),w(""),y(""),g("Idle")}function O(){t(N=>N==="dark"?"light":"dark")}async function D(){try{await wr("/api/reset",{method:"POST",body:JSON.stringify({session_key:i})}),await Y(i),g("Session reset")}catch(N){y(N instanceof Error?N.message:String(N))}}async function Z(){var ae,oe,ke,Kt,ze,qt,It,Xt;W("");const N=await wr("/api/config");I(N.config||null),j({llm_provider:((ae=N.config)==null?void 0:ae.llm_provider)||"",model:((oe=N.config)==null?void 0:oe.model)||"",api_key:"",max_tokens:Number(((ke=N.config)==null?void 0:ke.max_tokens)??8192),max_tool_iterations:Number(((Kt=N.config)==null?void 0:Kt.max_tool_iterations)??100),show_thinking:!!((ze=N.config)!=null&&ze.show_thinking),web_enabled:!!((qt=N.config)!=null&&qt.web_enabled),web_host:String(((It=N.config)==null?void 0:It.web_host)||"127.0.0.1"),web_port:Number(((Xt=N.config)==null?void 0:Xt.web_port)??10961)}),E(!0)}async function fe(){try{const N={llm_provider:String(k.llm_provider||""),model:String(k.model||""),max_tokens:Number(k.max_tokens||8192),max_tool_iterations:Number(k.max_tool_iterations||100),show_thinking:!!k.show_thinking,web_enabled:!!k.web_enabled,web_host:String(k.web_host||"127.0.0.1"),web_port:Number(k.web_port||10961)},ae=String(k.api_key||"").trim();ae&&(N.api_key=ae),await wr("/api/config",{method:"PUT",body:JSON.stringify(N)}),W("Saved. Restart microclaw to apply changes.")}catch(N){W(`Save failed: ${N instanceof Error?N.message:String(N)}`)}}c.useEffect(()=>{UM(e),document.documentElement.classList.toggle("dark",e==="dark")},[e]),c.useEffect(()=>{(async()=>{try{y(""),await Promise.all([pe(),Y(i)])}catch(N){y(N instanceof Error?N.message:String(N))}})()},[]),c.useEffect(()=>{Y(i).catch(N=>y(N instanceof Error?N.message:String(N)))},[i]);const Gt=`${i}-${f}`;return h.jsx(Pf,{appearance:e,accentColor:"green",grayColor:"slate",radius:"medium",scaling:"100%",children:h.jsxs("div",{className:e==="dark"?"h-screen w-screen bg-[#02110d]":"h-screen w-screen bg-[radial-gradient(1200px_560px_at_-8%_-10%,#d1fae5_0%,transparent_58%),radial-gradient(1200px_560px_at_108%_-12%,#e0f2fe_0%,transparent_58%),#f8fafc]",children:[h.jsxs("div",{className:"grid h-full min-h-0 grid-cols-[320px_minmax(0,1fr)]",children:[h.jsx(zM,{appearance:e,onToggleAppearance:O,sessionKeys:q,sessionKey:i,onSessionSelect:a,onOpenConfig:Z,onNewSession:A}),h.jsxs("main",{className:e==="dark"?"flex h-full min-h-0 min-w-0 flex-col overflow-hidden bg-[#071a14]":"flex h-full min-h-0 min-w-0 flex-col overflow-hidden bg-white/95",children:[h.jsxs("header",{className:e==="dark"?"sticky top-0 z-10 border-b border-emerald-950/80 bg-[#071a14]/95 px-4 py-3 backdrop-blur-sm":"sticky top-0 z-10 border-b border-slate-200 bg-white/92 px-4 py-3 backdrop-blur-sm",children:[h.jsxs(Je,{justify:"between",align:"center",gap:"2",wrap:"wrap",children:[h.jsxs(Je,{align:"center",gap:"2",children:[h.jsx(Af,{size:"4",className:"capitalize",children:i}),h.jsx(la,{color:"teal",variant:"soft",children:"assistant-ui"}),h.jsx(la,{color:x?"green":"gray",variant:"surface",children:x?"Streaming":"Idle"})]}),h.jsxs(Je,{gap:"2",align:"center",children:[h.jsx(en,{size:"1",variant:"soft",onClick:()=>Y(i).catch(N=>y(N instanceof Error?N.message:String(N))),children:"Refresh"}),h.jsx(en,{size:"1",variant:"soft",color:"orange",onClick:D,children:"Reset Session"})]})]}),h.jsxs(Bt,{size:"1",color:"gray",className:"mt-1",children:["Status: ",b]})]}),h.jsxs("div",{className:e==="dark"?"flex min-h-0 flex-1 flex-col bg-[linear-gradient(to_bottom,#071a14,#02100c_28%)]":"flex min-h-0 flex-1 flex-col bg-[linear-gradient(to_bottom,#f8fafc,white_20%)]",children:[h.jsxs("div",{className:"mx-auto w-full max-w-5xl px-3 pt-3",children:[v?h.jsx(Qu,{color:"orange",size:"1",variant:"soft",children:h.jsx(Ju,{children:v})}):null,S?h.jsx(Qu,{color:"red",size:"1",variant:"soft",className:v?"mt-2":"",children:h.jsx(Ju,{children:S})}):null]}),h.jsx("div",{className:"min-h-0 flex-1 px-1 pb-1",children:h.jsx(QM,{adapter:J,initialMessages:l,runtimeKey:Gt},Gt)})]})]})]}),h.jsx(Nx,{open:R,onOpenChange:E,children:h.jsxs(Mx,{maxWidth:"640px",children:[h.jsx(jx,{children:"Runtime Config"}),h.jsx(Ox,{size:"2",mb:"3",children:"Save writes to microclaw.config.yaml. Restart is required."}),T?h.jsxs(Je,{direction:"column",gap:"2",children:[h.jsxs(Bt,{size:"2",color:"gray",children:["Current provider: ",String(T.llm_provider||"")]}),h.jsx(yn,{value:String(k.llm_provider||""),onChange:N=>j({...k,llm_provider:N.target.value}),placeholder:"llm_provider"}),h.jsx(yn,{value:String(k.model||""),onChange:N=>j({...k,model:N.target.value}),placeholder:"model"}),h.jsx(yn,{value:String(k.api_key||""),onChange:N=>j({...k,api_key:N.target.value}),placeholder:"api_key (leave blank to keep existing)"}),h.jsx(yn,{value:String(k.max_tokens||8192),onChange:N=>j({...k,max_tokens:N.target.value}),placeholder:"max_tokens"}),h.jsx(yn,{value:String(k.max_tool_iterations||100),onChange:N=>j({...k,max_tool_iterations:N.target.value}),placeholder:"max_tool_iterations"}),h.jsx(yn,{value:String(k.web_host||"127.0.0.1"),onChange:N=>j({...k,web_host:N.target.value}),placeholder:"web_host"}),h.jsx(yn,{value:String(k.web_port||10961),onChange:N=>j({...k,web_port:N.target.value}),placeholder:"web_port"}),h.jsxs(Je,{gap:"2",children:[h.jsxs(en,{variant:k.show_thinking?"solid":"soft",onClick:()=>j({...k,show_thinking:!k.show_thinking}),children:["show_thinking: ",k.show_thinking?"on":"off"]}),h.jsxs(en,{variant:k.web_enabled?"solid":"soft",onClick:()=>j({...k,web_enabled:!k.web_enabled}),children:["web_enabled: ",k.web_enabled?"on":"off"]})]}),F?h.jsx(Bt,{size:"2",color:F.startsWith("Save failed")?"red":"green",children:F}):null,h.jsxs(Je,{justify:"end",gap:"2",mt:"2",children:[h.jsx(Dx,{children:h.jsx(en,{variant:"soft",children:"Close"})}),h.jsx(en,{onClick:()=>void fe(),children:"Save"})]})]}):h.jsx(Bt,{size:"2",color:"gray",children:"Loading..."})]})})]})})}mv(document.getElementById("root")).render(h.jsx(JM,{}));
